"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[6817],{56817:function(t,a,e){e.r(a),e.d(a,{default:function(){return h}});var s=function(){var t=this,a=t._self._c;return a("section",{staticClass:"pc-container"},[a("div",{staticClass:"pcoded-content"},[a("div",{staticClass:"row mb-4"},[a("h5",[a("button",{staticClass:"btn btn-sm mr-2 btn-light",on:{click:t.goBack}},[a("i",{staticClass:"material-icons-two-tone text-dark"},[t._v("home")])]),a("span",{staticClass:"text-dark"},[t._v(t._s(t.tipoOficio))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"card shadow"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"table-responsive"},[a("table",{ref:"myDataTable",staticClass:"table",attrs:{id:"tabla"}},[t._m(0),a("tbody",t._l(t.trades,(function(e){return a("tr",{key:e.tra_id},[a("td",{staticClass:"pl-4"},[a("router-link",{attrs:{to:{name:"oficio/detalle",params:{id:e.tra_id}}}},[t._v(" "+t._s(e.tra_number)+" ")])],1),a("td",[t._v(t._s(e.tra_matter))]),a("td",[t._v(t._s(e.tra_arrival_date))]),e.assistant?a("td",[t._v(t._s(e.assistant.persona.nat_nombres))]):t._e(),e.lawyer?a("td",[t._v(t._s(e.lawyer.persona.nat_nombres)+" "+t._s(e.lawyer.persona.nat_apellido_paterno)+" "+t._s(e.lawyer.persona.nat_apellido_materno))]):t._e(),a("td",[t._v(t._s(e.tra_type_person))]),a("td",[t._v(t._s(e.area.are_name))]),a("td",{staticClass:"pr-5"},[t._v(" Hola ")])])})),0)])])])])])])])])},i=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("N° de Oficio")]),a("th",[t._v("Asunto")]),a("th",[t._v("Fecha de llegada")]),a("th",[t._v("Responsable")]),a("th",[t._v("Cargo")]),a("th",[t._v("Area")]),a("th",[t._v("Estado")])])])}],r=e(90740),o=e.n(r),n=e(2637),d=(e(25800),{name:"Buscar",props:["tipo_tra"],mixins:[n.A],mounted(){this.$nextTick((()=>{o().replace()})),this.cargarTrades()},data(){return{trades:[],dataTable:null,tipoOficio:null}},methods:{mostrarTipoTrade(){"pendAbogado"===this.tipo_tra?this.tipoOficio="Lista de expedientes pendientes de los abogados":"pendAsistente"===this.tipo_tra?this.tipoOficio="Lista de expedientes pendientes de los asistentes":"infoAdi"===this.tipo_tra?this.tipoOficio="Lista de expedientes que requieren Información Adicional":"revInmediata"===this.tipo_tra?this.tipoOficio="Lista de expedientes de revisión pendiente":"terminado"===this.tipo_tra?this.tipoOficio="Lista de expedientes finalizados":this.tipoOficio="Lista de expedientes totales"},async cargarTrades(){try{this.$showLoadingAlert(),this.mostrarTipoTrade();const t=await this.$getData("trade",this);if(this.trades=t.data,"pendAbogado"===this.tipo_tra)this.trades=this.trades.filter((t=>"P"===t.tra_state_law&&"ABOGADO"===t.tra_type_person));else if("pendAsistente"===this.tipo_tra)this.trades=this.trades.filter((t=>"P"===t.tra_state_law&&"ASISTENTE"===t.tra_type_person));else if("infoAdi"===this.tipo_tra)this.trades=this.trades.filter((t=>"V"===t.tra_state_mp));else if("terminado"===this.tipo_tra)this.trades=this.trades.filter((t=>"F"===t.tra_state_law));else if("revInmediata"===this.tipo_tra){const t=new Date;this.trades=this.trades.filter((a=>{const e=new Date(a.tra_arrival_date),s=Math.floor((t-e)/864e5);return s>15}))}await this.$waitForDataTableDraw(this,"myDataTable"),this.$closeLoadingAlert()}catch(t){this.$handleApiError(t,"cargar oficios")}},goBack(){this.$router.go(-1)}},watch:{tipo_tra:"cargarTrades"}}),l=d,_=e(81656),c=(0,_.A)(l,s,i,!1,null,"77de5d4e",null),h=c.exports},2637:function(t,a,e){var s=e(46587);a.A={methods:{async initDataTable(){this.destroyDataTable(),await this.$nextTick(),this.dataTable=s(this.$refs.myDataTable).DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}})},destroyDataTable(){this.dataTable&&this.dataTable.destroy()&&(this.dataTable=null)}},beforeDestroy(){this.destroyDataTable()}}}}]);
//# sourceMappingURL=6817.72bfe82c.js.map