"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[4798],{44798:function(t,s,a){a.r(s),a.d(s,{default:function(){return B}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"pc-container pb-4"},[s("div",{staticClass:"pcoded-content"},[s(t.mostrarOpcionAdmin?"CardPanelAdmin":"CardPanelUser",{tag:"component"}),"ABOGADO"===t.user.usu_rol?s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12"},[s("div",{staticClass:"card shadow rounded"},[s("div",{staticClass:"card-header border-0"},[t.mostrarOpcionAdmin?t._e():s("h6",{staticClass:"text-secondary p-0 m-0"},[t._v("Últimos expedientes asignados")])]),s("div",{staticClass:"card-body mx-0 px-0 mt-0 pt-0"},[s("div",{staticClass:"table-responsive"},["ABOGADO"===t.user.usu_rol||"ASISTENTE"===t.user.usu_rol?s("TablePanelUser"):t._e()],1)])])])]):t._e()],1)])},r=[],i=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"row pt-2 pb-3"},[s("div",{staticClass:"col-md-12"},["ASISTENTE"===t.userRole?s("h5",[t._v("Bienvenido! Asistente")]):t._e(),"ABOGADO"===t.userRole?s("h5",[t._v("Bienvenido! Abogado")]):t._e(),s("p",[t._v("A continuacion se muestra un resumen de sus actividades.")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card shadow"},[s("div",{staticClass:"card-body mr-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"d-flex"},[t._m(0),s("p",{staticClass:"text-dark"},[t._v("Tiene "),s("span",{staticClass:"fw-bold"},[t._v(t._s(t.trades.length))]),t._v(" oficios asignados")]),t._m(1)])]),t._m(2)])])])])])},l=[function(){var t=this,s=t._self._c;return s("span",{staticClass:"pc-micon text-primary px-2"},[s("i",{attrs:{"data-feather":"layers"}})])},function(){var t=this,s=t._self._c;return s("a",{staticClass:"px-2 ml-auto",attrs:{href:"#/oficio/asignados"}},[t._v(" Ver mas detalles "),s("i",{staticClass:"arrow-icon",attrs:{"data-feather":"arrow-right-circle"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"row"},[s("div",{staticClass:"d-flex"},[s("span",{staticClass:"pc-micon text-primary px-2"},[s("i",{attrs:{"data-feather":"bell"}})]),s("p",{staticClass:"text-dark"},[t._v("Tiene "),s("span",{staticClass:"fw-bold"},[t._v("DATA")]),t._v(" oficios con respuesta.")]),s("a",{staticClass:"px-2 ml-auto",attrs:{href:"#"}},[t._v(" Ver mas detalles "),s("i",{staticClass:"arrow-icon",attrs:{"data-feather":"arrow-right-circle"}})])])])}],o=a(90740),d=a.n(o),n={name:"CardPanelUser",created(){this.listTrades()},data(){return{trades:[]}},mounted(){this.$nextTick((()=>{d().replace()}))},computed:{userName(){return this.$store.getters.get__user.name},userRole(){return this.$store.getters.get__user.usu_rol},userAbogado(){return this.$store.getters.get__aboid}},methods:{async listTrades(){try{var t,s;"ABOGADO"===this.$store.getters.get__user.usu_rol&&(s={abo_id:this.$store.getters.get__user.abo_id},console.log("entro por abogado"),t=await this.$postData("lawyer/listTrades",this,s)),"ASISTENTE"===this.$store.getters.get__user.usu_rol&&(s={ass_id:this.$store.getters.get__user.ass_id},console.log("Usuario ASISTENTE:",this.$store.getters.get__user),console.log("entro por asistente"),t=await this.$postData("assistant/listTrades",this,s)),this.trades=t.data}catch(a){this.$handleApiError(a,"listar trades")}}}},c=n,_=a(81656),m=(0,_.A)(c,i,l,!1,null,"e9f39792",null),v=m.exports,h=function(){var t=this,s=t._self._c;return s("section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12"},[t._m(0),s("div",{staticClass:"card flat-card"},[s("div",{staticClass:"row-table"},[s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("router-link",{staticClass:"text-dark",attrs:{to:"oficio/registro"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("note_add")])]),s("div",{staticClass:"col-sm-8"},[s("span",[t._v("REGISTRAR")])])])])],1),s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("router-link",{staticClass:"text-dark",attrs:{to:"oficio/buscar"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("find_in_page")])]),s("div",{staticClass:"col-sm-8"},[s("span",[t._v("BUSCAR")])])])])],1),s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("router-link",{staticClass:"text-dark",attrs:{to:"#"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("gavel")])]),s("div",{staticClass:"col-sm-8"},[s("span",[t._v("ABOGADOS")])])])])],1),s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("router-link",{staticClass:"text-dark",attrs:{to:"#"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("person")])]),s("div",{staticClass:"col-sm-8"},[s("span",[t._v("ASISTENTES")])])])])],1)])])])]),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12"},[t._m(1),s("div",{staticClass:"card flat-card"},[s("div",{staticClass:"row-table"},[s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"#"}},[s("span",{staticClass:"text-dark fw-bold"},[t._v(" ABOGADOS ")]),s("p",{directives:[{name:"show",rawName:"v-show",value:0===t.numbertradesObsAbo,expression:"numbertradesObsAbo === 0"}],staticClass:"mb-3 mt-3 text-success"},[s("i",{attrs:{"data-feather":"check-circle"}}),t._v(" No hay expedientes por atender")]),s("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.numbertradesObsAbo,expression:"numbertradesObsAbo !== 0"}],staticClass:"mb-3 mt-3 text-warning"},[s("i",{attrs:{"data-feather":"alert-circle"}}),t._v(" Hay "+t._s(t.numbertradesObsAbo)+" expedientes por atender")])])]),s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"#"}},[s("span",{staticClass:"text-dark fw-bold"},[t._v(" ASISTENTES ")]),s("p",{directives:[{name:"show",rawName:"v-show",value:0===t.numbertradesObsAss,expression:"numbertradesObsAss === 0"}],staticClass:"mb-3 mt-3 text-success"},[s("i",{attrs:{"data-feather":"check-circle"}}),t._v(" No hay expedientes por atender")]),s("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.numbertradesObsAss,expression:"numbertradesObsAss !== 0"}],staticClass:"mb-3 mt-3 text-warning"},[s("i",{attrs:{"data-feather":"alert-circle"}}),t._v(" Hay "+t._s(t.numbertradesObsAss)+" expedientes por atender")])])])])])])]),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12"},[t._m(2),s("div",{staticClass:"card flat-card"},[s("div",{staticClass:"row-table"},[s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradeTotal}},[s("div",{staticClass:"row"},[t._m(3),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.trades.length))]),s("span",[t._v("DOCUMENTOS REGISTRADOS EN EL SISTEMA")])])])])]),s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradePendienteAbogados}},[s("div",{staticClass:"row"},[t._m(4),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesPendAbogados))]),s("span",[t._v("DOCUMENTOS DERIVADOS A ABOGADOS")])])])])]),s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradePendienteAsistentes}},[s("div",{staticClass:"row"},[t._m(5),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesPendAsistentes))]),s("span",[t._v("DOCUMENTOS DERIVADOS A ASISTENTES")])])])])])]),s("div",{staticClass:"row-table"},[s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradeInfAdi}},[s("div",{staticClass:"row"},[t._m(6),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesInfAdi))]),s("span",[t._v("DOCUMENTOS DERIVADOS A OTRA ÁREA PARA INFORMACIÓN")])])])])]),s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradeTerminado}},[s("div",{staticClass:"row"},[t._m(7),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesFin))]),s("span",[t._v("DOCUMENTOS ATENDIDOS (CON INFORME)")])])])])]),s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradeRevInmediata}},[s("div",{staticClass:"row"},[t._m(8),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesTradios))]),s("span",[t._v("¡ DOCUMENTOS CON RETRASO DE ATENCIÓN !")])])])])])])])])])])},u=[function(){var t=this,s=t._self._c;return s("span",{staticClass:"text-primary fw-bold d-flex align-items-center"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("menu")]),t._v("MENU")])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"text-primary fw-bold d-flex align-items-center"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("notifications")]),t._v("NOTIFICACIONES")])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"text-primary fw-bold d-flex align-items-center"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("folder")]),t._v("RESUMEN DE EXPEDIENTES")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("computer")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("assignment_ind")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("contact_page")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("snippet_folder")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("text_snippet")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("watch_later")])])}],p=(a(44114),a(34061)),b={name:"CardPanelAdmin",created(){this.listTrades()},mounted(){this.$nextTick((()=>{d().replace()}))},data(){return{trades:[],numbertradesPendAbogados:0,numbertradesPendAsistentes:0,numbertradesInfAdi:0,numbertradesFin:0,numbertradesTradios:0,numbertradesObsAbo:0,numbertradesObsAss:0}},methods:{async listTrades(){try{const t=await(0,p.bQ)("trade",this);this.trades=t.data;const s=this.trades.filter((t=>"P"===t.tra_state_law&&"ABOGADO"===t.tra_type_person)),a=this.trades.filter((t=>"P"===t.tra_state_law&&"ASISTENTE"===t.tra_type_person));this.numbertradesPendAbogados=s.length,this.numbertradesPendAsistentes=a.length;const e=this.trades.filter((t=>"F"===t.tra_state_law));this.numbertradesFin=e.length;const r=this.trades.filter((t=>"V"===t.tra_state_mp));this.numbertradesInfAdi=r.length;const i=this.trades.filter((t=>"V"===t.tra_obs&&"ABOGADO"===t.tra_type_person));this.numbertradesObsAbo=i.length;const l=this.trades.filter((t=>"V"===t.tra_obs&&"ASISTENTE"===t.tra_type_person));this.numbertradesObsAss=l.length;const o=new Date,d=this.trades.filter((t=>{const s=new Date(t.tra_arrival_date),a=Math.floor((o-s)/864e5);return a>15}));this.numbertradesTradios=d.length}catch(t){this.$handleApiError(t,"listar trades")}finally{this.$closeLoadingAlert()}},tradeTotal(){this.$router.push({name:"trade/lista",params:{tipo_tra:""}})},tradePendienteAbogados(){this.$router.push({name:"trade/lista",params:{tipo_tra:"pendAbogado"}})},tradePendienteAsistentes(){this.$router.push({name:"trade/lista",params:{tipo_tra:"pendAsistente"}})},tradeInfAdi(){this.$router.push({name:"trade/lista",params:{tipo_tra:"infoAdi"}})},tradeTerminado(){this.$router.push({name:"trade/lista",params:{tipo_tra:"terminado"}})},tradeRevInmediata(){this.$router.push({name:"trade/lista",params:{tipo_tra:"revInmediata"}})}}},C=b,A=(0,_.A)(C,h,u,!1,null,"4f8de24e",null),f=A.exports,g=function(){var t=this,s=t._self._c;return s("table",{staticClass:"table",attrs:{"aria-describedby":"table-home"}},[t._m(0),s("tbody",t._l(t.last5Trades,(function(a){return s("tr",{key:a.tra_id},[s("td",{staticClass:"pl-4"},[s("router-link",{attrs:{to:{name:"oficio/detalle",params:{id:a.tra_id}}}},[t._v(" "+t._s(a.tra_number)+" ")])],1),s("td",[t._v(t._s(a.tra_matter))]),s("td",[t._v(t._s(a.tra_arrival_date))]),a.assistant?s("td",[t._v(t._s(a.assistant.persona.nat_nombres))]):t._e(),a.lawyer?s("td",[t._v(t._s(a.lawyer.persona.nat_nombres)+" "+t._s(a.lawyer.persona.nat_apellido_paterno)+" "+t._s(a.lawyer.persona.nat_apellido_materno))]):t._e(),s("td",[t._v(t._s(a.tra_type_person))]),s("td",[t._v(t._s(a.area.are_name))]),"P"===a.tra_state_law?s("td",{staticClass:"pr-5"},[s("span",{class:t.badgeClassOficio(a.tra_state_law)},[t._v(" Pendiente ")])]):t._e(),"F"===a.tra_state_law?s("td",{staticClass:"pr-5"},[s("span",{class:t.badgeClassOficio(a.tra_state_law)},[t._v(" Terminado ")])]):t._e()])})),0)])},w=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"pl-4"},[t._v("N° de Expediente")]),s("th",[t._v("Asunto")]),s("th",[t._v("Fecha de llegada")]),s("th",[t._v("Responsable")]),s("th",[t._v("Cargo")]),s("th",[t._v("Area")]),s("th",[t._v("Estado")])])])}],x=a(25800),T={name:"TablePanelAdmin",created(){this.listTrades()},data(){return{trades:[]}},computed:{last5Trades(){return this.trades.slice(-5)}},mounted(){this.$nextTick((()=>{d().replace()}))},methods:{async listTrades(){try{this.$showLoadingAlert();const t=await(0,p.bQ)("trade",this);this.trades=t.data}catch(t){this.$handleApiError(t,"listar trades")}finally{this.$closeLoadingAlert()}},badgeClassOficio:x.H1}},y=T,O=(0,_.A)(y,g,w,!1,null,"6046718f",null),E=O.exports,S=function(){var t=this,s=t._self._c;return s("div",[s("table",{staticClass:"table",attrs:{"aria-describedby":"table-home"}},[t._m(0),0!=t.trades.length?s("tbody",t._l(t.last5Trades,(function(a){return s("tr",{key:a.tra_id},[s("td",{staticClass:"pl-4"},[s("router-link",{attrs:{to:"#"}},[t._v(" "+t._s(a.tra_number)+" ")])],1),s("td",[t._v(t._s(a.tra_matter))]),s("td",[t._v(t._s(a.tra_arrival_date))]),s("td",[t._v(t._s(a.area.are_name))]),s("td",{staticClass:"pr-5"},[t._v(" Hola ")])])})),0):t._e()]),0===t.trades.length?s("div",[s("p",{staticClass:"text-center"},[t._v("No se han asignado oficios por ahora")])]):t._e()])},N=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"pl-4"},[t._v("N° de Oficio")]),s("th",[t._v("Asunto")]),s("th",[t._v("Fecha de llegada")]),s("th",[t._v("Area")]),s("th",[t._v("Estado")])])])}],k={name:"TablePanelUser",created(){this.listTrades()},data(){return{trades:[]}},computed:{last5Trades(){return this.trades.slice(-5)}},mounted(){this.$nextTick((()=>{d().replace()}))},methods:{async listTrades(){try{var t,s;"ABOGADO"===this.$store.getters.get__user.usu_rol&&(s={abo_id:this.$store.getters.get__user.abo_id},console.log("entro por abogado"),t=await this.$postData("lawyer/listTrades",this,s)),"ASISTENTE"===this.$store.getters.get__user.usu_rol&&(s={ass_id:this.$store.getters.get__user.ass_id},console.log("Usuario ASISTENTE:",this.$store.getters.get__user),console.log("entro por asistente"),t=await this.$postData("assistant/listTrades",this,s)),this.trades=t.data}catch(a){this.$handleApiError(a,"listar trades")}finally{this.$closeLoadingAlert()}}}},$=k,D=(0,_.A)($,S,N,!1,null,"2475be74",null),I=D.exports,P={name:"Panel",components:{CardPanelUser:v,CardPanelAdmin:f,TablePanelAdmin:E,TablePanelUser:I},created(){this.getUser()},data(){return{user:[]}},computed:{rol(){return this.$store.getters.get__user.usu_rol},mostrarOpcionAdmin(){return"ADMIN"===this.rol||"SECRETARIA"===this.rol}},mounted(){this.$nextTick((()=>{d().replace()}))},methods:{async getUser(){this.$showLoadingAlert(),this.user=this.$store.getters.get__user}}},R=P,U=(0,_.A)(R,e,r,!1,null,"544dc268",null),B=U.exports}}]);
//# sourceMappingURL=4798.f9e01af2.js.map