"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[38],{86038:function(e,a,t){t.r(a),t.d(a,{default:function(){return B}});var r=function(){var e=this,a=e._self._c;return a("section",{staticClass:"mt-3"},[1===e.currentPart?a("RegistroGeneral",{attrs:{exp:e.exp,ismultiple:e.ismultiple},on:{siguienteParte:e.siguienteParte,guardardatosgenerales:e.guardardatosgenerales,guardarmultiple:e.guardarmultiple}}):e._e(),2===e.currentPart&&"0"==e.ismultiple?a("RegistroProcesal",{attrs:{pn:e.pn,pj:e.pj,dir:e.dir,tipopersona:e.tipopersona,condicion:e.condicion,procesal:e.procesal,ismultiple:e.ismultiple},on:{guardarpn:e.guardarpn,guardarpj:e.guardarpj,guardardir:e.guardardir,anteriorParte:e.anteriorParte,siguienteParte:e.siguienteParte,guardartipopersona:e.guardartipopersona,guardarprocesal:e.guardarprocesal,guardarcondicion:e.guardarcondicion}}):e._e(),2===e.currentPart&&"1"==e.ismultiple?a("RegistroProcesalMultiple",{attrs:{Personas:e.Personas},on:{anteriorParte:e.anteriorParte,siguienteParte:e.siguienteParte,guardarpersonas:e.guardarpersonas}}):e._e(),3===e.currentPart?a("RegistroAsignacion",{attrs:{abo_id:e.abo_id,abo_name:e.abo_name},on:{guardaraboid:e.guardaraboid,guardaraboname:e.guardaraboname,InsertData:e.InsertData,anteriorParte:e.anteriorParte}}):e._e()],1)},s=[],o=(t(44114),t(98355)),i=function(){var e=this,a=e._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow rounded"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row d-flex align-items-center"},[a("div",{staticClass:"col-lg-6 col-md-auto col-sm-12"},[a("h5",[e._v("Datos Generales")]),a("div",{staticClass:"form-check form-switch py-2"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",role:"switch",id:"flexSwitchCheckChecked"},domProps:{checked:"0"!=e.isMultiple},on:{change:e.mtdChangeMultiple}}),a("label",{staticClass:"form-check-label",attrs:{for:"flexSwitchCheckChecked"}},[e._v(e._s("1"==e.isMultiple?"Multiple Denunciante":"Un Solo Denunciado"))])])]),a("div",{staticClass:"col-lg-6 col-md-auto col-sm-12"})])]),a("div",{staticClass:"card-body mb-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("N° de Proceso Penal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_numero,expression:"datosgenerales.exp_numero"}],staticClass:"form-control",class:{"has-error":e.errores.exp_numero},attrs:{type:"text",placeholder:"5670-2017-0-1708-JM-LA-01"},domProps:{value:e.datosgenerales.exp_numero},on:{input:[function(a){a.target.composing||e.$set(e.datosgenerales,"exp_numero",a.target.value)},function(a){return e.validarCampo("exp_numero")}]}}),e.errores.exp_numero?a("span",{staticClass:"error-message"},[e._v("Ingrese un numero de expediente.")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Fecha de Inicio")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_fecha_inicio,expression:"datosgenerales.exp_fecha_inicio"}],staticClass:"form-control",class:{"has-error":e.errores.exp_fecha_inicio},attrs:{type:"date"},domProps:{value:e.datosgenerales.exp_fecha_inicio},on:{input:[function(a){a.target.composing||e.$set(e.datosgenerales,"exp_fecha_inicio",a.target.value)},function(a){return e.validarCampo("exp_fecha_inicio")}]}}),e.errores.exp_fecha_inicio?a("span",{staticClass:"error-message"},[e._v("Ingrese una fecha de inicio.")]):e._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v(" Tipificación del Delito")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_pretencion,expression:"datosgenerales.exp_pretencion"}],staticClass:"form-control",class:{"has-error":e.errores.exp_pretencion},attrs:{type:"text"},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.datosgenerales,"exp_pretencion",a.target.multiple?t:t[0])},function(a){return e.validarCampo("exp_pretencion")}]}},[a("option",{staticClass:"text-secondary",attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción ")]),e._l(e.pretenciones,(function(t){return a("option",{key:t.pre_id,domProps:{value:t.pre_id}},[e._v(e._s(t.pre_nombre))])}))],2),e.errores.exp_pretencion?a("span",{staticClass:"error-message"},[e._v("Seleccione una Pretension.")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Monto de Reparación Civil")]),a("div",{staticClass:"input-group"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_monto_pretencion,expression:"datosgenerales.exp_monto_pretencion"}],staticClass:"form-control",class:{"has-error":e.errores.exp_monto_pretencion},attrs:{type:"number",placeholder:"5500.00"},domProps:{value:e.datosgenerales.exp_monto_pretencion},on:{input:[function(a){a.target.composing||e.$set(e.datosgenerales,"exp_monto_pretencion",a.target.value)},function(a){return e.validarCampo("exp_monto_pretencion")}]}})]),e.errores.exp_monto_pretencion?a("span",{staticClass:"error-message"},[e._v("Ingrese un monto de pretension.")]):e._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Delito")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_materia,expression:"datosgenerales.exp_materia"}],staticClass:"form-control",class:{"has-error":e.errores.exp_materia},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.datosgenerales,"exp_materia",a.target.multiple?t:t[0])},function(a){return e.validarCampo("exp_materia")}]}},[a("option",{staticClass:"py-5",attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),e._l(e.materias,(function(t){return a("option",{key:t.mat_id,staticClass:"py-3",domProps:{value:t.mat_id}},[e._v(" "+e._s(t.mat_nombre)+" ")])}))],2),e.errores.exp_materia?a("span",{staticClass:"error-message"},[e._v("Seleccione una Materia.")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Distrito Fiscal")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_distrito_judicial,expression:"datosgenerales.exp_distrito_judicial"}],staticClass:"form-control",class:{"has-error":e.errores.exp_distrito_judicial},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.datosgenerales,"exp_distrito_judicial",a.target.multiple?t:t[0])},e.cargarinstancias]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),e._l(e.distritos,(function(t){return a("option",{domProps:{value:t.judis_id}},[e._v(" "+e._s(t.judis_nombre)+" ")])}))],2),e.errores.exp_distrito_judicial?a("span",{staticClass:"error-message"},[e._v("Seleccione un Distrito Judicial.")]):e._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Etapa Procesal")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_instancia,expression:"datosgenerales.exp_instancia"}],staticClass:"form-control",class:{"has-error":e.errores.exp_instancia},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.datosgenerales,"exp_instancia",a.target.multiple?t:t[0])},e.cargarespecialidades]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),e._l(e.instancia,(function(t){return a("option",{domProps:{value:t.ins_id}},[e._v(" "+e._s(t.ins_nombre)+" ")])}))],2),e.errores.exp_instancia?a("span",{staticClass:"error-message"},[e._v("Seleccione una Instancia.")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Tipo Proceso")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_especialidad,expression:"datosgenerales.exp_especialidad"}],staticClass:"form-control",class:{"has-error":e.errores.exp_especialidad},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.datosgenerales,"exp_especialidad",a.target.multiple?t:t[0])},function(a){return e.validarCampo("exp_especialidad")}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),e._l(e.especialidad,(function(t){return a("option",{domProps:{value:t.esp_id}},[e._v(" "+e._s(t.esp_nombre)+" ")])}))],2),e.errores.exp_especialidad?a("span",{staticClass:"error-message"},[e._v("Seleccione una Especialidad.")]):e._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label mb-1"},[e._v("Sala Penal")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_juzgado,expression:"datosgenerales.exp_juzgado"}],staticClass:"form-control",class:{"has-error":e.errores.exp_juzgado},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.datosgenerales,"exp_juzgado",a.target.multiple?t:t[0])},function(a){return e.validarCampo("exp_juzgado")}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),e._l(e.juzgados,(function(t){return a("option",{key:t.co_id,domProps:{value:t.co_id}},[e._v(" "+e._s(t.co_nombre)+" ")])}))],2),e.errores.exp_juzgado?a("span",{staticClass:"error-message"},[e._v("Seleccione....")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label mb-1"},[e._v("Estado:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_estado_proceso,expression:"datosgenerales.exp_estado_proceso"}],staticClass:"form-control",class:{"has-error":e.errores.exp_estado_proceso},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.datosgenerales,"exp_estado_proceso",a.target.multiple?t:t[0])},function(a){return e.validarCampo("exp_estado_proceso")}]}},[a("option",{staticClass:"py-5",attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),a("option",{attrs:{value:"EN INVESTIGACION"}},[e._v("Investigación preparatoria")]),a("option",{attrs:{value:"EN EJECUCION"}},[e._v("En Ejecución")]),a("option",{attrs:{value:"ARCHIVADO"}},[e._v("Archivado")])]),e.errores.exp_estado_proceso?a("span",{staticClass:"error-message"},[e._v("Selecione un estado para el Expediente.")]):e._e()])])]),"EN EJECUCION"==e.datosgenerales.exp_estado_proceso||"ARCHIVADO"==e.datosgenerales.exp_estado_proceso?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"MontoPretencion"}},[e._v("Reparación Civil 1")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_monto_ejecucion1,expression:"datosgenerales.exp_monto_ejecucion1"}],staticClass:"form-control",attrs:{type:"number",id:"MontoPretencion",placeholder:"S/ 5500.00"},domProps:{value:e.datosgenerales.exp_monto_ejecucion1},on:{input:function(a){a.target.composing||e.$set(e.datosgenerales,"exp_monto_ejecucion1",a.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"MontoConsentido"}},[e._v("Reparacion Civil 2")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_monto_ejecucion2,expression:"datosgenerales.exp_monto_ejecucion2"}],staticClass:"form-control",attrs:{type:"number",id:"MontoConsentido",placeholder:"S/ 5000.00"},domProps:{value:e.datosgenerales.exp_monto_ejecucion2},on:{input:function(a){a.target.composing||e.$set(e.datosgenerales,"exp_monto_ejecucion2",a.target.value)}}})])])]):e._e(),"EN EJECUCION"==e.datosgenerales.exp_estado_proceso||"ARCHIVADO"==e.datosgenerales.exp_estado_proceso?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"Costos"}},[e._v("Interés 1")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_interes1,expression:"datosgenerales.exp_interes1"}],staticClass:"form-control",attrs:{type:"number",id:"int1",placeholder:"S/ 450.00"},domProps:{value:e.datosgenerales.exp_interes1},on:{input:function(a){a.target.composing||e.$set(e.datosgenerales,"exp_interes1",a.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"MontoPretencion"}},[e._v("Interés 2")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_interes2,expression:"datosgenerales.exp_interes2"}],staticClass:"form-control",attrs:{type:"number",id:"int2",placeholder:"S/ 500.00"},domProps:{value:e.datosgenerales.exp_interes2},on:{input:function(a){a.target.composing||e.$set(e.datosgenerales,"exp_interes2",a.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"MontoPretencion"}},[e._v("Costos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.datosgenerales.exp_costos,expression:"datosgenerales.exp_costos"}],staticClass:"form-control",attrs:{type:"number",id:"Costos",placeholder:"S/ 2500.00"},domProps:{value:e.datosgenerales.exp_costos},on:{input:function(a){a.target.composing||e.$set(e.datosgenerales,"exp_costos",a.target.value)}}})])])]):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 d-flex justify-content-end"},[a("button",{staticClass:"btn btn-primary btn-lg rounded",attrs:{type:"button"},on:{click:e.siguienteParte}},[e._v(" Siguiente "),a("i",{attrs:{"data-feather":"arrow-right"}})])])])])])])])},n=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-white border-1"},[e._v("S/.")])])}],l=t(90740),c=t.n(l),d=t(34061),p=(t(11530),t(4874)),_=t.n(p),u={name:"RegistroGeneral",props:{exp:{},ismultiple:""},created(){this.isMultiple=this.ismultiple,this.listarMaterias(),this.listarPretensiones(),this.datosgenerales=this.exp,this.cargarinstancias(),this.cargarespecialidades(),this.cargarjuzgados(),this.cargardistritos()},mounted(){this.$nextTick((()=>{c().replace()}))},data(){return{isMultiple:"",distritos:[],instancia:[],especialidad:[],materias:[],pretenciones:[],distritos:[],juzgados:[],datosgenerales:{exp_numero:"",exp_fecha_inicio:"",exp_pretencion:"",exp_materia:"",exp_distrito_judicial:"",exp_instancia:"",exp_especialidad:"",exp_monto_pretencion:"",exp_juzgado:"",exp_estado_proceso:"",exp_costos:"",exp_monto_ejecucion1:"",exp_monto_ejecucion2:"",exp_interes1:"",exp_interes2:""},selectedFile:null,fileError:"",errores:{file:!1,exp_numero:!1,exp_fecha_inicio:!1,exp_pretencion:!1,exp_monto_pretencion:!1,exp_materia:!1,exp_distrito_judicial:!1,exp_instancia:!1,exp_especialidad:!1,exp_juzgado:!1,exp_estado_proceso:!1}}},methods:{async listarMaterias(){try{const e=await(0,d.bQ)("subject",this);this.materias=e.data}catch(e){this.$handleApiError(e,"listar materias")}},async listarPretensiones(){try{const e=await(0,d.bQ)("claim",this);this.pretenciones=e.data}catch(e){this.$handleApiError(e,"listar pretensiones")}},async cargardistritos(){try{const e=await(0,d.bQ)("judicialdistrict",this);this.distritos=e.data}catch(e){this.$handleApiError(e,"listar distritos judiciales")}},async cargarjuzgados(){if(this.datosgenerales.exp_distrito_judicial)try{const e={judis_id:this.datosgenerales.exp_distrito_judicial},a=await(0,d.LS)("juzgado",this,e);this.juzgados=a.data}catch(e){this.$handleApiError(e,"listar organos jurisdiccionales")}},async cargarinstancias(){if(this.datosgenerales.exp_distrito_judicial)try{const e=await(0,d.bQ)("instance",this);this.instancia=e.data,this.cargarjuzgados()}catch(e){this.$handleApiError(e,"listar instancias")}},async cargarespecialidades(){if(this.datosgenerales.exp_distrito_judicial)try{const e=await(0,d.bQ)("specialty",this);this.especialidad=e.data}catch(e){this.$handleApiError(e,"listar especialidades")}},getJuzgadoNombre(e){return e.co_nombre?e.co_nombre.toUpperCase():""},onFileChange(e){this.selectedFile=e.target.files[0]},uploadFile(){if(!this.selectedFile)return void _().fire({icon:"warning",title:"",text:"Tiene que seleccionar un archivo para cargar datos."});let e;e=_().fire({title:" Cargando Datos",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});const a=new FormData;a.append("excel",this.selectedFile),this.$axios.post(`${this.$store.getters.get__url}/excel/cargar`,a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${this.$store.getters.get__token}`},params:this.archivo}).then((a=>{console.log(a.data),e&&e.close(),_().fire({title:"Datos Cargados Correctamente",text:`Las filas que tuvieron error  son: ${a.data.data.join(", ")}`,icon:"success",allowOutsideClick:!1,showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"}).then((e=>{e.isConfirmed&&(this.$refs.fileInput.value=null,this.selectedFile=null,this.$router.push({path:"/sisge/expediente/busqueda"}))}))})).catch((a=>{_().fire({icon:"error",title:"Error al cargar datos",text:`Ha ocurrido un error al cargar el archivo:${a.response.data.message}`}),e&&e.close(),console.error(a)}))},validarCampo(e){this.errores[e]=""===this.datosgenerales[e]},validarCampos(){return Object.keys(this.errores).forEach((e=>{this.validarCampo(e,e)})),!Object.values(this.errores).some((e=>e))},siguienteParte(){this.validarCampos()?(this.$emit("guardardatosgenerales",this.datosgenerales),this.$emit("guardarmultiple",this.isMultiple),this.$emit("siguienteParte")):console.log("error")},mtdChangeMultiple(){this.isMultiple="1"==this.isMultiple?"0":"1"}}},m=u,v=t(81656),h=(0,v.A)(m,i,n,!1,null,"dc11e74e",null),g=h.exports,f=function(){var e=this,a=e._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow"},[e._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Tipo de parte procesal")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.tipo_procesal,expression:"tipo_procesal"}],staticClass:"form-control",class:{"has-error":e.errores.tipo_procesal},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.tipo_procesal=a.target.multiple?t:t[0]},function(a){return e.validarSelect("tipo_procesal")}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),a("option",{attrs:{value:"DENUNCIANTE"}},[e._v("DENUNCIANTE")]),a("option",{attrs:{value:"DENUNCIADO"}},[e._v("DENUNCIADO")])]),e.errores.tipo_procesal?a("span",{staticClass:"text-danger"},[e._v("Seleccione el Tipo de Parte Procesal.")]):e._e()])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Tipo de persona")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.tipo_persona,expression:"tipo_persona"}],staticClass:"form-control",class:{"has-error":e.errores.tipo_persona},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.tipo_persona=a.target.multiple?t:t[0]},function(a){return e.validarSelect("tipo_persona")}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),a("option",{attrs:{value:"NATURAL"}},[e._v("Persona Natural")]),a("option",{attrs:{value:"JURIDICA"}},[e._v("Persona Juridica")])]),e.errores.tipo_persona?a("span",{staticClass:"text-danger"},[e._v("Seleccione el Tipo de Persona.")]):e._e()])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Condición de procesal")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.condicion1,expression:"condicion1"}],staticClass:"form-control",class:{"has-error":e.errores.condicion1},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.condicion1=a.target.multiple?t:t[0]},function(a){return e.validarSelect("condicion1")}]}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),a("option",{attrs:{value:"DOCENTE UNIVERSITARIO",selected:""}},[e._v("Docente Universitario")]),a("option",{attrs:{value:"ESTUDIANTE"}},[e._v("Estudiante")]),a("option",{attrs:{value:"ADMINISTRATIVO"}},[e._v("Administrativo")]),a("option",{attrs:{value:"TERCERO"}},[e._v("Tercero")])]),e.errores.condicion1?a("span",{staticClass:"text-danger"},[e._v("Seleccione condicion del demandante.")]):e._e()])])]),e._m(1),"NATURAL"===e.tipo_persona?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"dni"}},[e._v("DNI")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pnat.nat_dni,expression:"pnat.nat_dni"}],staticClass:"form-control",class:{"has-error":e.errores.nat_dni},attrs:{type:"text",id:"dni",placeholder:"12345678"},domProps:{value:e.pnat.nat_dni},on:{keyup:function(a){return e.filterpersona()},input:[function(a){a.target.composing||e.$set(e.pnat,"nat_dni",a.target.value)},function(a){return e.validarCampo("nat_dni")}]}}),e.errores.nat_dni?a("span",{staticClass:"text-danger"},[e._v("Ingrese DNI.")]):e._e()])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Apellido Paterno")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pnat.nat_apellido_paterno,expression:"pnat.nat_apellido_paterno"}],staticClass:"form-control",class:{"has-error":e.errores.nat_apellido_paterno},attrs:{type:"text",placeholder:"Alarcon"},domProps:{value:e.pnat.nat_apellido_paterno},on:{input:[function(a){a.target.composing||e.$set(e.pnat,"nat_apellido_paterno",a.target.value)},function(a){return e.validarCampo("nat_apellido_paterno")}]}}),e.errores.nat_apellido_paterno?a("span",{staticClass:"text-danger"},[e._v("Ingrese Apellido Paterno")]):e._e()])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Apellido Materno")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pnat.nat_apellido_materno,expression:"pnat.nat_apellido_materno"}],staticClass:"form-control",class:{"has-error":e.errores.nat_apellido_materno},attrs:{type:"text",placeholder:"Ramirez"},domProps:{value:e.pnat.nat_apellido_materno},on:{input:[function(a){a.target.composing||e.$set(e.pnat,"nat_apellido_materno",a.target.value)},function(a){return e.validarCampo("nat_apellido_materno")}]}}),e.errores.nat_apellido_materno?a("span",{staticClass:"text-danger"},[e._v(" Ingrese Apellido Materno. ")]):e._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Nombres")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pnat.nat_nombres,expression:"pnat.nat_nombres"}],staticClass:"form-control",class:{"has-error":e.errores.nat_nombres},attrs:{type:"text",placeholder:"Jhon Doe"},domProps:{value:e.pnat.nat_nombres},on:{input:[function(a){a.target.composing||e.$set(e.pnat,"nat_nombres",a.target.value)},function(a){return e.validarCampo("nat_nombres")}]}}),e.errores.nat_nombres?a("span",{staticClass:"text-danger"},[e._v(" Ingrese Nombre. ")]):e._e()])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Telefono")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pnat.nat_telefono,expression:"pnat.nat_telefono"}],staticClass:"form-control",attrs:{type:"text",placeholder:"980560345"},domProps:{value:e.pnat.nat_telefono},on:{input:function(a){a.target.composing||e.$set(e.pnat,"nat_telefono",a.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Email ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pnat.nat_correo,expression:"pnat.nat_correo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"example@gmail.com"},domProps:{value:e.pnat.nat_correo},on:{input:function(a){a.target.composing||e.$set(e.pnat,"nat_correo",a.target.value)}}})])])])]):e._e(),"JURIDICA"===e.tipo_persona?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"ruc"}},[e._v("RUC")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pj.jur_ruc,expression:"pj.jur_ruc"}],staticClass:"form-control",class:{"has-error":e.errores.jur_ruc},attrs:{type:"text",id:"ruc",placeholder:""},domProps:{value:e.pj.jur_ruc},on:{keyup:function(a){return e.filterpersona()},input:[function(a){a.target.composing||e.$set(e.pj,"jur_ruc",a.target.value)},function(a){return e.validarCampo("jur_ruc")}]}}),e.errores.jur_ruc?a("span",{staticClass:"text-danger"},[e._v(" Ingrese RUC. ")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"razonSocial"}},[e._v("Nombre o Razon Social")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pj.jur_razon_social,expression:"pj.jur_razon_social"}],staticClass:"form-control",class:{"has-error":e.errores.jur_razon_social},attrs:{type:"text",id:"razonSocial",placeholder:""},domProps:{value:e.pj.jur_razon_social},on:{input:[function(a){a.target.composing||e.$set(e.pj,"jur_razon_social",a.target.value)},function(a){return e.validarCampo("jur_razon_social")}]}}),e.errores.jur_razon_social?a("span",{staticClass:"text-danger"},[e._v(" Ingrese la Razon Social. ")]):e._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"telefono"}},[e._v("Telefono")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pj.jur_telefono,expression:"pj.jur_telefono"}],staticClass:"form-control",attrs:{type:"text",id:"telefono",placeholder:""},domProps:{value:e.pj.jur_telefono},on:{input:function(a){a.target.composing||e.$set(e.pj,"jur_telefono",a.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"email"}},[e._v("Email ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pj.jur_correo,expression:"pj.jur_correo"}],staticClass:"form-control",attrs:{type:"text",id:"email",placeholder:""},domProps:{value:e.pj.jur_correo},on:{input:function(a){a.target.composing||e.$set(e.pj,"jur_correo",a.target.value)}}})])])])]):e._e(),e._m(2),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"departamento"}},[e._v("Departamento")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.direccion.dep_id,expression:"direccion.dep_id"}],staticClass:"form-control",class:{"has-error":e.errores.dep_id},attrs:{id:"departamento"},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.direccion,"dep_id",a.target.multiple?t:t[0])},e.cargarProvincias]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Seleccione una opción")]),e._l(e.departamentos,(function(t){return a("option",{domProps:{value:t.dep_id}},[e._v(e._s(t.dep_nombre)+" ")])}))],2),e.errores.dep_id?a("span",{staticClass:"text-danger"},[e._v(" Seleccione un Departamento. ")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"provincia"}},[e._v("Provincia")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.direccion.pro_id,expression:"direccion.pro_id"}],staticClass:"form-control",class:{"has-error":e.errores.pro_id},attrs:{id:"provincia"},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.direccion,"pro_id",a.target.multiple?t:t[0])},e.cargarDistritos]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Seleccione una opción")]),e._l(e.provincias,(function(t){return a("option",{domProps:{value:t.pro_id}},[e._v(e._s(t.pro_nombre))])}))],2),e.errores.pro_id?a("span",{staticClass:"text-danger"},[e._v(" Seleccione una Provincia. ")]):e._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"distrito"}},[e._v("Distrito")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.direccion.dis_id,expression:"direccion.dis_id"}],staticClass:"form-control",class:{"has-error":e.errores.dis_id},attrs:{id:"distrito"},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.direccion,"dis_id",a.target.multiple?t:t[0])},function(a){return e.validarCampo("dis_id")}]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Seleccione una opción")]),e._l(e.distritos,(function(t){return a("option",{domProps:{value:t.dis_id}},[e._v(e._s(t.dis_nombre)+" ")])}))],2),e.errores.dis_id?a("span",{staticClass:"text-danger"},[e._v(" Seleccione un Distrito. ")]):e._e()])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"calleAvenida"}},[e._v("Calle, Avenida, Mz, S/N")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.direccion.dir_calle_av,expression:"direccion.dir_calle_av"}],staticClass:"form-control",class:{"has-error":e.errores.dir_calle_av},attrs:{type:"text",id:"calleAvenida",placeholder:"Av. Peru 2345"},domProps:{value:e.direccion.dir_calle_av},on:{input:[function(a){a.target.composing||e.$set(e.direccion,"dir_calle_av",a.target.value)},function(a){return e.validarCampo("dir_calle_av")}]}}),e.errores.dir_calle_av?a("span",{staticClass:"text-danger"},[e._v(" Ingrese una Calle, Avenida o S/N. ")]):e._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-secondary btn-lg rounded",attrs:{type:"button"},on:{click:e.anteriorParte}},[a("i",{attrs:{"data-feather":"arrow-left"}}),e._v(" Anterior")]),a("button",{staticClass:"btn btn-primary btn-lg rounded ml-2",attrs:{type:"button"},on:{click:e.siguienteParte}},[e._v(" Siguiente"),a("i",{attrs:{"data-feather":"arrow-right"}})])])])])])])])])},C=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"card-header"},[a("h5",{staticClass:"text-secondary"},[e._v("Partes Procesales")])])},function(){var e=this,a=e._self._c;return a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-primary text-primary",attrs:{role:"alert"}},[e._v(" Informacion Personal ")])])])},function(){var e=this,a=e._self._c;return a("div",{staticClass:"row my-2"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-primary text-primary",attrs:{role:"alert"}},[e._v(" Direccion ")])])])}],b={name:"RegistroProcesal",props:{pn:{},pj:{},dir:{},tipopersona:"",procesal:"",condicion:""},data(){return{esPersonaNatural:!0,departamentos:[],provincias:[],distritos:[],direccion:{dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},pnat:{nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:""},pjuc:{jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:""},tipo_procesal:"",tipo_persona:"",condicion1:"",errores:{tipo_procesal:!1,tipo_persona:!1,condicion1:!1,nat_dni:!1,nat_apellido_paterno:!1,nat_apellido_materno:!1,nat_nombres:!1,jur_ruc:!1,jur_razon_social:!1,dep_id:!1,pro_id:!1,dis_id:!1,dir_calle_av:!1}}},async created(){this.pnat=this.pn,this.pjuc=this.pj,this.direccion=this.dir,this.tipo_persona=this.tipopersona,this.condicion1=this.condicion1,""==this.tipo_persona&&(this.tipo_persona="NATURAL"),"NATURAL"==this.tipo_persona?this.tipo_persona="NATURAL":this.tipo_persona="JURIDICA",this.tipo_procesal=this.procesal,""==this.tipo_procesal&&(this.tipo_procesal="DEMANDANTE"),"DEMANDANTE"==this.tipo_procesal?this.tipo_procesal="DEMANDANTE":this.tipo_procesal="DEMANDADO",await this.cargarDepartamentos(),this.direccion.dep_id&&await this.cargarProvincias(),this.direccion.pro_id&&await this.cargarDistritos()},mounted(){this.$nextTick((()=>{c().replace()})),this.formData=this.$store.getters.getFormData},methods:{async cargarDepartamentos(){try{const e=await(0,d.bQ)("department",this);this.departamentos=e.data,this.provincias=[],this.distritos=[]}catch(e){this.$handleApiError(e,"cargar departamentos")}},async cargarProvincias(){if(this.direccion.pro_id="",this.direccion.dis_id="",this.provincias=[],this.distritos=[],this.validarCampo("dep_id"),this.direccion.dep_id)try{const e={dep_id:this.direccion.dep_id},a=await(0,d.LS)("department/provincias",this,e);this.provincias=a.data}catch(e){this.$handleApiError(e,"cargar provincias")}},async cargarDistritos(){if(this.direccion.dis_id="",this.distritos=[],this.validarCampo("pro_id"),this.direccion.pro_id)try{const e={pro_id:this.direccion.pro_id},a=await(0,d.LS)("department/distritos",this,e);this.distritos=a.data}catch(e){this.$handleApiError(e,"cargar provincias")}},validarSelect(e){this.errores[e]=""===this[e]},validarSelects(){return this.validarSelect("tipo_procesal"),this.validarSelect("tipo_persona"),this.validarSelect("condicion1"),!Object.values(this.errores).some((e=>e))},validarCampo(e){"NATURAL"===this.tipo_persona&&(this.errores[e]=""===this.direccion[e]||""===this.pnat[e]),"JURIDICA"===this.tipo_persona&&(this.errores[e]=""===this.direccion[e]||""===this.pjuc[e])},validarCampos(){return Object.keys(this.errores).forEach((e=>{this.validarCampo(e,e)})),!Object.values(this.errores).some((e=>e))},emitirEventos(){this.$emit("guardarpn",this.pnat),this.$emit("guardarpj",this.pjuc),this.$emit("guardardir",this.direccion),this.$emit("guardartipopersona",this.tipo_persona),this.$emit("guardarprocesal",this.tipo_procesal),this.$emit("guardarcondicion",this.condicion1)},anteriorParte(){this.$emit("anteriorParte"),this.emitirEventos()},siguienteParte(){this.validarCampos()&&this.validarSelects()&&(this.emitirEventos(),this.$emit("siguienteParte"))},async filterpersona(){let e;if("NATURAL"==this.tipo_persona){if(8===this.pnat.nat_dni.length){e=_().fire({title:"Buscando",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});try{const a=await o.A.post(`${this.$store.getters.get__url}/proceeding/filterprocesal`,{doc:this.pnat.nat_dni,tipo:this.tipo_persona},{headers:{Authorization:`Bearer ${this.$store.getters.get__token}`}});e&&e.close(),0==a.data.state?(_().fire("Datos Encontrados","Ok","success"),this.pnat.nat_apellido_paterno=a.data.data.nat_apellido_paterno,this.pnat.nat_apellido_materno=a.data.data.nat_apellido_materno,this.pnat.nat_nombres=a.data.data.nat_nombres,this.pnat.nat_telefono=a.data.data.nat_telefono,this.pnat.nat_correo=a.data.data.nat_correo,this.direccion.dep_id=a.data.dir.dep_id,this.cargarProvincias(),this.direccion.pro_id=a.data.dir.pro_id,this.cargarDistritos(),this.direccion.dis_id=a.data.dir.dis_id,this.direccion.dir_calle_av=a.data.dir.dir_calle_av):(_().fire("Datos No encontrados","Registre","warning"),this.direccion={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},this.pnat.nat_apellido_paterno="",this.pnat.nat_apellido_materno="",this.pnat.nat_nombres="",this.pnat.nat_telefono="",this.pnat.nat_correo="")}catch(a){e&&e.close(),_().fire("Datos No encontrados","Registre","warning"),this.direccion={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},this.pnat.nat_apellido_paterno="",this.pnat.nat_apellido_materno="",this.pnat.nat_nombres="",this.pnat.nat_telefono="",this.pnat.nat_correo="",this.handleError("Error al actualizar el expediente",a)}}}else if(11===this.pj.jur_ruc.length){e=_().fire({title:"Buscando",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});try{const a=await o.A.post(`${this.$store.getters.get__url}/proceeding/filterprocesal`,{doc:this.pj.jur_ruc,tipo:this.tipo_persona},{headers:{Authorization:`Bearer ${this.$store.getters.get__token}`}});e&&e.close(),0==a.data.state?(_().fire("Datos Encontrados","Ok","success"),this.pjuc.jur_razon_social=a.data.data.jur_razon_social,this.pjuc.jur_telefono=a.data.data.jur_telefono,this.pjuc.jur_correo=a.data.data.jur_correo,this.pjuc.jur_rep_legal=a.data.data.jur_rep_legal,this.direccion.dep_id=a.data.dir.dep_id,this.cargarProvincias(),this.direccion.pro_id=a.data.dir.pro_id,this.cargarDistritos(),this.direccion.dis_id=a.data.dir.dis_id,this.direccion.dir_calle_av=a.data.dir.dir_calle_av):(_().fire("Datos No encontrados","Registre","warning"),this.direccion={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},this.pjuc.jur_razon_social="",this.pjuc.jur_telefono="",this.pjuc.jur_correo="",this.pjuc.jur_rep_legal="")}catch(a){e&&e.close(),_().fire("Datos No encontrados","Registre","warning"),this.direccion={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},this.pjuc.jur_razon_social="",this.pjuc.jur_telefono="",this.pjuc.jur_correo="",this.pjuc.jur_rep_legal="",this.handleError("Error al actualizar el expediente",a)}}}}},x=b,j=(0,v.A)(x,f,C,!1,null,"90cd5a52",null),y=j.exports,P=function(){var e=this,a=e._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow rounded"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row d-flex align-items-center"},[e._m(0),a("div",{staticClass:"col-xl-6 col-sm-12"},[a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn btn-outline-primary btn-lg rounded px-5",attrs:{type:"button"},on:{click:e.mostrarModal}},[e._v(" Lista ")])])])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Tipo de parte procesal")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.procesal.procesal,expression:"procesal.procesal"}],staticClass:"form-control",on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.procesal,"procesal",a.target.multiple?t:t[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),a("option",{attrs:{value:"DENUNCIANTE"}},[e._v("DENUNCIANTE")]),a("option",{attrs:{value:"DENUNCIADO"}},[e._v("DENUNCIADO")])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Tipo de persona")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.procesal.tipo,expression:"procesal.tipo"}],staticClass:"form-control",on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.procesal,"tipo",a.target.multiple?t:t[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),a("option",{attrs:{value:"NATURAL"}},[e._v("Persona Natural")]),a("option",{attrs:{value:"JURIDICA"}},[e._v("Persona Juridica")])])])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Condición de demandante")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.procesal.condicion,expression:"procesal.condicion"}],staticClass:"form-control",on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.procesal,"condicion",a.target.multiple?t:t[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione una opción")]),a("option",{attrs:{value:"DOCENTE UNIVERSITARIO"}},[e._v("Docente Universitario")]),a("option",{attrs:{value:"ESTUDIANTE"}},[e._v("Estudiante")]),a("option",{attrs:{value:"ADMINISTRATIVO"}},[e._v("Administrativo")]),a("option",{attrs:{value:"TERCERO"}},[e._v("Tercero")])])])])]),""!=e.procesal.tipo?a("div",{staticClass:"row mb-3"},[e._m(1)]):e._e(),"NATURAL"==e.procesal.tipo?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"dni"}},[e._v("DNI")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.nat_dni,expression:"procesal.nat_dni"}],staticClass:"form-control",attrs:{type:"text",id:"dni",placeholder:"12345678"},domProps:{value:e.procesal.nat_dni},on:{keyup:function(a){return e.filterpersona()},input:function(a){a.target.composing||e.$set(e.procesal,"nat_dni",a.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Apellido Paterno")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.nat_apellido_paterno,expression:"procesal.nat_apellido_paterno"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Alarcon"},domProps:{value:e.procesal.nat_apellido_paterno},on:{input:function(a){a.target.composing||e.$set(e.procesal,"nat_apellido_paterno",a.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Apellido Materno")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.nat_apellido_materno,expression:"procesal.nat_apellido_materno"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ramirez"},domProps:{value:e.procesal.nat_apellido_materno},on:{input:function(a){a.target.composing||e.$set(e.procesal,"nat_apellido_materno",a.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Nombres")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.nat_nombres,expression:"procesal.nat_nombres"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Jhon Doe"},domProps:{value:e.procesal.nat_nombres},on:{input:function(a){a.target.composing||e.$set(e.procesal,"nat_nombres",a.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Telefono")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.nat_telefono,expression:"procesal.nat_telefono"}],staticClass:"form-control",attrs:{type:"text",placeholder:"980560345"},domProps:{value:e.procesal.nat_telefono},on:{input:function(a){a.target.composing||e.$set(e.procesal,"nat_telefono",a.target.value)}}})])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[e._v("Email ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.nat_correo,expression:"procesal.nat_correo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"example@gmail.com"},domProps:{value:e.procesal.nat_correo},on:{input:function(a){a.target.composing||e.$set(e.procesal,"nat_correo",a.target.value)}}})])])])]):e._e(),"JURIDICA"==e.procesal.tipo?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"ruc"}},[e._v("RUC")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.jur_ruc,expression:"procesal.jur_ruc"}],staticClass:"form-control",attrs:{type:"text",id:"ruc",placeholder:""},domProps:{value:e.procesal.jur_ruc},on:{keyup:function(a){return e.filterpersona()},input:function(a){a.target.composing||e.$set(e.procesal,"jur_ruc",a.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"razonSocial"}},[e._v("Nombre o Razon Social")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.jur_razon_social,expression:"procesal.jur_razon_social"}],staticClass:"form-control",attrs:{type:"text",id:"razonSocial",placeholder:""},domProps:{value:e.procesal.jur_razon_social},on:{input:function(a){a.target.composing||e.$set(e.procesal,"jur_razon_social",a.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"telefono"}},[e._v("Telefono")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.jur_telefono,expression:"procesal.jur_telefono"}],staticClass:"form-control",attrs:{type:"text",id:"telefono",placeholder:""},domProps:{value:e.procesal.jur_telefono},on:{input:function(a){a.target.composing||e.$set(e.procesal,"jur_telefono",a.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"email"}},[e._v("Email ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.jur_correo,expression:"procesal.jur_correo"}],staticClass:"form-control",attrs:{type:"text",id:"email",placeholder:""},domProps:{value:e.procesal.jur_correo},on:{input:function(a){a.target.composing||e.$set(e.procesal,"jur_correo",a.target.value)}}})])])])]):e._e(),e._m(2),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"departamento"}},[e._v("Departamento")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.procesal.dep_id,expression:"procesal.dep_id"}],staticClass:"form-control",attrs:{id:"departamento"},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.procesal,"dep_id",a.target.multiple?t:t[0])},e.cargarProvinciasConRetraso]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Seleccione una opción")]),e._l(e.departamentos,(function(t){return a("option",{domProps:{value:t.dep_id}},[e._v(e._s(t.dep_nombre)+" ")])}))],2)])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"provincia"}},[e._v("Provincia")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.procesal.pro_id,expression:"procesal.pro_id"}],staticClass:"form-control",attrs:{id:"provincia"},on:{change:[function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.procesal,"pro_id",a.target.multiple?t:t[0])},e.cargarDistritosConRetraso]}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Seleccione una opción")]),e._l(e.provincias,(function(t){return a("option",{domProps:{value:t.pro_id}},[e._v(e._s(t.pro_nombre))])}))],2)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"distrito"}},[e._v("Distrito")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.procesal.dis_id,expression:"procesal.dis_id"}],staticClass:"form-control",attrs:{id:"distrito"},on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.procesal,"dis_id",a.target.multiple?t:t[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Seleccione una opción")]),e._l(e.distritos,(function(t){return a("option",{domProps:{value:t.dis_id}},[e._v(e._s(t.dis_nombre)+" ")])}))],2)])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"calleAvenida"}},[e._v("Calle, Avenida, Mz, S/N")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.procesal.dir_calle_av,expression:"procesal.dir_calle_av"}],staticClass:"form-control",attrs:{type:"text",id:"calleAvenida",placeholder:"Av. Peru 2345"},domProps:{value:e.procesal.dir_calle_av},on:{input:function(a){a.target.composing||e.$set(e.procesal,"dir_calle_av",a.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-success btn-lg rounded px-4",on:{click:e.addPart}},[e._v(" "+e._s(null===e.editingIndex?"Guardar":"Actualizar")+" ")]),a("button",{staticClass:"btn btn-secondary btn-lg rounded mx-2",attrs:{type:"button"},on:{click:e.anteriorParte}},[a("i",{attrs:{"data-feather":"arrow-left"}}),e._v(" Anterior")]),a("button",{staticClass:"btn btn-primary btn-lg rounded",attrs:{type:"button"},on:{click:e.siguienteParte}},[e._v(" Siguiente"),a("i",{attrs:{"data-feather":"arrow-right"}})])])])])])])]),e.showModal?a("div",{staticClass:"modal",on:{click:e.cerrarModal}},[a("div",{staticClass:"modal-content card border-0",on:{click:function(e){e.stopPropagation()}}},[e._m(3),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table",attrs:{id:"table"}},[e._m(4),a("tbody",e._l(e.personas,(function(t,r){return a("tr",{key:r},[a("td",{staticClass:"pl-4"},[e._v(e._s(r+1))]),a("td",[e._v(e._s(t.nat_dni||t.jur_ruc))]),a("td",[e._v(e._s(t.nat_nombres||t.jur_razon_social))]),a("td",[e._v(e._s(t.nat_telefono||t.jur_telefono))]),a("td",[e._v(e._s(t.nat_correo||t.jur_correo))]),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.editarPersona(r)}}},[e._v("Editar")]),a("a",{staticClass:"ml-2 text-danger",attrs:{href:"javascript:void(0)"},on:{click:function(a){return e.eliminarPersona(r)}}},[e._v(" Eliminar")])])])})),0)])])]),a("div",{staticClass:"card-footer border-0 pt-2 pb-4"},[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-secondary btn-lg ml-auto px-5 rounded",on:{click:e.cerrarModal}},[e._v("Cerrar")])])])])]):e._e()])},w=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"col-xl-6 col-sm-12"},[a("h5",[e._v(" Registrar Partes Procesales Multiples")])])},function(){var e=this,a=e._self._c;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-primary text-primary",attrs:{role:"alert"}},[e._v(" Informacion Personal ")])])},function(){var e=this,a=e._self._c;return a("div",{staticClass:"row my-2"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"alert alert-primary text-primary",attrs:{role:"alert"}},[e._v(" Direccion ")])])])},function(){var e=this,a=e._self._c;return a("div",{staticClass:"card-header"},[a("h5",{staticClass:"text-center"},[e._v("Lista de Demandantes")])])},function(){var e=this,a=e._self._c;return a("thead",[a("tr",[a("th",{staticClass:"pl-4"},[e._v("#")]),a("th",[e._v("Documento")]),a("th",[e._v("Nombre")]),a("th",[e._v("Telefono")]),a("th",[e._v("Email")]),a("th",[e._v("Opciones")])])])}],A=t(38280),N=(t(36941),t(46587)),$={name:"RegistroProcesal",mounted(){this.$nextTick((()=>{c().replace(),this.initDataTable()}))},props:{Personas:[]},data(){return{dataTable:null,editingIndex:null,departamentos:[],provincias:[],distritos:[],procesal:{dir_calle_av:"",dis_id:"",pro_id:"",dep_id:"",nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:"",jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:"",tipo:"",procesal:"",condicion:""},personas:[],errores:{tipo_procesal:!1,tipo_persona:!1,condicion1:!1,nat_dni:!1,nat_apellido_materno:!1,nat_apellido_materno:!1,nat_nombres:!1,jur_ruc:!1,jur_razon_social:!1,dep_id:!1,pro_id:!1,dis_id:!1,dir_calle_av:!1},modalVisible:!1,showModal:!1}},async created(){this.personas=this.Personas,await this.cargarDepartamentos()},methods:{...(0,A.i0)(["get","post"]),editarPersona(e){this.procesal={...this.personas[e]},this.editingIndex=e},eliminarPersona(e){this.personas.splice(e,1)},addPart(){null!==this.editingIndex?(this.personas.splice(this.editingIndex,1,{...this.procesal}),this.editingIndex=null,this.procesal={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:"",nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:"",jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:"",tipo:"",procesal:"",condicion:""}):(this.personas.push({...this.procesal}),this.procesal={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:"",nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:"",jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:"",tipo:"",procesal:"",condicion:""})},async cargarDepartamentos(){try{const e=await(0,d.bQ)("department",this);this.departamentos=e.data,this.provincias=[],this.distritos=[]}catch(e){this.$handleApiError(e,"cargar departamentos")}},async cargarProvincias(){if(this.procesal.dep_id)try{const e={dep_id:this.procesal.dep_id},a=await(0,d.LS)("department/provincias",this,e);this.provincias=a.data}catch(e){this.$handleApiError(e,"cargar provincias")}},async cargarDistritos(){if(this.procesal.pro_id)try{const e={pro_id:this.procesal.pro_id},a=await(0,d.LS)("department/distritos",this,e);this.distritos=a.data}catch(e){this.$handleApiError(e,"cargar provincias")}},cargarProvinciasConRetraso(){setTimeout((()=>{this.cargarProvincias()}),500)},cargarDistritosConRetraso(){setTimeout((()=>{this.cargarDistritos()}),1e3)},anteriorParte:function(){this.$emit("anteriorParte"),this.$emit("guardarPersona",this.personas)},siguienteParte:function(){if(0===this.personas.length)return console.info("debe registrar por lo menos una persona");this.$emit("siguienteParte"),this.$emit("guardarPersona",this.personas)},mostrarModal(){this.initDataTable(),this.showModal=!0},cerrarModal(){this.showModal=!1},async filterpersona(){let e;if("NATURAL"==this.procesal.tipo){if(8===this.procesal.nat_dni.length){e=_().fire({title:"Buscando",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});try{const a=await o.A.post(`${this.$store.getters.get__url}/proceeding/filterprocesal`,{doc:this.procesal.nat_dni,tipo:this.procesal.tipo},{headers:{Authorization:`Bearer ${this.$store.getters.get__token}`}});e&&e.close(),0==a.data.state?(_().fire("Datos Encontrados","Ok","success"),this.procesal.nat_apellido_paterno=a.data.data.nat_apellido_paterno,this.procesal.nat_apellido_materno=a.data.data.nat_apellido_materno,this.procesal.nat_nombres=a.data.data.nat_nombres,this.procesal.nat_telefono=a.data.data.nat_telefono,this.procesal.nat_correo=a.data.data.nat_correo,this.procesal.dep_id=a.data.dir.dep_id,this.cargarProvincias(),this.procesal.pro_id=a.data.dir.pro_id,this.cargarDistritos(),this.procesal.dis_id=a.data.dir.dis_id,this.procesal.dir_calle_av=a.data.dir.dir_calle_av):(_().fire("Datos No encontrados","Registre","warning"),this.procesal.dir_calle_av="",this.procesal.dis_id="",this.procesal.pro_id="",this.procesal.dep_id="",this.procesal.nat_apellido_paterno="",this.procesal.nat_apellido_materno="",this.procesal.nat_nombres="",this.procesal.nat_telefono="",this.procesal.nat_correo="")}catch(a){e&&e.close(),_().fire("Datos No encontrados","Registre","warning"),this.procesal.dir_calle_av="",this.procesal.dis_id="",this.procesal.pro_id="",this.procesal.dep_id="",this.procesal.nat_apellido_paterno="",this.procesal.nat_apellido_materno="",this.procesal.nat_nombres="",this.procesal.nat_telefono="",this.procesal.nat_correo=""}}}else if(11===this.procesal.jur_ruc.length){e=_().fire({title:"Buscando",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});try{const a=await o.A.post(`${this.$store.getters.get__url}/proceeding/filterprocesal`,{doc:this.procesal.jur_ruc,tipo:this.procesal.tipo},{headers:{Authorization:`Bearer ${this.$store.getters.get__token}`}});e&&e.close(),0==a.data.state?(_().fire("Datos Encontrados","Ok","success"),this.procesal.jur_razon_social=a.data.data.jur_razon_social,this.procesal.jur_telefono=a.data.data.jur_telefono,this.procesal.jur_correo=a.data.data.jur_correo,this.procesal.jur_rep_legal=a.data.data.jur_rep_legal,this.procesal.dep_id=a.data.dir.dep_id,this.cargarProvincias(),this.procesal.pro_id=a.data.dir.pro_id,this.cargarDistritos(),this.procesal.dis_id=a.data.dir.dis_id,this.procesal.dir_calle_av=a.data.dir.dir_calle_av):(_().fire("Datos No encontrados","Registre","warning"),this.procesal.dir_calle_av="",this.procesal.dis_id="",this.procesal.pro_id="",this.procesal.dep_id="",this.procesal.jur_razon_social="",this.procesal.jur_telefono="",this.procesal.jur_correo="",this.procesal.jur_rep_legal="")}catch(a){e&&e.close(),_().fire("Datos No encontrados","Registre","warning"),this.procesal.dir_calle_av="",this.procesal.dis_id="",this.procesal.pro_id="",this.procesal.dep_id="",this.procesal.jur_razon_social="",this.procesal.jur_telefono="",this.procesal.jur_correo="",this.procesal.jur_rep_legal=""}}},initDataTable(){this.$nextTick((()=>{this.dataTable=N("#table").DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}}),c().replace()}))}}},D=$,E=(0,v.A)(D,P,w,!1,null,"553749c2",null),S=E.exports,I=function(){var e=this,a=e._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow rounded"},[e._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"abogado"}},[e._v("Abogado asignado al expediente en registro")]),a("input",{staticClass:"form-control border-0",attrs:{type:"text",name:"abogado",id:"abogado",readonly:""},domProps:{value:e.abogado_name},on:{input:e.validarAsignacion}}),e.errores.asignacionAbogado?a("span",{staticClass:"error-message"},[e._v("Debe asignar un abogado para Finalizar el registro del expediente.")]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("#")]),a("th",[e._v("DNI")]),a("th",[e._v("Apellidos")]),a("th",[e._v("Nombres")]),e.validarRolUser()?a("th",{staticClass:"text-center"},[e._v("Expedientes Asignados")]):e._e(),a("th",{staticClass:"text-center"},[e._v("Asignar")])])]),a("tbody",e._l(e.abogados,(function(t){return a("tr",{key:t.nat_dni},[a("td",[a("div",{staticClass:"circle"},[e._v(e._s(t.nat_nombres.charAt(0)))])]),a("td",[e._v(e._s(t.nat_dni))]),a("td",[e._v(e._s(t.nat_apellido_paterno+" "+t.nat_apellido_materno))]),a("td",[e._v(e._s(t.nat_nombres))]),e.validarRolUser()?a("td",{staticClass:"text-center"},[e._v(e._s(t.abo_carga_laboral)+" Expediente")]):e._e(),a("td",{staticClass:"text-center"},[a("button",{class:e.abogado_id===t.abo_id?"btn quitar py-1 rounded":"btn asignar py-1 rounded",attrs:{type:"button"},on:{click:function(a){return e.toggleAsignar(t)}}},[e._v(" "+e._s(e.abogado_id===t.abo_id?"Quitar":"Asignar")+" ")])])])})),0)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"ml-auto"},[a("button",{staticClass:"btn btn-secondary btn-lg rounded",attrs:{type:"button"},on:{click:e.anteriorParte}},[a("i",{attrs:{"data-feather":"arrow-left"}}),e._v(" Anterior")]),a("button",{staticClass:"btn btn-primary btn-lg rounded ml-2 px-4",attrs:{type:"button"},on:{click:e.Finalizar}},[e._v(" Finalizar ")])])])])])])])])},z=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"card-header"},[a("h5",{staticClass:"text-secondary"},[e._v("Asignacion de abogado")])])}],R={props:{abo_id:"",abo_name:""},mounted(){this.$nextTick((()=>{c().replace()}))},data(){return{abogados:[],abogadoAsignado:null,abogado_id:"",abogado_name:"",errores:{asignacionAbogado:!1},rol:null,viewData:!1}},created(){this.abogado_id=this.abo_id,this.abogado_name=this.abo_name,this.rol=this.$store.getters.get__user.usu_rol,this.cargarAbogados(),this.validarRolUser()},methods:{...(0,A.i0)(["get","post"]),validarRolUser(){if("ADMIN"===this.rol)return this.viewData=!0},toggleAsignar(e){this.abogadoAsignado===e?(this.abogadoAsignado=null,this.abogado_id=null,this.abogado_name=null,this.validarAsignacion()):(this.abogadoAsignado=e,this.abogado_id=e.abo_id,this.abogado_name=e.nat_apellido_paterno+" "+e.nat_apellido_materno+" "+e.nat_nombres,this.validarAsignacion())},async cargarAbogados(){try{const e=await(0,d.bQ)("lawyer",this);this.abogados=e.data}catch(e){this.$handleApiError(e,"cargar departamentos")}},validarAsignacion(){return""===this.abogado_name?this.errores.asignacionAbogado=!0:this.errores.asignacionAbogado=!1,!this.errores.asignacionAbogado},anteriorParte(){this.$emit("anteriorParte"),this.$emit("guardaraboid",this.abogado_id),this.$emit("guardaraboname",this.abogado_name)},Finalizar(){this.validarAsignacion()&&(this.$emit("guardaraboid",this.abogado_id),this.$emit("guardaraboname",this.abogado_name),this.$emit("InsertData"))}}},T=R,k=(0,v.A)(T,I,z,!1,null,"4c016d64",null),M=k.exports,O={name:"Registro",components:{RegistroGeneral:g,RegistroProcesal:y,RegistroProcesalMultiple:S,RegistroAsignacion:M},data(){return{ismultiple:"0",currentPart:1,exp:{exp_numero:"",exp_fecha_inicio:"",exp_pretencion:"",exp_materia:"",exp_distrito_judicial:"",exp_instancia:"",exp_especialidad:"",exp_monto_pretencion:"",exp_juzgado:"",exp_estado_proceso:"",exp_costos:"",exp_monto_ejecucion1:"",exp_monto_ejecucion2:"",exp_interes1:"",exp_interes2:""},Personas:[],pn:{nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:""},pj:{jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:""},dir:{dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},abo_id:"",abo_name:"",tipopersona:"",procesal:"",condicion:""}},methods:{siguienteParte(){this.currentPart<3&&this.currentPart++},anteriorParte(){this.currentPart>1&&this.currentPart--},guardardatosgenerales(e){this.exp=e},guardarpersona(e){this.personas=e},guardarpn(e){this.pn=e},guardarpj(e){this.pj=e},guardardir(e){this.dir=e},guardartipopersona(e){this.tipopersona=e},guardarcondicion(e){this.condicion=e},guardarprocesal(e){this.procesal=e},guardaraboid(e){this.abo_id=e},guardaraboname(e){this.abo_name=e},guardarpersonas(e){this.Personas=e},guardarmultiple(e){this.ismultiple=e},async InsertData(){const e=this.$store.getters.get__url+"/proceeding/registrarcaso",a=this.$store.getters.get__token,t={multiple:this.ismultiple,Personas:this.Personas,exp:this.exp,pj:this.pj,pn:this.pn,dir:this.dir,tipopersona:this.tipopersona,abo_id:this.abo_id,procesal:this.procesal,condicion:this.condicion,tipo:2};o.A.post(e,t,{headers:{Authorization:`Bearer ${a}`}}).then((e=>{this.loader=!1,0==e.data.state?(this.loader=!1,this.limpiar(),this.$router.push({path:"/sisge/expediente/busqueda"})):(this.loader=!1,alert("Datos  no Registrados"))})).catch((e=>{this.loader=!1,console.error(e)}))},limpiar:function(){this.exp.exp_numero,this.exp.exp_fecha_inicio,this.exp.exp_pretencion,this.exp.exp_materia,this.exp.exp_juzgado,this.exp.exp_monto_pretencion,this.pn.nat_dni,this.pn.nat_apellido_paterno,this.pn.nat_apellido_materno,this.pn.nat_nombres,this.pn.nat_telefono,this.pn.nat_correo,this.pj.jur_ruc,this.pj.jur_razon_social,this.pj.jur_telefono,this.pj.jur_correo,this.pj.jur_rep_legal,this.dir.dir_calle_av,this.dir.dis_id,this.dir.pro_id,this.dir.dep_id,localStorage.removeItem("formData"),this.abo_id,this.abo_name,this.tipoPersona,this.tipoParte}}},U=O,L=(0,v.A)(U,r,s,!1,null,null,null),B=L.exports}}]);
//# sourceMappingURL=38.4dfc5071.js.map