"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[1333],{71333:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var s=function(){var t=this,a=t._self._c;return a("section",{staticClass:"pc-container pb-4"},[a("div",{staticClass:"pcoded-content"},[a("div",{staticClass:"row mb-4 d-flex justify-content-between"},[a("div",{staticClass:"col-sm-12 col-md-6 col-xl-9"},[a("h5",{staticClass:"text-dark fw-bold"},[a("button",{staticClass:"btn btn-sm mr-2 btn-primary",on:{click:t.goBack}},[a("i",{attrs:{"data-feather":"arrow-left"}})]),t._v("Busqueda de expedientes administrativos ")])]),a("div",{staticClass:"col-sm-12 col-md-6 col-xl-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.anio=a.target.multiple?e:e[0]},function(a){return t.mostrarTradesAnio()}]}},t._l(t.anios,(function(e,s){return a("option",{key:s,staticClass:"py-3",domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"card shadow"},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"table-responsive"},[a("table",{ref:"dataTable",staticClass:"table",attrs:{id:"table"}},[t._m(1),a("tbody",t._l(t.tradesAnio,(function(e){return a("tr",{key:e.tra_id},[a("td",[a("router-link",{attrs:{to:{name:"oficio/detalle",params:{id:e.tra_id}}}},[t._v(" "+t._s(e.tra_number)+" ")])],1),a("td",[t._v(t._s(e.tra_name))]),a("td",[t._v(t._s(e.tra_matter))]),a("td",[t._v(t._s(e.tra_arrival_date))]),a("td",[t._v(t._s(e.lawyer.persona.nat_nombres)+" "+t._s(e.lawyer.persona.nat_apellido_paterno)+" "+t._s(e.lawyer.persona.nat_apellido_materno)+" ")]),a("td",[t._v(t._s(e.area.are_name))]),a("td",[t._v(t._s(e.type_reference.type_name))]),"P"===e.tra_state_law?a("td",{staticClass:"pr-5"},[a("span",{class:t.badgeClassOficio(e.tra_state_law)},[t._v(" Pendiente ")])]):t._e(),"F"===e.tra_state_law?a("td",{staticClass:"pr-5"},[a("span",{class:t.badgeClassOficio(e.tra_state_law)},[t._v(" Terminado ")])]):t._e()])})),0)])])])])])])])])},r=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-header"},[a("h5",{staticClass:"text-secondary"},[t._v(" Lista de expedientes ")])])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("N° de expediente")]),a("th",[t._v("Nombre")]),a("th",[t._v("Asunto")]),a("th",[t._v("Fecha")]),a("th",[t._v("Responsable")]),a("th",[t._v("Área de origen")]),a("th",[t._v("Tipo de referencia")]),a("th",[t._v("Estado")])])])}],i=(e(44114),e(25800)),n=e(90740),o=e.n(n),l=(e(2637),e(46587)),d={name:"Buscar",mounted(){this.$nextTick((()=>{o().replace()})),this.cargarAños(),this.cargarTrades()},data(){return{anio:"",anios:[],trades:[],dataTable:null,exp:{},idTrade:null,showModal:"",tradesAnio:[]}},computed:{mostrarTradesAnio(){const t=parseInt(this.anio);return this.tradesAnio=[],this.tradesAnio=this.trades.filter((a=>a.anio===t)),this.initDataTable(),this.tradesAnio}},methods:{async"cargarAños"(){this.$showLoadingAlert();const t=(new Date).getFullYear();for(let a=t;a>=2018;a--)this.anios.push(a);this.anio=this.anios[0]},async cargarTrades(){try{const t=await this.$getData("trade",this);this.trades=t.data,this.tradesAnio=this.trades.filter((t=>t.anio===this.anio)),this.initDataTable(),this.$closeLoadingAlert()}catch(t){this.$handleApiError(t,"cargar oficios")}},async initDataTable(){this.destroyDataTable(),await this.$nextTick(),this.dataTable=l(this.$refs.dataTable).DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}})},destroyDataTable(){this.dataTable&&this.dataTable.destroy()&&(this.dataTable=null)},goBack(){"ABOGADO"===this.$store.getters.get__user.usu_rol?this.$router.push({path:"/oficio/asignados"}):this.$router.go(-1)},badgeClassOficio:i.H1}},c=d,_=e(81656),h=(0,_.A)(c,s,r,!1,null,"5842d614",null),u=h.exports},2637:function(t,a,e){var s=e(46587);a.A={methods:{async initDataTable(){this.destroyDataTable(),await this.$nextTick(),this.dataTable=s(this.$refs.myDataTable).DataTable({language:{lengthMenu:"Mostrar _MENU_ registros por página",zeroRecords:"No se encontraron resultados",info:"Mostrando _START_ a _END_ de _TOTAL_ registros",infoEmpty:"Mostrando 0 a 0 de 0 registros",infoFiltered:"(filtrado de _MAX_ registros totales)",search:"Buscar",paginate:{first:"Primero",last:"Último",next:"Siguiente",previous:"Anterior"}}})},destroyDataTable(){this.dataTable&&this.dataTable.destroy()&&(this.dataTable=null)}},beforeDestroy(){this.destroyDataTable()}}}}]);
//# sourceMappingURL=1333.b01b6030.js.map