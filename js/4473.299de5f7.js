"use strict";(self["webpackChunksisge"]=self["webpackChunksisge"]||[]).push([[4473],{4473:function(t,s,a){a.r(s),a.d(s,{default:function(){return b}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"pc-container pb-4"},[s("div",{staticClass:"pcoded-content"},[s("CardPanelAdmin")],1)])},i=[],r=function(){var t=this,s=t._self._c;return s("section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12"},[t._m(0),s("div",{staticClass:"card flat-card"},[s("div",{staticClass:"row-table"},[s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("router-link",{staticClass:"text-dark",attrs:{to:"oficio/registro"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("note_add")])]),s("div",{staticClass:"col-sm-8"},[s("span",[t._v("REGISTRAR EXPEDIENTE")])])])])],1),s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("router-link",{staticClass:"text-dark",attrs:{to:"oficio/buscar"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("find_in_page")])]),s("div",{staticClass:"col-sm-8"},[s("span",[t._v("BUSCAR EXPEDIENTE")])])])])],1),s("div",{staticClass:"col-sm-6 py-2 card-body br"},[s("router-link",{staticClass:"text-dark",attrs:{to:"responsables"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("person")])]),s("div",{staticClass:"col-sm-8"},[s("span",[t._v("GESTIONAR EQUIPO")])])])])],1)])])])]),s("hr"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12"},[t._m(1),s("div",{staticClass:"col-4 mb-2"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],staticClass:"form-control",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.anio=s.target.multiple?a:a[0]},function(s){return t.mostrarTradesAnio()}]}},t._l(t.anios,(function(a,e){return s("option",{key:e,staticClass:"py-3",domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0)]),s("div",{staticClass:"card flat-card"},[s("div",{staticClass:"row-table"},[s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradeTotal}},[s("div",{staticClass:"row"},[t._m(2),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesPend+t.numbertradesFin))]),s("span",[t._v("EXPEDIENTES REGISTRADOS EN EL SISTEMA")])])])])]),s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradePendiente}},[s("div",{staticClass:"row"},[t._m(3),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesPend))]),s("span",[t._v("EXPEDIENTES PENDIENTES (SIN INFORME)")])])])])]),s("div",{staticClass:"col-sm-6 card-body br"},[s("a",{staticClass:"text-dark",attrs:{href:"javascript:void(0)"},on:{click:t.tradeTerminado}},[s("div",{staticClass:"row"},[t._m(4),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesFin))]),s("span",[t._v("EXPEDIENTES ATENDIDOS (CON INFORME)")])])])])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12"},[t._m(5),s("div",{staticClass:"col-4 mb-2"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.responsable,expression:"responsable"}],staticClass:"form-control",on:{change:[function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.responsable=s.target.multiple?a:a[0]},function(s){return t.mostrar(s.target.value)}]}},[s("option",{staticClass:"py-5",attrs:{value:"",disabled:"",selected:""}},[t._v("-- Seleccione a alguien del equipo ")]),t._l(t.abogados,(function(a,e){return s("option",{key:e,staticClass:"py-3",domProps:{value:a.abo_id}},[t._v(" "+t._s(a.nat_nombres)+" "+t._s(a.nat_apellido_paterno)+" "+t._s(a.nat_apellido_materno)+" ")])}))],2)]),s("div",{staticClass:"card flat-card"},[""===t.responsable?s("div",{staticClass:"row-table"},[t._m(6)]):t._e(),""!==t.responsable?s("div",{staticClass:"row-table"},[null!==t.numberTotalResp?s("div",{staticClass:"col-sm-6 card-body br"},[s("div",{staticClass:"row"},[t._m(7),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numberTotalResp))]),s("span",[t._v("EXPEDIENTES ASIGNADOS")])])])]):t._e(),null!==t.numbertradesPendResp?s("div",{staticClass:"col-sm-6 card-body br"},[s("div",{staticClass:"row"},[t._m(8),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesPendResp))]),s("span",[t._v("EXPEDIENTES PENDIENTES")])])])]):t._e(),null!==t.numbertradesFinResp?s("div",{staticClass:"col-sm-6 card-body br"},[s("div",{staticClass:"row"},[t._m(9),s("div",{staticClass:"col-sm-8"},[s("h5",[t._v(t._s(t.numbertradesFinResp))]),s("span",[t._v("EXPEDIENTES ATENDIDOS")])])])]):t._e()]):t._e()])])])])},n=[function(){var t=this,s=t._self._c;return s("span",{staticClass:"text-primary fw-bold d-flex align-items-center"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("menu")]),t._v("MENU")])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"text-primary fw-bold d-flex align-items-center"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("folder")]),t._v("RESUMEN DE EXPEDIENTES")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("computer")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("text_snippet")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("text_snippet")])])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"text-primary fw-bold d-flex align-items-center"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("group")]),t._v("EQUIPO 2024")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-6 card-body br"},[s("span",{staticClass:"text-dark"},[t._v("Seleccione a un miembro del equipo")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("computer")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("text_snippet")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-4"},[s("i",{staticClass:"material-icons-two-tone text-primary mb-1"},[t._v("text_snippet")])])}],o=(a(44114),a(90740)),l=a.n(o),c=a(34061),d={name:"CardPanelAdmin",created(){this.cargarAños(),this.listTrades(),this.listarAbogados()},mounted(){this.$nextTick((()=>{l().replace()}))},computed:{currentYear(){return(new Date).getFullYear()}},data(){return{trades:[],tradesAnio:[],abogados:[],numbertradesFin:0,numbertradesPend:0,numberTotalResp:0,numbertradesFinResp:0,numbertradesPendResp:0,responsable:"",anio:"",anios:[]}},methods:{async"cargarAños"(){this.$showLoadingAlert();const t=(new Date).getFullYear();for(let s=t;s>=2022;s--)this.anios.push(s);this.anio=this.anios[0]},async listTrades(){try{const t=await(0,c.bQ)("trade",this);this.trades=t.data;const s=this.trades.filter((t=>"F"===t.tra_state_law));this.numbertradesFin=s.length;const a=this.trades.filter((t=>"P"===t.tra_state_law));this.numbertradesPend=a.length}catch(t){this.$handleApiError(t,"listar trades")}},async listarAbogados(){try{const t=await(0,c.bQ)("lawyer",this);this.abogados=t.data}catch(t){this.$handleApiError(t,"listar abogados")}finally{this.$closeLoadingAlert()}},mostrarTradesAnio(){const t=parseInt(this.anio);this.tradesAnio=[],this.tradesAnio=this.trades.filter((s=>s.anio===t));const s=this.tradesAnio.filter((t=>"F"===t.tra_state_law));this.numbertradesFin=s.length,this.numbertradesPend=this.tradesAnio.length-this.numbertradesFin},mostrar(t){const s=parseInt(t);var a=this.trades.filter((t=>t.lawyer.abo_id===s));this.numberTotalResp=a.length;const e=a.filter((t=>"F"===t.tra_state_law));this.numbertradesFinResp=e.length;const i=a.filter((t=>"P"===t.tra_state_law));this.numbertradesPendResp=i.length},tradeTotal(){this.$router.push({name:"trade/lista",params:{tipo_tra:"",anio:this.anio.toString()}})},tradeTerminado(){this.$router.push({name:"trade/lista",params:{tipo_tra:"terminado",anio:this.anio.toString()}})},tradePendiente(){this.$router.push({name:"trade/lista",params:{tipo_tra:"pendiente",anio:this.anio.toString()}})}}},m=d,u=a(81656),v=(0,u.A)(m,r,n,!1,null,"69783c75",null),_=v.exports,p=(a(25800),{name:"Panel",components:{CardPanelAdmin:_},created(){this.getUser()},data(){return{user:[]}},computed:{rol(){return this.$store.getters.get__user.usu_rol},mostrarOpcionAdmin(){return"ADMIN"===this.rol||"SECRETARIA"===this.rol}},mounted(){this.$nextTick((()=>{l().replace()}))},methods:{async getUser(){this.$showLoadingAlert(),this.user=this.$store.getters.get__user}}}),h=p,C=(0,u.A)(h,e,i,!1,null,"73638f6e",null),b=C.exports}}]);
//# sourceMappingURL=4473.299de5f7.js.map