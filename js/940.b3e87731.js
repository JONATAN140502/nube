"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[940],{95940:function(t,e,a){a.r(e),a.d(e,{default:function(){return P}});var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"pc-container pb-4"},[e("div",{staticClass:"pcoded-content"},[e("div",{staticClass:"page-header"},[e("div",{staticClass:"page-block"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-md-12"},[t._m(0),e("ul",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/sisge"}},[t._v("Inicio")])],1),e("li",{staticClass:"breadcrumb-item"},[t._v("Visualizacion y Registro")])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"card mb-2",class:[{"bg-primary":"materias"===t.selectedModule}]},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"row",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.selectModule("materias")}}},[e("a",{staticClass:"text-dark fs-5 fw-bold",class:{"text-white":"materias"===t.selectedModule},attrs:{href:"javascript:void(0)"}},[t._v("Materias")]),e("span",{staticClass:"text-secondary",class:{"text-light":"materias"===t.selectedModule}},[t._v("Lista y registro")])]),e("button",{staticClass:"btn px-3 rounded ml-auto",class:{"btn-light text-primary":"materias"===t.selectedModule,"btn-outline-secondary text-dark":"materias"!==t.selectedModule},attrs:{disabled:t.disabledMateria},on:{click:t.mostrarModalMateria}},[e("i",{attrs:{"data-feather":"plus"}})])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"card mb-2",class:[{"bg-primary":"juzgados"===t.selectedModule}]},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.selectModule("juzgados")}}},[e("div",[e("a",{staticClass:"text-dark fs-5 fw-bold",class:{"text-white":"juzgados"===t.selectedModule},attrs:{href:"javascript:void(0)"}},[t._v("Órganos Jurisdiccionales")])]),e("div",[e("button",{staticClass:"btn px-3 py-3 rounded ml-auto",class:{"btn-light text-primary":"juzgados"===t.selectedModule,"btn-outline-secondary text-dark":"juzgados"!==t.selectedModule},attrs:{disabled:t.disabledJuzgado},on:{click:t.mostrarModalJuzgado}},[e("i",{attrs:{"data-feather":"plus"}})])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"card mb-2",class:[{"bg-primary":"pretension"===t.selectedModule}]},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"row",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.selectModule("pretension")}}},[e("a",{staticClass:"text-dark fs-5 fw-bold",class:{"text-white":"pretension"===t.selectedModule},attrs:{href:"javascript:void(0)"}},[t._v("Pretensiones ")]),e("span",{staticClass:"text-secondary",class:{"text-light":"pretension"===t.selectedModule}},[t._v("Lista y registro")])]),e("button",{staticClass:"btn px-3 rounded ml-auto",class:{"btn-light text-primary":"pretension"===t.selectedModule,"btn-outline-secondary text-dark":"djudiciales"!==t.selectedModule},attrs:{disabled:t.disabledPretension},on:{click:t.mostrarModalPretensiones}},[e("i",{attrs:{"data-feather":"plus"}})])])])])])]),e("div",{staticClass:"col-md-8",staticStyle:{"overflow-y":"auto","max-height":"469px"}},["materias"===t.selectedModule?e("Materias",{ref:"materiasComponent"}):"juzgados"===t.selectedModule?e("Juzgados",{ref:"juzgadosComponent"}):"pretension"===t.selectedModule?e("Pretension",{ref:"pretensionComponent"}):t._e()],1)])])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header-title"},[e("h5",{staticClass:"m-b-10"},[t._v("Mantenimientos")])])}],i=a(98164),o=a.n(i),l=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[t._m(0),e("div",{staticClass:"row mb-3"},[e("div",{staticClass:"col-md-8"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.distrito,expression:"distrito"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.distrito=e.target.multiple?a:a[0]},function(e){return t.leer()}]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Seleccionar")]),t._l(t.distritos,(function(a){return e("option",{domProps:{value:a.judis_id}},[t._v(" "+t._s(a.judis_nombre)+" ")])}))],2)]),e("div",{staticClass:"col-md-4"},[e("button",{staticClass:"btn btn-primary btn-lg w-100",attrs:{disabled:0==t.favoritos.length},on:{click:function(e){return t.guardarfavorito()}}},[t._v(" Guardar Concurrentes ")])])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table",attrs:{id:"miTabla1"}},[t._m(1),e("tbody",[""==t.distrito?e("tr",{staticClass:"text-center"},[e("td",{staticClass:"py-3 text-secondary",attrs:{colspan:"4"}},[t._v("Seleccione un Distrito Judicial")])]):t._e(),t._l(t.juzgados,(function(a){return e("tr",{key:a.co_id},[e("td",{staticClass:"text-center py-2 my-0"},[e("div",{staticClass:"circle",staticStyle:{display:"inline-block"}},[t._v(t._s(a.co_id))])]),e("td",[t._v(t._s(a.co_nombre))]),e("td",{staticClass:"text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.co_isFavorite,expression:"juzgado.co_isFavorite"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.co_isFavorite)?t._i(a.co_isFavorite,null)>-1:a.co_isFavorite},on:{change:[function(e){var s=a.co_isFavorite,r=e.target,i=!!r.checked;if(Array.isArray(s)){var o=null,l=t._i(s,o);r.checked?l<0&&t.$set(a,"co_isFavorite",s.concat([o])):l>-1&&t.$set(a,"co_isFavorite",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(a,"co_isFavorite",i)},function(e){return t.marcarFavorito(a)}]}})]),e("td",{staticClass:"text-center"},[e("a",{staticClass:"text-primary px-2",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.editar(a.co_id)}}},[t._m(2,!0)]),e("a",{staticClass:"text-danger px-2",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.borrar(a.co_id)}}},[t._m(3,!0)])])])}))],2)])])])])])]),t.showModal?e("div",{staticClass:"modal",on:{click:t.cerrarModal}},[e("div",{staticClass:"modal-content card border-0",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"card-header bg-primary py-2"},[e("p",{staticClass:"fs-5 text-white text-center fw-bold",staticStyle:{"margin-top":"10px !important"}},[t._v(" "+t._s(t.juzgado.co_id?"Editar Juzgado":"Registro de nuevo Juzgado")+" ")])]),e("div",{staticClass:"card-body mb-0 pb-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",{staticClass:"form-label"},[t._v("Distrito Judicial")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.distrito,expression:"distrito"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.distrito=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("--SELECCIONAR")]),t._l(t.distritos,(function(a){return e("option",{domProps:{value:a.judis_id}},[t._v(" "+t._s(a.judis_nombre)+" ")])}))],2)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group mb-0"},[e("label",{staticClass:"form-label fw-bold"},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.juzgado.co_nombre,expression:"juzgado.co_nombre"}],staticClass:"form-control",class:{"has-error":t.errores.co_nombre},domProps:{value:t.juzgado.co_nombre},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.guardar.apply(null,arguments)},blur:t.validarNombre,input:[function(e){e.target.composing||t.$set(t.juzgado,"co_nombre",e.target.value)},function(e){t.errores.co_nombre=!1}]}})]),t.errores.co_nombre?e("span",{staticClass:"error-message"},[t._v("Ingrese un nombre de juzgado.")]):t._e()])])]),e("div",{staticClass:"card-footer border-0 mt-0 pt-0"},[e("div",{staticClass:"d-flex"},[e("button",{staticClass:"btn btn-secondary btn-lg mr-auto px-5 rounded",on:{click:t.cerrarModal}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary btn-lg ml-auto px-5 rounded",on:{click:t.guardar}},[t._v(" "+t._s(t.juzgado.co_id?"Actualizar":"Guardar")+" ")])])])])]):t._e()])},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("label",{staticClass:"form-label"},[t._v("Distrito Judicial")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("#")]),e("th",[t._v("Nombre")]),e("th",{staticClass:"text-center"},[t._v("Concurrente")]),e("th",{staticClass:"text-center"},[t._v("Opciones")])])])},function(){var t=this,e=t._self._c;return e("span",[e("i",{attrs:{"data-feather":"edit"}})])},function(){var t=this,e=t._self._c;return e("span",[e("i",{attrs:{"data-feather":"trash"}})])}],c=(a(57658),a(77387)),d=a.n(c),u=(a(50563),a(22619),a(63822)),m={name:"abogado",created(){this.cargardistritos()},mounted(){this.$nextTick((()=>{o().replace()}))},data(){return{dataTable:null,showModal:!1,distrito:"",distritos:[],juzgados:[],juzgado:{co_id:"",co_nombre:"",favorito:!1},errores:{co_nombre:!1},favoritos:[]}},methods:{...(0,u.nv)(["get","post"]),marcarFavorito(t){const e=this.favoritos.findIndex((e=>e===t.co_id));console.log(e),1==t.co_isFavorite?-1==e&&this.favoritos.push(t.co_id):-1!=e&&this.favoritos.splice(e,1),console.log(this.favoritos)},validarCampo(t,e){""==this.juzgado[t]?this.errores[e]=!0:this.errores[e]=!1},guardarfavorito(){this.post({url:this.$store.getters.get__url+"/juzgado/favorite",token:this.$store.getters.get__token,params:{favoritos:this.favoritos}}).then((t=>{0==t.state&&(this.favoritos=[],this.leer())})).catch((t=>{}))},cargardistritos(){this.get({url:this.$store.getters.get__url+"/judicialdistrict",token:this.$store.getters.get__token,params:{}}).then((t=>{console.log(t),this.distritos=t.data,this.distrito.judis_id=distritos[16].judis_id})).catch((t=>{}))},validarNombre(){this.juzgado.co_nombre=this.juzgado.co_nombre,this.validarCampo("co_nombre","co_nombre")},validarCampos(){return this.validarNombre(),!Object.values(this.errores).some((t=>t))},async leer(){try{const t=await this.post({url:this.$store.getters.get__url+"/juzgado",token:this.$store.getters.get__token,params:{judis_id:this.distrito}});if(console.log(t),0==t.state){if(this.favoritos=[],t.data.length>0)for(let e=0;e<t.data.length;e++)this.marcarFavorito(t.data[e]);this.juzgados=t.data,this.initDataTable()}else console.log("error")}catch(t){console.error(t)}},async crear(){if(this.validarCampos())try{const t=await this.post({url:this.$store.getters.get__url+"/juzgado/store",token:this.$store.getters.get__token,params:{judis_id:this.distrito,co_nombre:this.juzgado.co_nombre}});0==t.state?(this.leer(),this.juzgado={co_id:"",co_nombre:""},this.showModal=!1):console.log("error")}catch(t){console.error(t)}else console.error("Error en la validacion de los campos de registro.")},async actualizar(t){if(this.validarCampos())try{const e=await this.post({url:this.$store.getters.get__url+"/juzgado/update",token:this.$store.getters.get__token,params:{judis_id:this.distrito,co_id:t,co_nombre:this.juzgado.co_nombre}});0===e.state?(this.showModal=!1,this.juzgado={co_id:"",co_nombre:""},await this.leer()):console.error("Error en la respuesta del servidor",e)}catch(e){}else console.error("Error en la validacion de los campos de registro.")},async borrar(t){try{console.log(t);const e=await this.post({url:this.$store.getters.get__url+"/juzgado/destroy",token:this.$store.getters.get__token,params:{co_id:t}});0===e.state?(console.log(e),this.juzgado={co_id:"",co_nombre:""},await this.leer()):console.error("Error en la respuesta del servidor",e)}catch(e){console.error("Error en la solicitud de eliminación",e)}},editar(t){try{const e=this.juzgados.find((e=>e.co_id===t));e?(this.juzgado={...e},this.showModal=!0,console.log(t)):console.error("Juzgado no encontrado")}catch(e){}},guardar(){try{this.juzgado.co_id?this.actualizar(this.juzgado.co_id):this.crear()}catch(t){console.error(t)}},initDataTable(){this.dataTable&&this.dataTable.destroy(),this.$nextTick((()=>{this.dataTable=d()("#miTabla1").DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}}),o().replace()}))},mostrarModal(){this.showModal=!0},cerrarModal(){this.showModal=!1,this.errores.co_nombre=!1,this.juzgados.co_id="",this.juzgado.co_nombre=""}}},h=m,p=a(1001),_=(0,p.Z)(h,l,n,!1,null,"6c03db48",null),b=_.exports,v=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered",attrs:{id:"miTabla1"}},[t._m(0),e("tbody",t._l(t.materias,(function(a,s){return e("tr",{key:a.mat_id},[e("td",{staticClass:"text-center py-2 my-0"},[e("div",{staticClass:"circle",staticStyle:{display:"inline-block"}},[t._v(t._s(s+1))])]),e("td",[t._v(t._s(a.mat_nombre))]),e("td",{staticClass:"text-center"},[e("a",{staticClass:"text-primary px-2 py-1 btn-lg mx-1",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.editar(a.mat_id)}}},[t._m(1,!0)]),e("a",{staticClass:"px-2 py-1 btn-lg text-danger",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.borrar(a.mat_id)}}},[t._m(2,!0)])])])})),0)])])])])])]),t.modalVisible?e("div",{staticClass:"modal",on:{click:t.cerrarModal}},[e("div",{staticClass:"modal-content card border-0",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"card-header bg-primary py-2"},[e("p",{staticClass:"fs-5 text-white text-center fw-bold",staticStyle:{"margin-top":"10px !important"}},[t._v(" "+t._s(t.materia.mat_id?"Editar Materia":"Registro de nueva Materia")+" ")])]),e("div",{staticClass:"card-body mb-0 pb-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label fw-bold"},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.materia.mat_nombre,expression:"materia.mat_nombre"}],staticClass:"form-control",class:{"has-error":t.errores.mat_nombre},domProps:{value:t.materia.mat_nombre},on:{blur:t.validarNombre,input:[function(e){e.target.composing||t.$set(t.materia,"mat_nombre",e.target.value)},function(e){t.errores.mat_nombre=!1}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.guardar.apply(null,arguments)}}}),t.errores.mat_nombre?e("span",{staticClass:"error-message"},[t._v("Ingrese un nombre de materia.")]):t._e()])])])]),e("div",{staticClass:"card-footer border-0 mt-0 pt-0"},[e("div",{staticClass:"d-flex"},[e("button",{staticClass:"btn btn-secondary btn-lg mr-auto px-5 rounded",on:{click:t.cerrarModal}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary btn-lg ml-auto px-5 rounded",on:{click:t.guardar}},[t._v(" "+t._s(t.materia.mat_id?"Actualizar":"Guardar")+" ")])])])])]):t._e()])},g=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"text-center py-2 my-0"},[t._v("#")]),e("th",[t._v("Nombre")]),e("th",{staticClass:"text-center"},[t._v("Opciones")])])])},function(){var t=this,e=t._self._c;return e("span",{},[e("i",{attrs:{"data-feather":"edit"}})])},function(){var t=this,e=t._self._c;return e("span",[e("i",{attrs:{"data-feather":"trash"}})])}],f={name:"materias",created(){this.leer()},mounted(){this.$nextTick((()=>{o().replace()}))},data(){return{dataTable:null,modalVisible:!1,materias:[],materia:{mat_id:"",mat_nombre:""},errores:{mat_nombre:!1}}},methods:{...(0,u.nv)(["get","post"]),validarCampo(t,e){""===this.materia[t]?this.errores[e]=!0:this.errores[e]=!1},validarNombre(){this.materia.mat_nombre=this.materia.mat_nombre,this.validarCampo("mat_nombre","mat_nombre")},validarCampos(){return this.validarNombre(),!Object.values(this.errores).some((t=>t))},async leer(){try{const t=await this.get({url:this.$store.getters.get__url+"/subject",token:this.$store.getters.get__token});console.log(t),this.materias=t.data,this.initDataTable()}catch(t){console.error("Error al intentar obtener los datos",t)}},async crear(){if(this.validarCampos())try{const t=await this.post({url:`${this.$store.getters.get__url}/subject/store`,token:this.$store.getters.get__token,params:this.materia});0===t.state?(this.modalVisible=!1,await this.leer(),this.materia.mat_nombre=""):console.error("Error en la respuesta del servidor:",t.message)}catch(t){console.error("Error en la solicitud:",t)}else console.error("Error en la validación de los campos del formulario de registro.")},async actualizar(t){if(this.validarCampos())try{const e=await this.post({url:this.$store.getters.get__url+"/subject/update",token:this.$store.getters.get__token,params:{mat_id:t,mat_nombre:this.materia.mat_nombre}});0==e.state?(this.modalVisible=!1,await this.leer()):console.log("error")}catch(e){console.error(e)}else console.error("Error en la validación de los campos del formulario de registro.")},async borrar(t){try{alert("Seguro de eliminar.");const e=await this.post({url:this.$store.getters.get__url+"/subject/destroy",token:this.$store.getters.get__token,params:{mat_id:t}});0==e.state?await this.leer():console.log("error")}catch(e){console.error(e)}},editar(t){try{const e=this.materias.find((e=>e.mat_id===t));e?(this.materia={...e},this.modalVisible=!0):console.log("Materia no encontrada")}catch(e){console.error(e)}},guardar(){try{this.materia.mat_id?this.actualizar(this.materia.mat_id):(this.crear(),console.log("crear"))}catch(t){console.error(t)}},initDataTable(){this.dataTable&&this.dataTable.destroy(),this.$nextTick((()=>{this.dataTable=d()("#miTabla1").DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}}),o().replace()}))},mostrarModal(){this.modalVisible=!0},cerrarModal(){this.modalVisible=!1,this.errores.mat_nombre=!1,this.materia.mat_id="",this.materia.mat_nombre=""}}},C=f,y=(0,p.Z)(C,v,g,!1,null,"34bafeb7",null),k=y.exports,x=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered",attrs:{id:"miTabla1"}},[t._m(0),e("tbody",t._l(t.pretensiones,(function(a,s){return e("tr",{key:a.pre_id},[e("td",{staticClass:"text-center py-2 my-0"},[e("div",{staticClass:"circle",staticStyle:{display:"inline-block"}},[t._v(t._s(s+1))])]),e("td",[t._v(t._s(a.pre_nombre))]),e("td",{staticClass:"text-center"},[e("a",{staticClass:"text-primary px-2 py-1 btn-lg mx-1",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.editar(a.pre_id)}}},[t._m(1,!0)]),e("a",{staticClass:"px-2 py-1 btn-lg text-danger",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.borrar(a.pre_id)}}},[t._m(2,!0)])])])})),0)])])])])])]),t.modalVisible?e("div",{staticClass:"modal",on:{click:t.cerrarModal}},[e("div",{staticClass:"modal-content card border-0",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"card-header bg-primary py-2"},[e("p",{staticClass:"fs-5 text-white text-center fw-bold",staticStyle:{"margin-top":"10px !important"}},[t._v(" "+t._s(t.pretension.pre_id?"Editar Pretensión":"Registro de nueva Pretensión ")+" ")])]),e("div",{staticClass:"card-body mb-0 pb-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label fw-bold"},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pretension.pre_nombre,expression:"pretension.pre_nombre"}],staticClass:"form-control",class:{"has-error":t.errores.pre_nombre},domProps:{value:t.pretension.pre_nombre},on:{blur:t.validarNombre,input:[function(e){e.target.composing||t.$set(t.pretension,"pre_nombre",e.target.value)},function(e){t.errores.pre_nombre=!1}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.guardar.apply(null,arguments)}}}),t.errores.mat_nombre?e("span",{staticClass:"error-message"},[t._v("Ingrese un nombre de Pretensión.")]):t._e()])])])]),e("div",{staticClass:"card-footer border-0 mt-0 pt-0"},[e("div",{staticClass:"d-flex"},[e("button",{staticClass:"btn btn-secondary btn-lg mr-auto px-5 rounded",on:{click:t.cerrarModal}},[t._v("Cerrar")]),e("button",{staticClass:"btn btn-primary btn-lg ml-auto px-5 rounded",on:{click:t.guardar}},[t._v(" "+t._s(t.pretension.pre_id?"Actualizar":"Guardar")+" ")])])])])]):t._e()])},M=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"text-center py-2 my-0"},[t._v("#")]),e("th",[t._v("Nombre")]),e("th",{staticClass:"text-center"},[t._v("Opciones")])])])},function(){var t=this,e=t._self._c;return e("span",{},[e("i",{attrs:{"data-feather":"edit"}})])},function(){var t=this,e=t._self._c;return e("span",[e("i",{attrs:{"data-feather":"trash"}})])}],j={name:"pretensiones",created(){this.leer()},mounted(){this.$nextTick((()=>{o().replace()}))},data(){return{dataTable:null,modalVisible:!1,pretensiones:[],pretension:{pre_id:"",pre_nombre:""},errores:{pre_nombre:!1}}},methods:{...(0,u.nv)(["get","post"]),validarCampo(t,e){""===this.pretension[t]?this.errores[e]=!0:this.errores[e]=!1},editar(t){try{const e=this.pretensiones.find((e=>e.pre_id===t));e?(this.pretension={...e},this.modalVisible=!0):console.log("Materia no encontrada")}catch(e){console.error(e)}},validarNombre(){this.pretension.pre_nombre=this.pretension.pre_nombre,this.validarCampo("pre_nombre","pre_nombre")},validarCampos(){return this.validarNombre(),!Object.values(this.errores).some((t=>t))},async leer(){try{const t=await this.get({url:this.$store.getters.get__url+"/claim",token:this.$store.getters.get__token});console.log(t),this.pretensiones=t.data,this.initDataTable()}catch(t){console.error("Error al intentar obtener los datos",t)}},async crear(){if(this.validarCampos())try{const t=await this.post({url:`${this.$store.getters.get__url}/claim/store`,token:this.$store.getters.get__token,params:this.pretension});0===t.state?(this.modalVisible=!1,await this.leer(),this.pretension.pre_nombre=""):console.error("Error en la respuesta del servidor:",t.message)}catch(t){console.error("Error en la solicitud:",t)}else console.error("Error en la validación de los campos del formulario de registro.")},async actualizar(t){if(this.validarCampos())try{const e=await this.post({url:this.$store.getters.get__url+"/claim/update",token:this.$store.getters.get__token,params:{pre_id:t,pre_nombre:this.pretension.pre_nombre}});0==e.state?(this.modalVisible=!1,await this.leer()):console.log("error")}catch(e){console.error(e)}else console.error("Error en la validación de los campos del formulario de registro.")},async borrar(t){try{alert("Seguro de eliminar.");const e=await this.post({url:this.$store.getters.get__url+"/claim/destroy",token:this.$store.getters.get__token,params:{pre_id:t}});0==e.state?await this.leer():console.log("error")}catch(e){console.error(e)}},guardar(){try{this.pretension.pre_id?this.actualizar(this.pretension.pre_id):(this.crear(),console.log("crear"))}catch(t){console.error(t)}},initDataTable(){this.dataTable&&this.dataTable.destroy(),this.$nextTick((()=>{this.dataTable=d()("#miTabla1").DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}}),o().replace()}))},mostrarModal(){this.modalVisible=!0},cerrarModal(){this.modalVisible=!1,this.errores.pre_nombre=!1,this.pretension.pre_id="",this.pretension.pre_nombre=""}}},w=j,z=(0,p.Z)(w,x,M,!1,null,"1892080e",null),$=z.exports,T={name:"mantenimiento",components:{Juzgados:b,Materias:k,Pretension:$},created(){this.selectModule("materias"),console.log("Módulo seleccionado:",this.selectedModule)},mounted(){this.$nextTick((()=>{o().replace()}))},data(){return{selectedModule:null,disabledMateria:!0,disabledJuzgado:!0,disabledPretension:!0}},methods:{mostrarModalMateria(){const t=this.$refs.materiasComponent;t.mostrarModal()},mostrarModalJuzgado(){const t=this.$refs.juzgadosComponent;t.mostrarModal()},mostrarModalJudiciales(){const t=this.$refs.judicialesComponent;t.mostrarModal()},mostrarModalPretensiones(){const t=this.$refs.pretensionComponent;t.mostrarModal()},buttonDisabled(t){"materias"===t?(this.disabledMateria=!1,this.disabledJuzgado=!0,this.disabledJudicial=!0,this.disabledPretension=!0):"juzgados"===t?(this.disabledMateria=!0,this.disabledJuzgado=!1,this.disabledJudicial=!0,this.disabledPretension=!0):"pretension"===t&&(this.disabledMateria=!0,this.disabledJuzgado=!0,this.disabledJudicial=!0,this.disabledPretension=!1)},selectModule(t){this.selectedModule=t,localStorage.setItem("selectedModule",t),this.buttonDisabled(this.selectedModule)}}},E=T,N=(0,p.Z)(E,s,r,!1,null,null,null),P=N.exports}}]);
//# sourceMappingURL=940.b3e87731.js.map