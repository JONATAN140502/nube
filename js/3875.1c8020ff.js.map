{"version":3,"file":"js/3875.1c8020ff.js","mappings":"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","sources":["webpack://legalcase/./src/modules/legal/mantenimiento/Fiscalia.vue","webpack://legalcase/src/modules/legal/mantenimiento/Fiscalia.vue","webpack://legalcase/./src/modules/legal/mantenimiento/Fiscalia.vue?70f2","webpack://legalcase/./src/modules/legal/mantenimiento/Fiscalia.vue?2ffc","webpack://legalcase/./src/utils/dataTable.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"pc-container pb-4 px-4\"},[_c('div',{staticClass:\"pcoded-content\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header py-3\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('h5',[_vm._v(\"Lista de Fiscalias\")]),_c('button',{staticClass:\"btn btn-success btn-sm px-4 ml-auto rounded-1\",on:{\"click\":_vm.mostrarModal}},[_vm._v(\" Nuevo \")])])]),_c('div',{staticClass:\"card-body\"},[_vm._m(0),_c('div',{staticClass:\"row mb-3\"},[_c('div',{staticClass:\"col-xl-3 col-lg-5 col-md-6\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.instancia.judis_id),expression:\"instancia.judis_id\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.instancia, \"judis_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.leer()}]}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"-- Seleccionar\")]),_vm._l((_vm.distritos),function(distrito){return _c('option',{domProps:{\"value\":distrito.judis_id}},[_vm._v(\" \"+_vm._s(distrito.judis_nombre)+\" \")])})],2)])]),_c('div',{staticClass:\"table-responsive\"},[_c('table',{ref:\"myDataTable\",staticClass:\"table\",attrs:{\"id\":\"table\"}},[_vm._m(1),_c('tbody',_vm._l((_vm.instancias),function(instancia,index){return (instancia.type_id==2)?_c('tr',{key:index},[_vm._m(2,true),_c('td',[_vm._v(_vm._s(instancia.ins_nombre))]),_c('td',{staticClass:\"text-center\"},[_c('a',{staticClass:\"text-primary px-2 py-1 btn-lg mx-1\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.editar(instancia.ins_id)}}},[_vm._m(3,true)]),_c('a',{staticClass:\"px-2 py-1 btn-lg text-danger\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.borrar(instancia.ins_id)}}},[_vm._m(4,true)])])]):_vm._e()}),0)])])])]),(_vm.showModal)?_c('div',{staticClass:\"modal\",on:{\"click\":_vm.cerrarModal}},[_c('div',{staticClass:\"modal-content card border-0\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"text-center\"},[_vm._v(\" \"+_vm._s(_vm.instancia.ins_id ? 'Actualizar Fiscalia' : 'Registar Nueva Fiscalia')+\" \")])]),_c('div',{staticClass:\"card-body mb-0 pb-0\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Distrito Judicial\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.instancia.judis_id),expression:\"instancia.judis_id\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.instancia, \"judis_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"-- Seleccionar\")]),_vm._l((_vm.distritos),function(distrito){return _c('option',{domProps:{\"value\":distrito.judis_id}},[_vm._v(\" \"+_vm._s(distrito.judis_nombre)+\" \")])})],2),_c('label',{staticClass:\"form-label\"},[_vm._v(\"Nombre\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.instancia.ins_nombre),expression:\"instancia.ins_nombre\"}],staticClass:\"form-control\",class:{ 'has-error': _vm.errores.ins_nombre },domProps:{\"value\":(_vm.instancia.ins_nombre)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.instancia, \"ins_nombre\", $event.target.value)},function($event){return _vm.validarCampo('ins_nombre')}],\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.guardar.apply(null, arguments)}}}),(_vm.errores.ins_nombre)?_c('span',{staticClass:\"error-message\"},[_vm._v(\"Ingrese el nombre de la Fiscalia.\")]):_vm._e()])])])]),_c('div',{staticClass:\"card-footer border-0 mt-0 pt-0\"},[_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('button',{staticClass:\"btn btn-secondary btn-lg px-4 mx-2 rounded\",on:{\"click\":_vm.cerrarModal}},[_vm._v(\"Cerrar\")]),_c('button',{staticClass:\"btn btn-primary btn-lg px-4 rounded\",on:{\"click\":_vm.guardar}},[(!_vm.isLoading)?_c('span',[_vm._v(_vm._s(_vm.instancia.ins_id ? 'Actualizar' : 'Guardar'))]):_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}})])])])])]):_vm._e()])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Seleccione un Distrito Judicial\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',{staticClass:\"text-center pl-4 col-lg-2 col-sm-1\"},[_vm._v(\"#\")]),_c('th',[_vm._v(\"Nombre\")]),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Opciones\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('td',{staticClass:\"text-center py-2 my-0\"},[_c('input',{staticClass:\"form-check-input me-1\",attrs:{\"type\":\"checkbox\",\"value\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',{},[_c('i',{attrs:{\"data-feather\":\"edit\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('span',[_c('i',{attrs:{\"data-feather\":\"trash\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"pc-container pb-4 px-4\">\r\n        <div class=\"pcoded-content\">\r\n\r\n            <div class=\"card\">\r\n                <div class=\"card-header py-3\">\r\n                    <div class=\"d-flex align-items-center\">\r\n                        <h5>Lista de Fiscalias</h5>\r\n                        <button class=\"btn btn-success btn-sm px-4 ml-auto rounded-1\" @click=\"mostrarModal\">\r\n                            Nuevo\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <div class=\"row\">\r\n                        <label class=\"form-label\">Seleccione un Distrito Judicial</label>\r\n                    </div>\r\n                    <div class=\"row mb-3\">\r\n                        <div class=\"col-xl-3 col-lg-5 col-md-6\">\r\n                            <select class=\"form-control\" @change=\"leer()\" v-model=\"instancia.judis_id\">\r\n                                <option value=\"\" disabled selected>-- Seleccionar</option>\r\n                                <option v-for=\"distrito in distritos\" :value=\"distrito.judis_id\">\r\n                                    {{ distrito.judis_nombre }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div class=\"table-responsive\">\r\n                        <table class=\"table\" id=\"table\" ref=\"myDataTable\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th class=\"text-center pl-4 col-lg-2 col-sm-1\">#</th>\r\n                                    <th>Nombre</th>\r\n                                    <th class=\"text-center\">Opciones</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(instancia, index) in instancias\" :key=\"index\" v-if=\"instancia.type_id==2\">\r\n                                    <td class=\"text-center py-2 my-0\">\r\n                                        <input class=\"form-check-input me-1\" type=\"checkbox\" value=\"\" />\r\n                                    </td>\r\n                                    <td>{{ instancia.ins_nombre }}</td>\r\n                                    <td class=\"text-center\">\r\n                                        <a href=\"javascript:void(0)\" @click=\"editar(instancia.ins_id)\"\r\n                                            class=\"text-primary px-2 py-1 btn-lg mx-1\">\r\n                                            <span class=\"\">\r\n                                                <i data-feather=\"edit\"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                        <a href=\"javascript:void(0)\" @click=\"borrar(instancia.ins_id)\"\r\n                                            class=\"px-2 py-1 btn-lg text-danger\">\r\n                                            <span>\r\n                                                <i data-feather=\"trash\"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div v-if=\"showModal\" class=\"modal\" @click=\"cerrarModal\">\r\n                <div class=\"modal-content card border-0\" @click.stop>\r\n                    <div class=\"card-header\">\r\n                        <h5 class=\"text-center\">\r\n                            {{ instancia.ins_id ? 'Actualizar Fiscalia' : 'Registar Nueva Fiscalia' }}\r\n                        </h5>\r\n                    </div>\r\n                    <div class=\"card-body mb-0 pb-0\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label class=\"form-label\">Distrito Judicial</label>\r\n                                    <select class=\"form-control\" v-model=\"instancia.judis_id\">\r\n                                        <option value=\"\" disabled selected>-- Seleccionar</option>\r\n                                        <option v-for=\"distrito in distritos\" :value=\"distrito.judis_id\">\r\n                                            {{ distrito.judis_nombre }}\r\n                                        </option>\r\n                                    </select>\r\n                                    <label class=\"form-label\">Nombre</label>\r\n                                    <input class=\"form-control\" v-model=\"instancia.ins_nombre\"\r\n                                        @input=\"validarCampo('ins_nombre')\" @keyup.enter=\"guardar\"\r\n                                        :class=\"{ 'has-error': errores.ins_nombre }\">\r\n                                    <span class=\"error-message\" v-if=\"errores.ins_nombre\">Ingrese el nombre de la\r\n                                        Fiscalia.</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-footer border-0 mt-0 pt-0\">\r\n                        <div class=\"d-flex justify-content-end\">\r\n                            <button class=\"btn btn-secondary btn-lg  px-4 mx-2 rounded\" @click=\"cerrarModal\">Cerrar</button>\r\n                            <button class=\"btn btn-primary btn-lg  px-4 rounded\" @click=\"guardar\">\r\n                                <span v-if=\"!isLoading\">{{ instancia.ins_id ? 'Actualizar' : 'Guardar' }}</span>\r\n                                <span v-else class=\"spinner-border spinner-border-sm\" role=\"status\"\r\n                                    aria-hidden=\"true\"></span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport feather from 'feather-icons';\r\nimport DataTable from '@/utils/dataTable';\r\n\r\nexport default {\r\n    name: \"instancias\",\r\n    mixins: [DataTable],\r\n    mounted() {\r\n        this.cargardistritos();\r\n    },\r\n    updated() {\r\n        feather.replace();\r\n    },\r\n    data() {\r\n        return {\r\n            dataTable: null,\r\n            showModal: false,\r\n            instancias: [],\r\n            instancia: {\r\n                ins_id: \"\",\r\n                ins_nombre: \"\",\r\n                judis_id:\"\"\r\n            },\r\n            errores: {\r\n                ins_nombre: false\r\n            },\r\n            isLoading: false,\r\n            editingIndex: null,\r\n            distritos:[]\r\n        };\r\n    },\r\n\r\n    methods: {\r\n\r\n        validarCampo(campo) {\r\n            this.errores[campo] = this.instancia[campo] === \"\";\r\n        },\r\n\r\n        validarCampos() {\r\n            Object.keys(this.errores).forEach(propiedadError => {\r\n                this.validarCampo(propiedadError, propiedadError);\r\n            });\r\n\r\n            return !Object.values(this.errores).some(error => error);\r\n        },\r\n        async cargardistritos() {\r\n            try {\r\n                this.$showLoadingAlert();\r\n                const response = await this.$getData('judicialdistrict', this);\r\n                this.distritos = response.data;\r\n                this.$closeLoadingAlert();\r\n            } catch (error) {\r\n                this.$handleApiError(error, 'cargar distritos judiciales');\r\n            }\r\n        },\r\n        async leer() {\r\n            try {\r\n                this.$showLoadingAlert();\r\n                const formData = {\r\n                    judis_id: this.instancia.judis_id\r\n                };\r\n                const response = await this.$postData('fiscalia', this,formData);\r\n                this.instancias = response.data;\r\n                this.initDataTable();\r\n                // await this.$waitForDataTableDraw(this, 'myDataTable');\r\n                this.$closeLoadingAlert();\r\n            } catch (error) {\r\n                this.$handleApiError(error, 'cargar distritos judiciales');\r\n            }\r\n        },\r\n\r\n        async actualizarTable() {\r\n            try {\r\n                const response = await this.$getData('instance', this);\r\n                this.instancias = response.data;\r\n                this.initDataTable();\r\n            } catch (error) {\r\n                this.$handleApiError(error, 'cargar instancias');\r\n            }\r\n        },\r\n\r\n        async crear() {\r\n            if (!this.validarCampos()) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n                this.isLoading = true;\r\n                const formData = {\r\n                    judis_id:this.instancia.judis_id,\r\n                    ins_nombre: this.instancia.ins_nombre,\r\n                    tipo:2\r\n                };\r\n\r\n                const response = await this.$postData('fiscalia/store', this, formData);\r\n\r\n                if (response.state === 'success') {\r\n                    await this.actualizarTable();\r\n                    // this.instancias.push({ ...response.data });\r\n                    // console.log(this.instancias.length);\r\n                    // this.aumentarContador();\r\n                    // this.leer();\r\n\r\n                    // Acceder directamente a la instancia DataTable y llamar a draw\r\n                    // const dataTableInstance = $(this.$refs.myDataTable).DataTable();\r\n\r\n                    // if (dataTableInstance && typeof dataTableInstance.draw === 'function') {\r\n                    //     dataTableInstance.draw();\r\n                    // }\r\n\r\n                    this.isLoading = false;\r\n                    this.cerrarModal();\r\n                }\r\n            } catch (error) {\r\n                this.$handleApiError(error, 'crear distrito judicial');\r\n            }\r\n        },\r\n\r\n\r\n        async actualizar(id) {\r\n            if (!this.validarCampos()) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n                this.isLoading = true;\r\n                const formData = {\r\n                    ins_id: id,\r\n                    ins_nombre: this.instancia.ins_nombre,\r\n                    judis_id:this.instancia.judis_id\r\n                }\r\n                const response = await this.$putData('fiscalia/update', this, formData);\r\n                const nuevosDatos = response.data;\r\n                if (response.state === 'success') {\r\n                    const index = this.instancias.findIndex((j) => j.ins_id === this.instancia.ins_id);\r\n                    if (index !== -1) {\r\n                        this.$set(this.instancias, index, nuevosDatos);\r\n                    }\r\n                    this.isLoading = false;\r\n                    this.cerrarModal();\r\n                }\r\n            } catch (error) {\r\n                this.$handleApiError(error, 'actualizar distrito judicial');\r\n            }\r\n        },\r\n\r\n        async borrar(id) {\r\n            this.$warningAlertWithCancel('Confirmar Eliminación', '¿Estás seguro de que deseas eliminar esta Instancia?', async () => {\r\n                try {\r\n                    this.$showLoadingAlert('Eliminando', '');\r\n                    const formData = {\r\n                        ins_id: id\r\n                    }\r\n                    const response = await this.$deleteData('fiscalia/destroy', this, formData);\r\n\r\n                    if (response.state === 'success') {\r\n                        await this.actualizarTable();\r\n                        this.$closeLoadingAlert();\r\n\r\n                        // const index = this.instancias.findIndex(instancia => instancia.ins_id === id);\r\n                        // if (index !== -1) {\r\n                        //     this.instancias.splice(index, 1);\r\n\r\n                        //     // Esperar a la siguiente actualización del DOM antes de llamar a draw\r\n                        //     this.$nextTick(() => {\r\n                        //         // Asegurarse de que myDataTable sea la referencia correcta\r\n                        //         if (this.$refs.myDataTable && typeof this.$refs.myDataTable.draw === 'function') {\r\n                        //             this.$refs.myDataTable.draw();\r\n                        //         }\r\n                        //     });\r\n                        // }\r\n                    }\r\n                } catch (error) {\r\n                    this.$closeLoadingAlert();\r\n                    this.$handleApiError(error, error.message);\r\n                }\r\n            }, () => {\r\n                console.log('Eliminar instancia cancelado');\r\n            });\r\n        },\r\n\r\n        editar(id) {\r\n            const editInstancia = this.instancias.find(instancia => instancia.ins_id === id);\r\n            if (editInstancia) {\r\n                this.instancia = { ...editInstancia };\r\n                this.showModal = true;\r\n            } else {\r\n                console.error(\"Instancia no encontrado\");\r\n            }\r\n        },\r\n\r\n        guardar() {\r\n            try {\r\n                if (!this.instancia.ins_id) {\r\n                    this.crear();\r\n                } else {\r\n                    this.actualizar(this.instancia.ins_id);\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        },\r\n\r\n        initDataTable() {\r\n            if (this.dataTable) {\r\n                this.dataTable.destroy();\r\n            }\r\n\r\n            this.$nextTick(() => {\r\n                this.dataTable = $('#table').DataTable({\r\n                    language: {\r\n                        url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json',\r\n                    },\r\n                });\r\n                feather.replace();\r\n            });\r\n        },\r\n\r\n\r\n        mostrarModal() {\r\n            this.showModal = true;\r\n        },\r\n\r\n        cerrarModal() {\r\n            this.showModal = false;\r\n            this.errores.ins_nombre = false;\r\n            this.instancia.ins_id = \"\";\r\n            this.instancia.ins_nombre = \"\";\r\n            this.instancia.judis_id=\"\";\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntd {\r\n    white-space: normal !important;\r\n    word-wrap: break-word;\r\n}\r\n\r\n.circle {\r\n    width: 30px;\r\n    height: 30px;\r\n    background-color: #7267EF;\r\n    color: white;\r\n    font-weight: 600;\r\n    border-radius: 50%;\r\n    text-align: center;\r\n    line-height: 30px;\r\n}\r\n\r\n.modal {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.modal-content {\r\n    background: #fff;\r\n    width: 500px;\r\n    height: auto !important;\r\n    /* padding: 20px; */\r\n    border-radius: 8px !important;\r\n    box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\r\n    position: relative !important;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n    .modal-content {\r\n        width: 90%;\r\n    }\r\n}\r\n\r\n.card-header {\r\n    border-radius: 8px 8px 0px 0px !important;\r\n}\r\n\r\n.has-error {\r\n    border: 1px solid #EA4D4D;\r\n}\r\n\r\n.error-message {\r\n    color: #EA4D4D;\r\n    font-size: 12px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Fiscalia.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Fiscalia.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Fiscalia.vue?vue&type=template&id=25620136&scoped=true\"\nimport script from \"./Fiscalia.vue?vue&type=script&lang=js\"\nexport * from \"./Fiscalia.vue?vue&type=script&lang=js\"\nimport style0 from \"./Fiscalia.vue?vue&type=style&index=0&id=25620136&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25620136\",\n  null\n  \n)\n\nexport default component.exports","export default {\r\n    methods: {\r\n        async initDataTable() {\r\n            this.destroyDataTable();\r\n            await this.$nextTick();\r\n            this.dataTable = $(this.$refs.myDataTable).DataTable({\r\n                language: {\r\n                    url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json',\r\n                },\r\n            });\r\n        },\r\n\r\n        destroyDataTable() {\r\n            this.dataTable && this.dataTable.destroy() && (this.dataTable = null);\r\n        },\r\n    },\r\n    beforeDestroy() {\r\n        this.destroyDataTable();\r\n    },\r\n};"],"names":["render","_vm","this","_c","_self","staticClass","_v","on","mostrarModal","_m","directives","name","rawName","value","instancia","judis_id","expression","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","leer","attrs","_l","distritos","distrito","domProps","_s","judis_nombre","ref","instancias","index","type_id","key","ins_nombre","editar","ins_id","borrar","_e","showModal","cerrarModal","stopPropagation","class","errores","composing","validarCampo","type","indexOf","_k","keyCode","guardar","apply","arguments","isLoading","staticRenderFns","mixins","DataTable","mounted","cargardistritos","updated","feather","data","dataTable","editingIndex","methods","campo","validarCampos","Object","keys","forEach","propiedadError","values","some","error","$showLoadingAlert","response","$getData","$closeLoadingAlert","$handleApiError","formData","$postData","initDataTable","actualizarTable","crear","tipo","state","actualizar","id","$putData","nuevosDatos","findIndex","j","$warningAlertWithCancel","$deleteData","message","console","log","editInstancia","find","destroy","$nextTick","$","language","url","component","destroyDataTable","$refs","myDataTable","beforeDestroy"],"sourceRoot":""}