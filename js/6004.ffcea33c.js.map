{"version":3,"file":"js/6004.ffcea33c.js","mappings":"gKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,KAAK,CAACA,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACJ,EAAIK,GAAG,cAAcL,EAAIK,GAAG,OAAOH,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACJ,EAAIK,GAAG,IAAIL,EAAIM,GAA4B,KAAzBN,EAAIO,iBAA0B,QAAUP,EAAIO,iBAAiBC,aAAaN,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,SAAS,CAACO,WAAW,CAAC,CAACD,KAAK,QAAQE,QAAQ,UAAUC,MAAOX,EAAIO,iBAAkBK,WAAW,qBAAqBR,YAAY,eAAeS,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,IAAGC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEX,MAAM,OAAOc,CAAG,IAAIzB,EAAIO,iBAAiBO,EAAOM,OAAOO,SAAWZ,EAAgBA,EAAc,EAAE,IAAI,CAACb,EAAG,SAAS,CAAC0B,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,SAAW,KAAK,CAAC5B,EAAIK,GAAG,oBAAoBL,EAAI6B,GAAI7B,EAAI8B,OAAO,SAASC,GAAM,OAAO7B,EAAG,SAAS,CAAC8B,SAAS,CAAC,MAAQD,IAAO,CAAC/B,EAAIK,GAAGL,EAAIM,GAAGyB,EAAKvB,QAAQ,KAAI,OAAON,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAAEJ,EAAIiC,kBAAkBC,OAAS,EAAGhC,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,QAAQ,CAACiC,IAAI,YAAY/B,YAAY,oBAAoBwB,MAAM,CAAC,GAAK,QAAQ,mBAAmB,mBAAmB,CAAC5B,EAAIoC,GAAG,GAAGlC,EAAG,QAAQF,EAAI6B,GAAI7B,EAAIiC,mBAAmB,SAASI,EAAQC,GAAO,OAAOpC,EAAG,KAAK,CAACqC,IAAID,GAAO,CAACpC,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGgC,EAAQ,MAAMpC,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIwC,UAAUH,OAAanC,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAG+B,EAAQI,kBAAkBvC,EAAG,KAAK,CAACE,YAAY,gBAAgBsC,YAAY,CAAC,YAAY,UAAU,CAAC1C,EAAIK,GAAGL,EAAIM,GAAGN,EAAI2C,2BAA2BN,OAAanC,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAI4C,gBAAgBP,OAAanC,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAI6C,QAAQR,OAAanC,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,kDAAkDsC,YAAY,CAAC,YAAY,QAAQ7B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI8C,eAAeT,EAAQ,IAAI,CAACrC,EAAIK,GAAG,2BAA2BH,EAAG,SAAS,CAACE,YAAY,kDAAkDsC,YAAY,CAAC,YAAY,QAAQ7B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI+C,SAASV,EAAQW,OAAO,IAAI,CAAChD,EAAIK,GAAG,sBAAsB,IAAG,OAAOL,EAAIiD,aAAa/C,EAAG,UAAU,CAAC0B,MAAM,CAAC,MAAQ,sBAAsB,oBAAoB,GAAG,SAAW,GAAG,KAAO,KAAK,uBAAuB,IAAIf,GAAG,CAAC,KAAOb,EAAIkD,eAAeC,YAAYnD,EAAIoD,GAAG,CAAC,CAACb,IAAI,eAAec,GAAG,UAAS,OAAEC,EAAM,GAAEC,IAAM,MAAO,CAACrD,EAAG,WAAW,CAACE,YAAY,2BAA2BS,GAAG,CAAC,MAAQyC,IAAS,CAACtD,EAAIK,GAAG,YAAYH,EAAG,WAAW,CAACE,YAAY,yBAAyBS,GAAG,CAAC,MAAQb,EAAIwD,qBAAqB,CAACxD,EAAIK,GAAG,cAAc,KAAKoD,MAAM,CAAC9C,MAAOX,EAAI0D,uBAAwBC,SAAS,SAAUC,GAAM5D,EAAI0D,uBAAuBE,CAAG,EAAEhD,WAAW,2BAA2B,CAACV,EAAG,SAAS,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAawB,MAAM,CAAC,IAAM,qBAAqB,CAAC5B,EAAIK,GAAG,mBAAmBH,EAAG,SAAS,CAACO,WAAW,CAAC,CAACD,KAAK,QAAQE,QAAQ,UAAUC,MAAOX,EAAI6D,UAAUC,OAAQlD,WAAW,qBAAqBR,YAAY,eAAewB,MAAM,CAAC,GAAK,oBAAoBf,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,IAAGC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEX,MAAM,OAAOc,CAAG,IAAIzB,EAAI+D,KAAK/D,EAAI6D,UAAW,SAAU/C,EAAOM,OAAOO,SAAWZ,EAAgBA,EAAc,GAAG,IAAI,CAACb,EAAG,SAAS,CAAC0B,MAAM,CAAC,SAAW,GAAG,SAAW,IAAII,SAAS,CAAC,MAAQ,OAAO,CAAChC,EAAIK,GAAG,mBAAmBL,EAAI6B,GAAI7B,EAAIgE,aAAa,SAASC,GAAY,OAAO/D,EAAG,SAAS,CAAC8B,SAAS,CAAC,MAAQiC,EAAWH,SAAS,CAAC9D,EAAIK,GAAGL,EAAIM,GAAG2D,EAAWC,cAAc,KAAI,KAAKhE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACJ,EAAIK,GAAG,WAAWH,EAAG,QAAQ,CAACO,WAAW,CAAC,CAACD,KAAK,QAAQE,QAAQ,UAAUC,MAAOX,EAAI6D,UAAUM,eAAgBvD,WAAW,6BAA6BR,YAAY,eAAewB,MAAM,CAAC,KAAO,QAAQI,SAAS,CAAC,MAAShC,EAAI6D,UAAUM,gBAAiBtD,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAOgD,WAAiBpE,EAAI+D,KAAK/D,EAAI6D,UAAW,iBAAkB/C,EAAOM,OAAOT,MAAM,OAAOT,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACJ,EAAIK,GAAG,uBAAuBH,EAAG,SAAS,CAACO,WAAW,CAAC,CAACD,KAAK,QAAQE,QAAQ,UAAUC,MAAOX,EAAI6D,UAAUQ,sBAAuBzD,WAAW,oCAAoCR,YAAY,eAAeS,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,QAAQ,IAAGC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEX,MAAM,OAAOc,CAAG,IAAIzB,EAAI+D,KAAK/D,EAAI6D,UAAW,wBAAyB/C,EAAOM,OAAOO,SAAWZ,EAAgBA,EAAc,GAAG,IAAI,CAACb,EAAG,SAAS,CAAC0B,MAAM,CAAC,SAAW,GAAG,SAAW,IAAII,SAAS,CAAC,MAAQ,OAAO,CAAChC,EAAIK,GAAG,mBAAmBL,EAAI6B,GAAI7B,EAAIsE,QAAQ,SAASC,GAAO,OAAOrE,EAAG,SAAS,CAAC8B,SAAS,CAAC,MAAQuC,EAAM/D,OAAO,CAACR,EAAIK,GAAGL,EAAIM,GAAGiE,EAAM/D,QAAQ,KAAI,KAAKN,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,aAAawB,MAAM,CAAC,IAAM,aAAa,CAAC5B,EAAIK,GAAG,2CAA2CH,EAAG,WAAW,CAACO,WAAW,CAAC,CAACD,KAAK,QAAQE,QAAQ,UAAUC,MAAOX,EAAI6D,UAAUW,YAAa5D,WAAW,0BAA0BR,YAAY,eAAewB,MAAM,CAAC,GAAK,YAAYI,SAAS,CAAC,MAAShC,EAAI6D,UAAUW,aAAc3D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOM,OAAOgD,WAAiBpE,EAAI+D,KAAK/D,EAAI6D,UAAW,cAAe/C,EAAOM,OAAOT,MAAM,UAAU,IAAI,IACjnL,EACI8D,EAAkB,CAAC,WAAY,IAAIzE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,OAAOH,EAAG,KAAK,CAACF,EAAIK,GAAG,eAAeH,EAAG,KAAK,CAACF,EAAIK,GAAG,eAAeH,EAAG,KAAK,CAACF,EAAIK,GAAG,sBAAsBH,EAAG,MAAMF,EAAIK,GAAG,mBAAmBH,EAAG,KAAK,CAACF,EAAIK,GAAG,sBAAsBH,EAAG,KAAK,CAACF,EAAIK,GAAG,aAAaH,EAAG,KAAK,CAACF,EAAIK,GAAG,sBAC7U,G,oHCsGA,GACAG,KAAA,aAEAkE,WAAA,CACAC,QAAA,IACAC,OAAA,IACAC,MAAA,IACAC,WAAA,IACAC,WAAAA,EAAAA,GAEAC,OAAAA,GACA,KAAAC,MACA,EACAC,OAAAA,GACAC,IAAAA,SACA,EACAC,IAAAA,GACA,OACA1B,wBAAA,EACA2B,SAAA,GACAC,UAAA,KACA/E,iBAAA,GACAuB,MAAA,CACA,CAAAyD,GAAA,EAAA/E,KAAA,cACA,CAAA+E,GAAA,EAAA/E,KAAA,aACA,CAAA+E,GAAA,EAAA/E,KAAA,eACA,CAAA+E,GAAA,EAAA/E,KAAA,eAEAqD,UAAA,CACAb,OAAA,KACAc,OAAA,KACAK,eAAA,KACAE,sBAAA,KACAG,YAAA,MAEAR,YAAA,KACAM,OAAA,CACA,CAAAiB,GAAA,EAAA/E,KAAA,qBACA,CAAA+E,GAAA,EAAA/E,KAAA,sBACA,CAAA+E,GAAA,EAAA/E,KAAA,uBAGA,EACAgF,MAAA,CACAvD,kBAAA,CACAwD,QAAA,gBACAC,WAAA,IAGAC,SAAA,CACA1D,iBAAAA,GACA,YAAA1B,iBACA,KAAA8E,SAAAnE,QAAAmB,GAAAA,EAAAuD,gBAAA,KAAArF,iBAAAC,OACA,KAAA6E,QACA,GAEAQ,QAAA,CACArD,SAAAA,CAAAH,GACA,cAAAA,EAAAyD,QAAAzD,EAAA0D,QAAA1D,EAAAyD,OACA,EAEAnD,0BAAAA,CAAAN,GACA,aAAAA,EAAAyD,QAAAzD,EAAA2D,qBAAA3D,EAAA4D,gBACA,EAEArD,eAAAA,CAAAP,GACA,aAAAA,EAAAyD,QAAAzD,EAAA6D,qBAAA,IACA,EAEArD,OAAAA,CAAAR,GACA,aAAAA,EAAAyD,QAAAzD,EAAA8D,YAAA,IACA,EAEA,oBAAArD,CAAAT,GACA,IACA,KAAAwB,UAAAb,OAAAX,EAAAW,OACA,MAAAoD,EAAA,CACA,eAAA5D,UAAAH,IAEAgE,QAAA,KAAAC,UAAA,8BAAAF,GACA,KAAApC,YAAAqC,EAAArC,YACA,KAAAN,wBAAA,CACA,OAAA6C,GACA,KAAAC,gBAAAD,EAAA,mCACA,CAEA,EAEA,wBAAA/C,GACA,IACA,KAAAE,wBAAA,EACA,KAAA+C,kBAAA,0DACA,MAAAJ,QAAA,KAAAC,UAAA,0BAAAzC,WACA6C,QAAAC,IAAAN,EAEA,OAAAE,GACA,KAAAC,gBAAAD,EAAA,sBACA,SACA,KAAAK,oBACA,CAEA,EAEA7D,QAAAA,CAAAwC,GACA,KAAAsB,QAAAC,KAAA,CAAAtG,KAAA,yBAAAuG,OAAA,CAAAxB,GAAAA,IACA,EAEA,UAAAN,GACA,IACA,KAAAwB,oBACA,MAAAO,QAAA,KAAAC,SAAA,iBACA,KAAA5B,SAAA2B,EAAA5B,KAEA,KAAAwB,oBACA,OAAAL,GACA,KAAAC,gBAAAD,EAAA,OACA,CACA,EAEA,mBAAAW,GACA,KAAAC,yBACA,KAAAC,YACA,KAAA9B,UAAA+B,EAAA,KAAAC,MAAAhC,WAAAiC,UAAA,CACAC,SAAA,CACAC,IAAA,yDAGA,EAEAN,gBAAAA,GACA,KAAA7B,WAAA,KAAAA,UAAAoC,YAAA,KAAApC,UAAA,KACA,EAEApC,aAAAA,GACA,QAAAX,KAAA,KAAAsB,UACA,KAAAA,UAAA8D,eAAApF,KACA,KAAAsB,UAAAtB,GAAA,KAGA,ICpP6Q,I,WCOzQqF,GAAY,OACd,EACA7H,EACA0E,GACA,EACA,KACA,KACA,MAIF,EAAemD,EAAiB,O","sources":["webpack://legalcase/./src/modules/legal/personas/CrudPersonas.vue","webpack://legalcase/src/modules/legal/personas/CrudPersonas.vue","webpack://legalcase/./src/modules/legal/personas/CrudPersonas.vue?42e5","webpack://legalcase/./src/modules/legal/personas/CrudPersonas.vue?57bd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"pc-container pb-4\"},[_c('div',{staticClass:\"pcoded-content\"},[_c('div',{staticClass:\"row mb-4 d-flex align-items-center\"},[_c('div',{staticClass:\"col-sm-12 col-md-6 col-xl-9\"},[_c('h5',[_c('span',{staticClass:\"text-primary\"},[_vm._v(\"Personas\")]),_vm._v(\" | \"),_c('span',{staticClass:\"text-secondary\"},[_vm._v(\" \"+_vm._s(_vm.tipoSeleccionado === '' ? 'Lista' : _vm.tipoSeleccionado.name))])])]),_c('div',{staticClass:\"col-sm-12 col-md-6 col-xl-3\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tipoSeleccionado),expression:\"tipoSeleccionado\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.tipoSeleccionado=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\",\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\"Parte procesal\")]),_vm._l((_vm.tipos),function(item){return _c('option',{domProps:{\"value\":item}},[_vm._v(_vm._s(item.name))])})],2)])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[(_vm.personasFiltradas.length > 0)?_c('div',{staticClass:\"table-responsive\"},[_c('table',{ref:\"dataTable\",staticClass:\"table table-hover\",attrs:{\"id\":\"table\",\"aria-describedby\":\"table-personas\"}},[_vm._m(0),_c('tbody',_vm._l((_vm.personasFiltradas),function(persona,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index + 1))]),_c('td',[_vm._v(_vm._s(_vm.documento(persona)))]),_c('td',[_vm._v(_vm._s(persona.per_condicion))]),_c('td',{staticClass:\"text-truncate\",staticStyle:{\"max-width\":\"100px\"}},[_vm._v(_vm._s(_vm.apellidoPaternoRazonSocial(persona)))]),_c('td',[_vm._v(_vm._s(_vm.apellidoMaterno(persona)))]),_c('td',[_vm._v(_vm._s(_vm.nombres(persona)))]),_c('td',[_c('div',{staticClass:\"d-flex gap-2\"},[_c('button',{staticClass:\"btn btn-sm btn-outline-success rounded border-1\",staticStyle:{\"font-size\":\"12px\"},on:{\"click\":function($event){return _vm.modalHistorial(persona)}}},[_vm._v(\" Registrar Historial \")]),_c('button',{staticClass:\"btn btn-sm btn-outline-primary rounded border-1\",staticStyle:{\"font-size\":\"12px\"},on:{\"click\":function($event){return _vm.verDatos(persona.per_id)}}},[_vm._v(\" Ver datos \")])])])])}),0)])]):_vm._e()])])])]),_c('b-modal',{attrs:{\"title\":\"Registrar historial\",\"hide-header-close\":\"\",\"centered\":\"\",\"size\":\"md\",\"no-close-on-backdrop\":\"\"},on:{\"hide\":_vm.limpiarCampos},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function({ cancel, ok }){return [_c('b-button',{staticClass:\"btn btn-lg btn-secondary\",on:{\"click\":cancel}},[_vm._v(\"Cerrar\")]),_c('b-button',{staticClass:\"btn btn-lg btn-success\",on:{\"click\":_vm.registrarHistorial}},[_vm._v(\"Guardar \")])]}}]),model:{value:(_vm.modalRegistroHistorial),callback:function ($$v) {_vm.modalRegistroHistorial=$$v},expression:\"modalRegistroHistorial\"}},[_c('b-form',[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"NumeroExpediente\"}},[_vm._v(\"N° Expediente\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.historial.exp_id),expression:\"historial.exp_id\"}],staticClass:\"form-control\",attrs:{\"id\":\"NumeroExpediente\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.historial, \"exp_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"disabled\":\"\",\"selected\":\"\"},domProps:{\"value\":null}},[_vm._v(\"--Seleccionar\")]),_vm._l((_vm.expedientes),function(expediente){return _c('option',{domProps:{\"value\":expediente.exp_id}},[_vm._v(_vm._s(expediente.exp_numero))])})],2)]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Fecha\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.historial.his_fecha_hora),expression:\"historial.his_fecha_hora\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.historial.his_fecha_hora)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.historial, \"his_fecha_hora\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Medio de Contacto\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.historial.his_medio_comuniacion),expression:\"historial.his_medio_comuniacion\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.historial, \"his_medio_comuniacion\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"disabled\":\"\",\"selected\":\"\"},domProps:{\"value\":null}},[_vm._v(\"--Seleccionar\")]),_vm._l((_vm.medios),function(medio){return _c('option',{domProps:{\"value\":medio.name}},[_vm._v(_vm._s(medio.name))])})],2)]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"Detalles\"}},[_vm._v(\"Detalles o Resumen de la Comunicacion\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.historial.his_detalle),expression:\"historial.his_detalle\"}],staticClass:\"form-control\",attrs:{\"id\":\"Detalles\"},domProps:{\"value\":(_vm.historial.his_detalle)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.historial, \"his_detalle\", $event.target.value)}}})])])],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"#\")]),_c('th',[_vm._v(\"Documento\")]),_c('th',[_vm._v(\"Condicion\")]),_c('th',[_vm._v(\"Apellido paterno /\"),_c('br'),_vm._v(\" Razon social\")]),_c('th',[_vm._v(\"Apellido materno\")]),_c('th',[_vm._v(\"Nombres\")]),_c('th',[_vm._v(\"Interacciones\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"pc-container pb-4\">\r\n    <div class=\"pcoded-content\">\r\n      <div class=\"row mb-4 d-flex align-items-center\">\r\n        <div class=\"col-sm-12 col-md-6 col-xl-9\">\r\n          <h5><span class=\"text-primary\">Personas</span> | <span class=\"text-secondary\"> {{ tipoSeleccionado === '' ?\r\n            'Lista' : tipoSeleccionado.name }}</span></h5>\r\n        </div>\r\n        <div class=\"col-sm-12 col-md-6 col-xl-3\">\r\n          <select class=\"form-control\" v-model=\"tipoSeleccionado\">\r\n            <option value=\"\" selected disabled>Parte procesal</option>\r\n            <option v-for=\"item in tipos\" :value=\"item\">{{ item.name }}</option>\r\n          </select>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <div class=\"table-responsive\" v-if=\"personasFiltradas.length > 0\">\r\n                <table class=\"table table-hover\" id=\"table\" ref=\"dataTable\" aria-describedby=\"table-personas\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>#</th>\r\n                      <th>Documento</th>\r\n                      <!-- <th>Tipo Procesal</th> -->\r\n                      <th>Condicion</th>\r\n                      <th>Apellido paterno /<br> Razon social</th>\r\n                      <th>Apellido materno</th>\r\n                      <th>Nombres</th>\r\n                      <th>Interacciones</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"(persona, index) in personasFiltradas\" :key=\"index\">\r\n                      <td>{{ index + 1 }}</td>\r\n                      <td>{{ documento(persona) }}</td>\r\n                      <!-- <td>{{ persona.tipo_procesal }}</td> -->\r\n                      <td>{{ persona.per_condicion }}</td>\r\n                      <td class=\"text-truncate\" style=\"max-width: 100px;\">{{ apellidoPaternoRazonSocial(persona) }}</td>\r\n                      <td>{{ apellidoMaterno(persona) }}</td>\r\n                      <td>{{ nombres(persona) }}</td>\r\n                      <td>\r\n                        <div class=\"d-flex gap-2\">\r\n                          <button @click=\"modalHistorial(persona)\"\r\n                            class=\"btn btn-sm btn-outline-success rounded border-1\" style=\"font-size: 12px;\">\r\n                            Registrar Historial\r\n                          </button>\r\n\r\n                          <button @click=\"verDatos(persona.per_id)\"\r\n                            class=\"btn btn-sm btn-outline-primary rounded border-1\" style=\"font-size: 12px;\">\r\n                            Ver datos\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <b-modal v-model=\"modalRegistroHistorial\" title=\"Registrar historial\" hide-header-close centered size=\"md\"\r\n        @hide=\"limpiarCampos\" no-close-on-backdrop>\r\n        <b-form>\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\" for=\"NumeroExpediente\">N° Expediente</label>\r\n            <select class=\"form-control\" id=\"NumeroExpediente\" v-model=\"historial.exp_id\">\r\n              <option :value=\"null\" disabled selected>--Seleccionar</option>\r\n              <option v-for=\"expediente in expedientes\" :value=\"expediente.exp_id\">{{ expediente.exp_numero }}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\">Fecha</label>\r\n            <input v-model=\"historial.his_fecha_hora\" type=\"date\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\">Medio de Contacto</label>\r\n            <select class=\"form-control\" v-model=\"historial.his_medio_comuniacion\">\r\n              <option :value=\"null\" disabled selected>--Seleccionar</option>\r\n              <option v-for=\"medio in medios\" :value=\"medio.name\">{{ medio.name }}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label\" for=\"Detalles\">Detalles o Resumen de la Comunicacion</label>\r\n            <textarea class=\"form-control\" id=\"Detalles\" v-model=\"historial.his_detalle\"></textarea>\r\n          </div>\r\n        </b-form>\r\n        <template #modal-footer=\"{ cancel, ok }\">\r\n          <b-button v-on:click=\"cancel\" class=\"btn btn-lg btn-secondary\">Cerrar</b-button>\r\n          <b-button @click=\"registrarHistorial\" class=\"btn btn-lg btn-success\">Guardar </b-button>\r\n        </template>\r\n      </b-modal>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport feather from 'feather-icons';\r\nimport { BButton, BModal, BForm, BFormGroup, BFormInput } from 'bootstrap-vue';\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\r\nimport DataTable from '@/utils/dataTable';\r\n\r\nexport default {\r\n  name: 'demandados',\r\n  // mixins: [DataTable],\r\n  components: {\r\n    BButton,\r\n    BModal,\r\n    BForm,\r\n    BFormGroup,\r\n    BFormInput\r\n  },\r\n  mounted() {\r\n    this.leer();\r\n  },\r\n  updated() {\r\n    feather.replace();\r\n  },\r\n  data() {\r\n    return {\r\n      modalRegistroHistorial: false,\r\n      personas: [],\r\n      dataTable: null,\r\n      tipoSeleccionado: '',\r\n      tipos: [\r\n        { id: 1, name: 'Demandante' },\r\n        { id: 2, name: 'Demandado' },\r\n        { id: 3, name: 'Denunciante' },\r\n        { id: 4, name: 'Denunciado' },\r\n      ],\r\n      historial: {\r\n        per_id: null,\r\n        exp_id: null,\r\n        his_fecha_hora: null,\r\n        his_medio_comuniacion: null,\r\n        his_detalle: null\r\n      },\r\n      expedientes: null,\r\n      medios: [\r\n        { id: 1, name: 'Visita presencial' },\r\n        { id: 2, name: 'Llamada telefonica' },\r\n        { id: 3, name: 'Correo electronico' }\r\n      ]\r\n    };\r\n  },\r\n  watch: {\r\n    personasFiltradas: {\r\n      handler: 'initDataTable',\r\n      immediate: true,\r\n    },\r\n  },\r\n  computed: {\r\n    personasFiltradas() {\r\n      return this.tipoSeleccionado\r\n        ? this.personas.filter(persona => persona.tipo_procesal === this.tipoSeleccionado.name)\r\n        : this.personas;\r\n    }\r\n  },\r\n  methods: {\r\n    documento(persona) {\r\n      return persona.nat_dni === null ? persona.jur_ruc : persona.nat_dni;\r\n    },\r\n\r\n    apellidoPaternoRazonSocial(persona) {\r\n      return persona.nat_dni != null ? persona.nat_apellido_paterno : persona.jur_razon_social;\r\n    },\r\n\r\n    apellidoMaterno(persona) {\r\n      return persona.nat_dni != null ? persona.nat_apellido_materno : '--';\r\n    },\r\n\r\n    nombres(persona) {\r\n      return persona.nat_dni != null ? persona.nat_nombres : '--';\r\n    },\r\n\r\n    async modalHistorial(persona) {\r\n      try {\r\n        this.historial.per_id = persona.per_id;\r\n        const formData = {\r\n          \"documento\": this.documento(persona)\r\n        }\r\n        const response = await this.$postData('demandante/expedientes', this, formData)\r\n        this.expedientes = response.expedientes;\r\n        this.modalRegistroHistorial = true;\r\n      } catch (error) {\r\n        this.$handleApiError(error, 'cargar expedientes de la persona');\r\n      }\r\n\r\n    },\r\n\r\n    async registrarHistorial() {\r\n      try {\r\n        this.modalRegistroHistorial = false;\r\n        this.$showLoadingAlert('Guardando', 'Registrando historial, por favor espere...');\r\n        const response = await this.$postData('history/store', this, this.historial);\r\n        console.log(response);\r\n        // Otras operaciones exitosas aquí si es necesario\r\n      } catch (error) {\r\n        this.$handleApiError(error, 'registrar historial');\r\n      } finally {\r\n        this.$closeLoadingAlert();\r\n      }\r\n\r\n    },\r\n\r\n    verDatos(id) {\r\n      this.$router.push({ name: 'demandante/informacion', params: { id: id } });\r\n    },\r\n\r\n    async leer() {\r\n      try {\r\n        this.$showLoadingAlert();\r\n        const result = await this.$getData('personas', this);\r\n        this.personas = result.data;\r\n        // await this.waitForDataTableDraw(this, 'dataTable');\r\n        this.$closeLoadingAlert();\r\n      } catch (error) {\r\n        this.$handleApiError(error, 'leer');\r\n      }\r\n    },\r\n\r\n    async initDataTable() {\r\n      this.destroyDataTable();\r\n      await this.$nextTick();\r\n      this.dataTable = $(this.$refs.dataTable).DataTable({\r\n        language: {\r\n          url: '//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json',\r\n        },\r\n      });\r\n    },\r\n\r\n    destroyDataTable() {\r\n      this.dataTable && this.dataTable.destroy() && (this.dataTable = null);\r\n    },\r\n\r\n    limpiarCampos() {\r\n      for (let key in this.historial) {\r\n        if (this.historial.hasOwnProperty(key)) {\r\n          this.historial[key] = null;\r\n        }\r\n      }\r\n    },\r\n\r\n\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CrudPersonas.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CrudPersonas.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CrudPersonas.vue?vue&type=template&id=497f22d9\"\nimport script from \"./CrudPersonas.vue?vue&type=script&lang=js\"\nexport * from \"./CrudPersonas.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","tipoSeleccionado","name","directives","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","attrs","_l","tipos","item","domProps","personasFiltradas","length","ref","_m","persona","index","key","documento","per_condicion","staticStyle","apellidoPaternoRazonSocial","apellidoMaterno","nombres","modalHistorial","verDatos","per_id","_e","limpiarCampos","scopedSlots","_u","fn","cancel","ok","registrarHistorial","model","modalRegistroHistorial","callback","$$v","historial","exp_id","$set","expedientes","expediente","exp_numero","his_fecha_hora","composing","his_medio_comuniacion","medios","medio","his_detalle","staticRenderFns","components","BButton","BModal","BForm","BFormGroup","BFormInput","mounted","leer","updated","feather","data","personas","dataTable","id","watch","handler","immediate","computed","tipo_procesal","methods","nat_dni","jur_ruc","nat_apellido_paterno","jur_razon_social","nat_apellido_materno","nat_nombres","formData","response","$postData","error","$handleApiError","$showLoadingAlert","console","log","$closeLoadingAlert","$router","push","params","result","$getData","initDataTable","destroyDataTable","$nextTick","$","$refs","DataTable","language","url","destroy","hasOwnProperty","component"],"sourceRoot":""}