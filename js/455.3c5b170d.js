"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[455],{90455:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var s=function(){var t=this,a=t._self._c;return a("section",{staticClass:"pc-container pb-4"},[a("div",{staticClass:"pcoded-content"},[a("div",{staticClass:"row mb-4 d-flex align-items-center"},[a("div",{staticClass:"col-sm-12 col-md-6 col-xl-9"},[a("h5",[a("span",{staticClass:"text-primary"},[t._v("Personas")]),t._v(" | "),a("span",{staticClass:"text-secondary"},[t._v(" "+t._s(""===t.tipoSeleccionado?"Lista":t.tipoSeleccionado.name))])])]),a("div",{staticClass:"col-sm-12 col-md-6 col-xl-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoSeleccionado,expression:"tipoSeleccionado"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.tipoSeleccionado=a.target.multiple?e:e[0]}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("Parte procesal")]),t._l(t.tipos,(function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t.personasFiltradas.length>0?a("div",{staticClass:"table-responsive"},[a("table",{ref:"dataTable",staticClass:"table table-hover",attrs:{id:"table"}},[t._m(0),a("tbody",t._l(t.personasFiltradas,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(t.documento(e)))]),a("td",[t._v(t._s(e.tipo_procesal))]),a("td",{staticClass:"text-truncate",staticStyle:{"max-width":"100px"}},[t._v(t._s(t.apellidoPaternoRazonSocial(e)))]),a("td",[t._v(t._s(t.apellidoMaterno(e)))]),a("td",[t._v(t._s(t.nombres(e)))]),a("td",[a("div",{staticClass:"d-flex gap-2"},[a("button",{staticClass:"btn btn-sm btn-outline-success rounded border-1",staticStyle:{"font-size":"12px"},on:{click:function(a){return t.registrarHistorial(e.per_id)}}},[t._v(" Registrar Historial ")]),a("button",{staticClass:"btn btn-sm btn-outline-primary rounded border-1",staticStyle:{"font-size":"12px"},on:{click:function(a){return t.verDatos(e.per_id)}}},[t._v(" Ver datos ")])])])])})),0)])]):t._e()])])])])])])},n=[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Documento")]),a("th",[t._v("Tipo Procesal")]),a("th",[t._v("Apellido paterno /"),a("br"),t._v(" Razon social")]),a("th",[t._v("Apellido materno")]),a("th",[t._v("Nombres")]),a("th",[t._v("Interacciones")])])])}],i=(e(44114),e(59911)),o=e.n(i),l=(e(2637),{name:"demandados",mounted(){this.leer()},updated(){o().replace()},data(){return{personas:[],dataTable:null,tipoSeleccionado:"",tipos:[{id:1,name:"Demandante"},{id:2,name:"Demandado"},{id:3,name:"Denunciante"},{id:4,name:"Denunciado"}]}},watch:{personasFiltradas:{handler:"initDataTable",immediate:!0}},computed:{personasFiltradas(){return this.tipoSeleccionado?this.personas.filter((t=>t.tipo_procesal===this.tipoSeleccionado.name)):this.personas}},methods:{documento(t){return null===t.nat_dni?t.jur_ruc:t.nat_dni},apellidoPaternoRazonSocial(t){return null!=t.nat_dni?t.nat_apellido_paterno:t.jur_razon_social},apellidoMaterno(t){return null!=t.nat_dni?t.nat_apellido_materno:"--"},nombres(t){return null!=t.nat_dni?t.nat_nombres:"--"},registrarHistorial(t){this.$router.push({name:"demandante/historial/nuevo",params:{doc:t}})},verDatos(t){this.$router.push({name:"demandante/informacion",params:{id:t}})},async leer(){try{this.$showLoadingAlert();const t=await this.$getData("personas",this);this.personas=t.data,this.$closeLoadingAlert()}catch(t){this.$handleApiError(t,"leer")}},async initDataTable(){this.destroyDataTable(),await this.$nextTick(),this.dataTable=$(this.$refs.dataTable).DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}})},destroyDataTable(){this.dataTable&&this.dataTable.destroy()&&(this.dataTable=null)}}}),r=l,d=e(81656),c=(0,d.A)(r,s,n,!1,null,null,null),u=c.exports},2637:function(t,a){a.A={methods:{async initDataTable(){this.destroyDataTable(),await this.$nextTick(),this.dataTable=$(this.$refs.myDataTable).DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}})},destroyDataTable(){this.dataTable&&this.dataTable.destroy()&&(this.dataTable=null)}},beforeDestroy(){this.destroyDataTable()}}}}]);
//# sourceMappingURL=455.3c5b170d.js.map