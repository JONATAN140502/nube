"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[8094,9999],{35251:function(t,s,a){a.r(s),a.d(s,{default:function(){return N}});var e,i,r=function(){var t=this,s=t._self._c;return s("div",["ADMIN"===t.user_rol?s("Admin"):"ABOGADO"===t.user_rol?s("Abogado"):"SECRETARIA"===t.user_rol?s("Secretaria"):"ASISTENTE"===t.user_rol?s("Asistente"):t._e()],1)},o=[],c=function(){var t=this,s=t._self._c;return s("div",{staticClass:"pc-container pb-4"},[s("div",{staticClass:"pcoded-content p-md-9"},[s("div",{staticClass:"col-xl-9 col-md-12 col-sm-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-3 col-md-6 col-sm-12"},[s("div",{staticClass:"card bg-primary"},[s("div",{staticClass:"card-body"},[s("h6",{staticClass:"m-b-5 text-white"},[t._v("Tareas "+t._s(t.counts.alerts))])])])]),s("div",{staticClass:"col-xl-3 col-md-6 col-sm-12"},[s("div",{staticClass:"card bg-primary"},[s("div",{staticClass:"card-body"},[s("h6",{staticClass:"m-b-5 text-white"},[t._v("Audiencias "+t._s(t.counts.audiences))])])])]),s("div",{staticClass:"col-xl-3 col-md-6 col-sm-12"},[s("div",{staticClass:"card bg-primary"},[s("div",{staticClass:"card-body"},[s("h6",{staticClass:"m-b-5 text-white"},[t._v("Calendario "+t._s(t.counts.audiences+t.counts.alerts))])])])]),s("div",{staticClass:"col-xl-3 col-md-6 col-sm-12"},[s("div",{staticClass:"card bg-primary"},[s("div",{staticClass:"card-body"},[s("h6",{staticClass:"m-b-5 text-white"},[t._v("Expedientes "+t._s(t.counts.expTotal))])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12 col-sm-12"},[s("div",{staticClass:"card"},[t._m(0),s("div",{staticClass:"card-body px-5"},[s("div",{staticClass:"table-responsive"},[s("table",{ref:"myDataTable",staticClass:"table table-hover",attrs:{id:"table","aria-describedby":"tablaHomeAdmin"}},[t._m(1),s("tbody",t._l(t.expedientes,(function(a,e){return s("tr",{key:e},[s("td",[t._v(t._s(e+1))]),s("td",[t._v(t._s(t.accion(a)))]),s("td",[t._v(t._s(a.user.name))]),s("td",[t._v(t._s(t.formatFecha(a.created_at)))])])})),0)])])])])])])])])},l=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-header px-5"},[s("h5",[t._v("Modificaciones en el sistema")])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",[t._v("#")]),s("th",[t._v("Accion realizada")]),s("th",[t._v("Usuario")]),s("th",[t._v("Hora y fecha")])])])}],n=a(25800),d=a(90740),u=a.n(d),_=a(2637),h={name:"admin",mixins:[_.A],data(){return{expedientes:[],counts:[]}},mounted(){this.cargarExpedientes(),this.$nextTick((()=>{u().replace()}))},methods:{async cargarExpedientes(){try{this.$showLoadingAlert(),this.expedientes=(await this.$postData("reportes/inicioadmin",this)).data,this.counts=(await this.$postData("reportes/inicioadmin",this)).count,await this.$waitForDataTableDraw(this,"myDataTable")}catch(t){this.$handleApiError(t,"leer")}finally{this.$closeLoadingAlert()}},accion(t){return"Revisó el Expediente"==t.accion?`${this.formatAccion(t.accion)} : ${t.exp.exp_numero}`:this.formatAccion(t.accion)},formatAccion(t){return t&&"string"===typeof t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t},formatFecha(t){const s=new Date(t),a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return s.toLocaleDateString("es-ES",a)}}},m=h,p=a(81656),v=(0,p.A)(m,c,l,!1,null,null,null),b=v.exports,C=function(){var t=this,s=t._self._c;return s("div",{staticClass:"pc-container pb-4"},[s("div",{staticClass:"pcoded-content"},[s("div",{staticClass:"row pt-2 pb-3"},[s("div",{staticClass:"col-md-12"},[s("h5",[t._v("Bienvenido! "+t._s(t.name))]),s("p",[t._v("A continuacion se muestra un resumen de sus actividades.")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body mr-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"d-flex"},[t._m(0),s("p",{staticClass:"text-dark"},[t._v("Tiene "),s("span",{staticClass:"fw-bold"},[t._v(t._s(t.cantidad))]),t._v(" Expedientes asignados")]),s("router-link",{staticClass:"px-2 ml-auto",attrs:{to:"/expediente/busqueda"}},[t._v(" Ver más detalles "),s("i",{staticClass:"arrow-icon",attrs:{"data-feather":"arrow-right-circle"}})])],1)])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12 col-md-12"},[s("div",{staticClass:"card"},[t._m(1),s("div",{staticClass:"card-body mx-0 px-0 mt-0 pt-0"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table",attrs:{"aria-describedby":"table-home"}},[t._m(2),s("tbody",t._l(t.expedientes,(function(a){return s("tr",{key:a.exp_id},[s("td",{staticClass:"pl-4"},[s("router-link",{attrs:{to:{name:"expediente/detalle",params:{id:a.exp_id}}}},[t._v(" "+t._s(a.numero)+" ")])],1),s("td",[t._v(t._s(a.fecha_inicio))]),s("td",[t._v(t._s(t.getPersona(a.procesal,"DEMANDANTE",a.multiple))+" ")]),s("td",[t._v(t._s(t.getPersona(a.procesal,"DEMANDADO",a.multiple))+" ")]),s("td",[t._v(t._s(a.pretencion))]),s("td",[t._v(t._s(a.materia))]),s("td",{staticClass:"pr-5"},[s("span",{class:t.badgeClass(a.estado_proceso)},[t._v(" "+t._s(a.estado_proceso)+" ")])])])})),0)])])])])])])])])},x=[function(){var t=this,s=t._self._c;return s("span",{staticClass:"pc-micon text-primary px-2"},[s("i",{attrs:{"data-feather":"layers"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-header border-0"},[s("h6",{staticClass:"text-secondary p-0 m-0"},[t._v("Ultimos expedientes")])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"pl-4"},[t._v("N° de Expediente")]),s("th",[t._v("Fecha de Inicio")]),s("th",[t._v("Demandante")]),s("th",[t._v("Demandado")]),s("th",[t._v("Pretensión")]),s("th",[t._v("Materia")]),s("th",[t._v("Estado")])])])}],f={name:"admin",data(){return{cantidad:"",numeroAlertas:"",expedientes:[]}},computed:{name(){const t=this.$store.getters.get__user.datos.nombres,s=this.$store.getters.get__user.datos.apellido_paterno,a=this.$store.getters.get__user.datos.apellido_materno;return`${t} ${s} ${a}`},id(){return this.$store.getters.get__user.abo_id}},mounted(){this.cargarExpedientes(),this.$nextTick((()=>{u().replace()}))},methods:{async cargarExpedientes(){try{this.$showLoadingAlert();const t={abo_id:this.id},s=await this.$postData("lawyer/expedientes",this,t);this.expedientes=s.data.slice(0,5),this.cantidad=s.total,this.$closeLoadingAlert()}catch(t){this.$handleApiError(t,"cargar expedientes")}},getPersona(t,s,a){const e=t[0].tipo_procesal===s;return e?this.nombreCompleto(t,a):"UNPRG"},nombreCompleto(t,s){if("1"===s)return"Demanda Colectiva";const a=t[0].tipo_persona,{apellido_paterno:e,apellido_materno:i,nombres:r,razon_social:o}=t[0];return"NATURAL"===a?`${e} ${i} ${r}`:o},badgeClass:n.U7}},g=f,y=(0,p.A)(g,C,x,!1,null,null,null),A=y.exports,w=a(50384),$={},D=(0,p.A)($,e,i,!1,null,null,null),T=D.exports,E={name:"dashboard",components:{Admin:b,Abogado:A,Secretaria:w["default"],Asistente:T},data(){return{user_rol:""}},computed:{rol(){return this.$store.getters.get__user.usu_rol}},methods:{assignRolToUserRol(){this.user_rol=this.rol}},created(){this.assignRolToUserRol()}},k=E,R=(0,p.A)(k,r,o,!1,null,null,null),N=R.exports},2637:function(t,s,a){var e=a(46587);s.A={methods:{async initDataTable(){this.destroyDataTable(),await this.$nextTick(),this.dataTable=e(this.$refs.myDataTable).DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}})},destroyDataTable(){this.dataTable&&this.dataTable.destroy()&&(this.dataTable=null)}},beforeDestroy(){this.destroyDataTable()}}}}]);
//# sourceMappingURL=8094.55f42d7b.js.map