"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[612],{1612:function(t,e,a){a.r(e),a.d(e,{default:function(){return _}});var s=function(){var t=this,e=t._self._c;return e("section",{staticClass:"pc-container pb-4"},[e("div",{staticClass:"pcoded-content"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"card"},[t._m(1),e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("table",{ref:"myDataTable",staticClass:"table",attrs:{id:"table"}},[t._m(2),e("tbody",t._l(t.expedientesFiltrados,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(s+1))]),e("td",[e("router-link",{attrs:{to:{name:"expediente/detalle",params:{id:a.exp_id}}}},[t._v(" "+t._s(a.numero)+" ")])],1),e("td",[t._v(t._s(a.fecha_inicio))]),e("td",[t._v(t._s(t.isDemandante(a.procesal,a.multiple)))]),e("td",[t._v(t._s(a.materia))]),e("td",[t._v(t._s(a.pretencion))]),e("td",[e("span",{class:t.badgeClass(a.estado_proceso)},[t._v(" "+t._s(a.estado_proceso)+" ")])])])})),0)])])])])])])])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row mb-4"},[e("h5",{staticClass:"text-dark fw-bold"},[t._v("Busqueda de expedientes")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"text-secondary"},[t._v("Lista de expedientes Civil/Laboral")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("#")]),e("th",[t._v("N° de Expediente")]),e("th",[t._v("Fecha de Inicio")]),e("th",[t._v("Parte procesal")]),e("th",[t._v("Materia/Delito")]),e("th",[t._v("Pretensión")]),e("th",[t._v("Estado")])])])}],r=a(90740),n=a.n(r),o=a(2637),l=a(25800),d={name:"Buscar",mixins:[o.A],mounted(){this.$nextTick((()=>{n().replace()})),this.cargarExpedientes(),this.listarMaterias(),this.listarPretensiones()},data(){return{filtro_tipo_expediente:"",filtro_tipo_procesal:"",filtro_materia:"",filtro_pretension:"",materias:[],pretenciones:[],expedientes:[],dataTable:null,exp:{},idExpediente:null,showModal:"",pretension:""}},computed:{expedientesFiltrados(){return this.expedientes.filter((t=>(!this.filtro_tipo_expediente||t.estado_proceso.includes(this.filtro_tipo_expediente))&&(!this.filtro_tipo_procesal||t.procesal[0].tipo_procesal.includes(this.filtro_tipo_procesal))&&(!this.filtro_materia||t.materia.includes(this.filtro_materia))&&(!this.filtro_pretension||t.pretencion.includes(this.filtro_pretension))))}},methods:{async listarMaterias(){try{const t=await this.$getData("subject",this);this.materias=t.data}catch(t){this.$handleApiError(t,"listar materias")}},async listarPretensiones(){try{const t=await this.$getData("claim",this);this.pretenciones=t.data}catch(t){this.$handleApiError(t,"listar pretensiones")}},async cargarExpedientes(){try{this.$showLoadingAlert();const t=await this.$getData("proceeding",this);this.expedientes=t.data,console.log(t),await this.$waitForDataTableDraw(this,"myDataTable"),this.$closeLoadingAlert()}catch(t){this.$handleApiError(t,"cargar expedientes")}},isDemandante(t,e){return"DEMANDANTE"===t[0].tipo_procesal?this.nombreCompleto(t,e):"UNPRG"},isDemandado(t,e){return"DEMANDADO"===t[0].tipo_procesal?this.nombreCompleto(t,e):"UNPRG"},nombreCompleto(t,e){if("1"===e)return"Demanda Colectiva";const a=t[0].tipo_persona,{apellido_paterno:s,apellido_materno:i,nombres:r,razon_social:n}=t[0];return"NATURAL"===a?`${s} ${i} ${r}`:n},badgeClass:l.U7}},c=d,p=a(81656),h=(0,p.A)(c,s,i,!1,null,"00e9a6a9",null),_=h.exports},2637:function(t,e,a){var s=a(46587);e.A={methods:{async initDataTable(){this.destroyDataTable(),await this.$nextTick(),this.dataTable=s(this.$refs.myDataTable).DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}})},destroyDataTable(){this.dataTable&&this.dataTable.destroy()&&(this.dataTable=null)}},beforeDestroy(){this.destroyDataTable()}}}}]);
//# sourceMappingURL=612.c68f37c5.js.map