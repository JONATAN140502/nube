"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[8189],{58189:function(s,e,r){r.r(e),r.d(e,{default:function(){return c}});var a=function(){var s=this,e=s._self._c;return e("div",{staticClass:"auth-wrapper pb-0"},[e("div",{staticClass:"auth-content"},[e("div",{staticClass:"card rounded"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"img-fluid mb-4",attrs:{src:r(93763),alt:"Logo"}}),e("h6",{staticClass:"pb-3 text-secondary"},[s._v("Sistema de Gestión de Expedientes")]),e("span",{directives:[{name:"show",rawName:"v-show",value:s.showUserError,expression:"showUserError"}],staticClass:"text-danger"},[s._v(s._s(s.userErrorMessage))])]),e("form",{on:{submit:function(e){return e.preventDefault(),s.authLogin.apply(null,arguments)}}},[e("div",{staticClass:"form-group mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[s._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.credenciales.login,expression:"credenciales.login"}],ref:"emailInput",staticClass:"form-control text-secondary",class:{"has-error":s.errores.login},attrs:{type:"text",id:"email"},domProps:{value:s.credenciales.login},on:{input:[function(e){e.target.composing||s.$set(s.credenciales,"login",e.target.value)},function(e){return s.validarCampo("login")}]}}),s.errores.login?e("span",{staticClass:"text-danger"},[s._v("Ingrese un email.")]):s._e()]),e("div",{staticClass:"form-group mb-4"},[e("label",{staticClass:"form-label",attrs:{for:"password"}},[s._v("Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.credenciales.password,expression:"credenciales.password"}],staticClass:"form-control text-secondary",class:{"has-error":s.errores.password},attrs:{type:"password",id:"password"},domProps:{value:s.credenciales.password},on:{input:[function(e){e.target.composing||s.$set(s.credenciales,"password",e.target.value)},function(e){return s.validarCampo("password")}],keyup:function(e){return!e.type.indexOf("key")&&s._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.authLogin.apply(null,arguments)}}}),s.errores.password?e("span",{staticClass:"text-danger"},[s._v("Ingrese una contraseña.")]):s._e()]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-lg btn-primary w-100 fw-bold rounded",attrs:{type:"submit"}},[s.isLoading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e("span",[s._v("Iniciar Sesión")])])])])])])])])])])},t=[],i=(r(44114),{name:"Login",data(){return{credenciales:{login:"",password:""},errores:{login:!1,password:!1},showUserError:!1,userErrorMessage:"",isLoading:!1}},created(){this.url=this.$store.getters.get__url},mounted(){this.$refs.emailInput.focus()},methods:{validarCampo(s){this.errores[s]=""===this.credenciales[s]},validarCampos(){const s=Object.keys(this.errores);return s.forEach((s=>{this.validarCampo(s)})),s.every((s=>!this.errores[s]))},async authLogin(){if(this.isLoading=!0,this.validarCampos())try{const s=await this.$postData("user/login",this,this.credenciales);200===s.state?(this.$store.commit("mt_set_user",s.user),this.$router.push({path:"/home"})):this.handleFailedLogin("Usuario o contraseña incorrectos.")}catch(s){this.handleFailedLogin(`Error al iniciar sesión: ${s.message}`)}this.isLoading=!1},handleFailedLogin(s){this.showUserError=!0,this.userErrorMessage=s}}}),o=i,n=r(81656),l=(0,n.A)(o,a,t,!1,null,"11e2bd7f",null),c=l.exports},93763:function(s,e,r){s.exports=r.p+"img/logo-unprg.ea335e00.png"}}]);
//# sourceMappingURL=8189.61f28d9f.js.map