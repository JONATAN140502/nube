"use strict";(self["webpackChunklegalcase"]=self["webpackChunklegalcase"]||[]).push([[9936],{89936:function(a,e,t){t.r(e),t.d(e,{default:function(){return B}});var r=function(){var a=this,e=a._self._c;return e("section",{staticClass:"mt-3"},[1===a.currentPart?e("RegistroGeneral",{attrs:{exp:a.exp,ismultiple:a.ismultiple},on:{siguienteParte:a.siguienteParte,guardardatosgenerales:a.guardardatosgenerales,guardarmultiple:a.guardarmultiple}}):a._e(),2===a.currentPart&&"1"==a.ismultiple?e("RegistroProcesalMultiple",{attrs:{Personas:a.Personas},on:{anteriorParte:a.anteriorParte,siguienteParte:a.siguienteParte,guardarpersonas:a.guardarpersonas}}):a._e(),3===a.currentPart?e("RegistroAsignacion",{attrs:{abo_id:a.abo_id,abo_name:a.abo_name},on:{guardaraboid:a.guardaraboid,guardaraboname:a.guardaraboname,InsertData:a.InsertData,anteriorParte:a.anteriorParte}}):a._e()],1)},s=[],o=(t(44114),t(98355)),i=function(){var a=this,e=a._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card rounded"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"row d-flex align-items-center"},[e("div",{staticClass:"col-md-12 d-flex align-items-center"},[e("h5",[a._v("Datos Generales")]),e("div",{staticClass:"form-check form-switch ml-auto"},[e("input",{staticClass:"form-check-input",attrs:{disabled:"",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked"},domProps:{checked:"0"!=a.isMultiple},on:{change:a.mtdChangeMultiple}}),e("label",{staticClass:"form-check-label",attrs:{for:"flexSwitchCheckChecked"}},[a._v(a._s("0"==a.isMultiple?"Multiple Denunciante":"Un Solo Denunciado"))])])])])]),e("div",{staticClass:"card-body mb-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Carpeta Fiscal")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.datosgenerales.carpetafiscal,expression:"datosgenerales.carpetafiscal"}],staticClass:"form-control",attrs:{type:"text",placeholder:"404-2020"},domProps:{value:a.datosgenerales.carpetafiscal},on:{input:function(e){e.target.composing||a.$set(a.datosgenerales,"carpetafiscal",e.target.value)}}}),a.errores.exp_numero?e("span",{staticClass:"error-message"},[a._v("Ingrese un numero de expediente.")]):a._e()])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("N° de Expediente")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.datosgenerales.exp_numero,expression:"datosgenerales.exp_numero"}],staticClass:"form-control",attrs:{type:"text",placeholder:"1340-2014-21-1708-JR-PE-01",disabled:""==a.datosgenerales.carpetafiscal},domProps:{value:a.datosgenerales.exp_numero},on:{input:function(e){e.target.composing||a.$set(a.datosgenerales,"exp_numero",e.target.value)}}}),a.errores.exp_numero?e("span",{staticClass:"error-message"},[a._v("Ingrese un numero de expediente.")]):a._e()])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Fecha de Inicio")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.datosgenerales.exp_fecha_inicio,expression:"datosgenerales.exp_fecha_inicio"}],staticClass:"form-control",class:{"has-error":a.errores.exp_fecha_inicio},attrs:{type:"date"},domProps:{value:a.datosgenerales.exp_fecha_inicio},on:{input:[function(e){e.target.composing||a.$set(a.datosgenerales,"exp_fecha_inicio",e.target.value)},function(e){return a.validarCampo("exp_fecha_inicio")}]}}),a.errores.exp_fecha_inicio?e("span",{staticClass:"error-message"},[a._v("Ingrese una fecha de inicio.")]):a._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v(" Delito")]),e("v-select",{class:{"has-error":a.errores.exp_pretencion},attrs:{options:a.pretenciones.filter((a=>2===a.type_id)),reduce:a=>a.pre_id,label:"pre_nombre",placeholder:"-- Seleccionar"},on:{input:function(e){return a.validarCampo("exp_pretencion")}},model:{value:a.datosgenerales.exp_pretencion,callback:function(e){a.$set(a.datosgenerales,"exp_pretencion",e)},expression:"datosgenerales.exp_pretencion"}}),a.errores.exp_pretencion?e("span",{staticClass:"error-message"},[a._v("Seleccione un Delito.")]):a._e()],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Monto de Reparación Civil")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.datosgenerales.exp_monto_pretencion,expression:"datosgenerales.exp_monto_pretencion"}],staticClass:"form-control",class:{"has-error":a.errores.exp_monto_pretencion},attrs:{type:"number",placeholder:"5500.00"},domProps:{value:a.datosgenerales.exp_monto_pretencion},on:{input:[function(e){e.target.composing||a.$set(a.datosgenerales,"exp_monto_pretencion",e.target.value)},function(e){return a.validarCampo("exp_monto_pretencion")}]}}),a.errores.exp_monto_pretencion?e("span",{staticClass:"error-message"},[a._v("Ingrese un monto de pretension.")]):a._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Distrito Judicial/Penal")]),e("v-select",{class:{"has-error":a.errores.exp_distrito_judicial},attrs:{options:a.distritos,reduce:a=>a.judis_id,label:"judis_nombre",placeholder:"-- Seleccionar"},on:{input:a.cargarinstancias},model:{value:a.datosgenerales.exp_distrito_judicial,callback:function(e){a.$set(a.datosgenerales,"exp_distrito_judicial",e)},expression:"datosgenerales.exp_distrito_judicial"}}),a.errores.exp_distrito_judicial?e("span",{staticClass:"error-message"},[a._v("Seleccione un Distrito Judicial.")]):a._e()],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Fiscalia")]),e("v-select",{class:{"has-error":a.errores.exp_instancia},attrs:{options:a.instancia.filter((e=>2===e.type_id&&e.judis_id==a.datosgenerales.exp_distrito_judicial)),reduce:a=>a.ins_id,label:"ins_nombre",placeholder:"-- Seleccionar"},on:{input:a.cargarespecialidades},model:{value:a.datosgenerales.exp_instancia,callback:function(e){a.$set(a.datosgenerales,"exp_instancia",e)},expression:"datosgenerales.exp_instancia"}}),a.errores.exp_instancia?e("span",{staticClass:"error-message"},[a._v("Seleccione una Instancia.")]):a._e()],1)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label mb-1"},[a._v("Sala Penal/Juzgado")]),e("v-select",{class:{"has-error":a.errores.exp_juzgado},attrs:{options:a.juzgados.filter((a=>2===a.type_id)),reduce:a=>a.co_id,label:"co_nombre",placeholder:"-- Seleccionar"},on:{input:function(e){return a.validarCampo("exp_juzgado")}},model:{value:a.datosgenerales.exp_juzgado,callback:function(e){a.$set(a.datosgenerales,"exp_juzgado",e)},expression:"datosgenerales.exp_juzgado"}}),a.errores.exp_juzgado?e("span",{staticClass:"error-message"},[a._v("Seleccione....")]):a._e()],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label mb-1"},[a._v("Estado:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.datosgenerales.exp_estado_proceso,expression:"datosgenerales.exp_estado_proceso"}],staticClass:"form-control",class:{"has-error":a.errores.exp_estado_proceso},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.datosgenerales,"exp_estado_proceso",e.target.multiple?t:t[0])},function(e){return a.validarCampo("exp_estado_proceso")}]}},[e("option",{staticClass:"py-5",attrs:{value:"",disabled:"",selected:""}},[a._v("-- Seleccionar")]),e("option",{attrs:{value:"EN TRAMITE"}},[a._v("En Tramite")]),e("option",{attrs:{value:"EN EJECUCION"}},[a._v("En Ejecución")]),e("option",{attrs:{value:"ARCHIVADO"}},[a._v("Archivado")])]),a.errores.exp_estado_proceso?e("span",{staticClass:"error-message"},[a._v("Selecione un estado para el Expediente.")]):a._e()])])]),"EN EJECUCION"==a.datosgenerales.exp_estado_proceso||"ARCHIVADO"==a.datosgenerales.exp_estado_proceso?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"MontoPretencion"}},[a._v("Reparación Civil 1")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.datosgenerales.exp_monto_ejecucion1,expression:"datosgenerales.exp_monto_ejecucion1"}],staticClass:"form-control",attrs:{type:"number",id:"MontoPretencion",placeholder:"S/ 5500.00"},domProps:{value:a.datosgenerales.exp_monto_ejecucion1},on:{input:function(e){e.target.composing||a.$set(a.datosgenerales,"exp_monto_ejecucion1",e.target.value)}}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"MontoConsentido"}},[a._v("Reparacion Civil 2")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.datosgenerales.exp_monto_ejecucion2,expression:"datosgenerales.exp_monto_ejecucion2"}],staticClass:"form-control",attrs:{type:"number",id:"MontoConsentido",placeholder:"S/ 5000.00"},domProps:{value:a.datosgenerales.exp_monto_ejecucion2},on:{input:function(e){e.target.composing||a.$set(a.datosgenerales,"exp_monto_ejecucion2",e.target.value)}}})])])]):a._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 d-flex justify-content-end"},[e("button",{staticClass:"btn btn-primary btn-lg rounded",attrs:{type:"button"},on:{click:a.siguienteParte}},[a._v(" Siguiente "),e("i",{attrs:{"data-feather":"arrow-right"}})])])])])])])])},n=[],l=t(90740),c=t.n(l),d=t(34061),p=(t(11530),t(4874)),_=t.n(p),u={name:"RegistroGeneral",props:{exp:{},ismultiple:""},created(){this.isMultiple=this.ismultiple,this.listarMaterias(),this.listarPretensiones(),this.datosgenerales=this.exp,this.cargarinstancias(),this.cargarespecialidades(),this.cargarjuzgados(),this.cargardistritos()},mounted(){this.$nextTick((()=>{c().replace()}))},data(){return{isMultiple:"",distritos:[],instancia:[],especialidad:[],materias:[],pretenciones:[],distritos:[],juzgados:[],datosgenerales:{carpetafiscal:"",exp_numero:"",exp_fecha_inicio:"",exp_pretencion:"",exp_materia:"",exp_distrito_judicial:"",exp_instancia:"",exp_especialidad:"",exp_monto_pretencion:"",exp_juzgado:"",exp_estado_proceso:"",exp_costos:"",exp_monto_ejecucion1:"",exp_monto_ejecucion2:"",exp_interes1:"",exp_interes2:""},selectedFile:null,fileError:"",errores:{file:!1,exp_numero:!1,exp_fecha_inicio:!1,exp_pretencion:!1,exp_monto_pretencion:!1,exp_materia:!1,exp_distrito_judicial:!1,exp_instancia:!1,exp_especialidad:!1,exp_juzgado:!1,exp_estado_proceso:!1}}},methods:{async listarMaterias(){try{const a=await(0,d.bQ)("subject",this);this.materias=a.data}catch(a){this.$handleApiError(a,"listar materias")}},async listarPretensiones(){try{const a=await(0,d.bQ)("claim",this);this.pretenciones=a.data}catch(a){this.$handleApiError(a,"listar pretensiones")}},async cargardistritos(){try{const a=await(0,d.bQ)("judicialdistrict",this);this.distritos=a.data}catch(a){this.$handleApiError(a,"listar distritos judiciales")}},async cargarjuzgados(){if(this.datosgenerales.exp_distrito_judicial)try{const a={judis_id:this.datosgenerales.exp_distrito_judicial},e=await(0,d.LS)("juzgado",this,a);this.juzgados=e.data}catch(a){this.$handleApiError(a,"listar organos jurisdiccionales")}},async cargarinstancias(){if(this.datosgenerales.exp_distrito_judicial)try{const a=await(0,d.bQ)("instance",this);this.instancia=a.data,this.cargarjuzgados()}catch(a){this.$handleApiError(a,"listar instancias")}},async cargarespecialidades(){if(this.datosgenerales.exp_distrito_judicial)try{const a=await(0,d.bQ)("specialty",this);this.especialidad=a.data}catch(a){this.$handleApiError(a,"listar especialidades")}},getJuzgadoNombre(a){return a.co_nombre?a.co_nombre.toUpperCase():""},onFileChange(a){this.selectedFile=a.target.files[0]},uploadFile(){if(!this.selectedFile)return void _().fire({icon:"warning",title:"",text:"Tiene que seleccionar un archivo para cargar datos."});let a;a=_().fire({title:" Cargando Datos",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});const e=new FormData;e.append("excel",this.selectedFile),this.$axios.post(`${this.$store.getters.get__url}/excel/cargar`,e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${this.$store.getters.get__token}`},params:this.archivo}).then((e=>{console.log(e.data),a&&a.close(),_().fire({title:"Datos Cargados Correctamente",text:`Las filas que tuvieron error  son: ${e.data.data.join(", ")}`,icon:"success",allowOutsideClick:!1,showCancelButton:!1,confirmButtonColor:"#3085d6",confirmButtonText:"OK"}).then((a=>{a.isConfirmed&&(this.$refs.fileInput.value=null,this.selectedFile=null,this.$router.push({path:"/sisge/expediente/busqueda"}))}))})).catch((e=>{_().fire({icon:"error",title:"Error al cargar datos",text:`Ha ocurrido un error al cargar el archivo:${e.response.data.message}`}),a&&a.close(),console.error(e)}))},validarCampo(a){this.errores[a]=""===this.datosgenerales[a]},validarCampos(){return Object.keys(this.errores).forEach((a=>{this.validarCampo(a,a)})),!Object.values(this.errores).some((a=>a))},siguienteParte(){this.$emit("guardardatosgenerales",this.datosgenerales),this.$emit("guardarmultiple",this.isMultiple),this.$emit("siguienteParte")},mtdChangeMultiple(){this.isMultiple="1"==this.isMultiple?"0":"1"}}},m=u,v=t(81656),h=(0,v.A)(m,i,n,!1,null,"ec2ed7da",null),g=h.exports,f=function(){var a=this,e=a._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card shadow"},[a._m(0),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row mb-3"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Tipo de parte procesal")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.tipo_procesal,expression:"tipo_procesal"}],staticClass:"form-control",class:{"has-error":a.errores.tipo_procesal},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.tipo_procesal=e.target.multiple?t:t[0]},function(e){return a.validarSelect("tipo_procesal")}]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[a._v("-- Seleccione una opción")]),e("option",{attrs:{value:"DENUNCIANTE"}},[a._v("DENUNCIANTE")]),e("option",{attrs:{value:"DENUNCIADO"}},[a._v("DENUNCIADO")])]),a.errores.tipo_procesal?e("span",{staticClass:"text-danger"},[a._v("Seleccione el Tipo de Parte Procesal.")]):a._e()])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Tipo de persona")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.tipo_persona,expression:"tipo_persona"}],staticClass:"form-control",class:{"has-error":a.errores.tipo_persona},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.tipo_persona=e.target.multiple?t:t[0]},function(e){return a.validarSelect("tipo_persona")}]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[a._v("-- Seleccione una opción")]),e("option",{attrs:{value:"NATURAL"}},[a._v("Persona Natural")]),e("option",{attrs:{value:"JURIDICA"}},[a._v("Persona Juridica")])]),a.errores.tipo_persona?e("span",{staticClass:"text-danger"},[a._v("Seleccione el Tipo de Persona.")]):a._e()])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Condición de procesal")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.condicion1,expression:"condicion1"}],staticClass:"form-control",class:{"has-error":a.errores.condicion1},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.condicion1=e.target.multiple?t:t[0]},function(e){return a.validarSelect("condicion1")}]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[a._v("-- Seleccione una opción")]),e("option",{attrs:{value:"DOCENTE UNIVERSITARIO",selected:""}},[a._v("Docente Universitario")]),e("option",{attrs:{value:"ESTUDIANTE"}},[a._v("Estudiante")]),e("option",{attrs:{value:"ADMINISTRATIVO"}},[a._v("Administrativo")]),e("option",{attrs:{value:"TERCERO"}},[a._v("Tercero")])]),a.errores.condicion1?e("span",{staticClass:"text-danger"},[a._v("Seleccione condicion del demandante.")]):a._e()])])]),a._m(1),"NATURAL"===a.tipo_persona?e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"dni"}},[a._v("DNI")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pnat.nat_dni,expression:"pnat.nat_dni"}],staticClass:"form-control",class:{"has-error":a.errores.nat_dni},attrs:{type:"text",id:"dni",placeholder:"12345678"},domProps:{value:a.pnat.nat_dni},on:{keyup:function(e){return a.filterpersona()},input:[function(e){e.target.composing||a.$set(a.pnat,"nat_dni",e.target.value)},function(e){return a.validarCampo("nat_dni")}]}}),a.errores.nat_dni?e("span",{staticClass:"text-danger"},[a._v("Ingrese DNI.")]):a._e()])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Apellido Paterno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pnat.nat_apellido_paterno,expression:"pnat.nat_apellido_paterno"}],staticClass:"form-control",class:{"has-error":a.errores.nat_apellido_paterno},attrs:{type:"text",placeholder:"Alarcon"},domProps:{value:a.pnat.nat_apellido_paterno},on:{input:[function(e){e.target.composing||a.$set(a.pnat,"nat_apellido_paterno",e.target.value)},function(e){return a.validarCampo("nat_apellido_paterno")}]}}),a.errores.nat_apellido_paterno?e("span",{staticClass:"text-danger"},[a._v("Ingrese Apellido Paterno")]):a._e()])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Apellido Materno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pnat.nat_apellido_materno,expression:"pnat.nat_apellido_materno"}],staticClass:"form-control",class:{"has-error":a.errores.nat_apellido_materno},attrs:{type:"text",placeholder:"Ramirez"},domProps:{value:a.pnat.nat_apellido_materno},on:{input:[function(e){e.target.composing||a.$set(a.pnat,"nat_apellido_materno",e.target.value)},function(e){return a.validarCampo("nat_apellido_materno")}]}}),a.errores.nat_apellido_materno?e("span",{staticClass:"text-danger"},[a._v(" Ingrese Apellido Materno. ")]):a._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Nombres")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pnat.nat_nombres,expression:"pnat.nat_nombres"}],staticClass:"form-control",class:{"has-error":a.errores.nat_nombres},attrs:{type:"text",placeholder:"Jhon Doe"},domProps:{value:a.pnat.nat_nombres},on:{input:[function(e){e.target.composing||a.$set(a.pnat,"nat_nombres",e.target.value)},function(e){return a.validarCampo("nat_nombres")}]}}),a.errores.nat_nombres?e("span",{staticClass:"text-danger"},[a._v(" Ingrese Nombre. ")]):a._e()])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Telefono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pnat.nat_telefono,expression:"pnat.nat_telefono"}],staticClass:"form-control",attrs:{type:"text",placeholder:"980560345"},domProps:{value:a.pnat.nat_telefono},on:{input:function(e){e.target.composing||a.$set(a.pnat,"nat_telefono",e.target.value)}}})])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Email ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pnat.nat_correo,expression:"pnat.nat_correo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"example@gmail.com"},domProps:{value:a.pnat.nat_correo},on:{input:function(e){e.target.composing||a.$set(a.pnat,"nat_correo",e.target.value)}}})])])])]):a._e(),"JURIDICA"===a.tipo_persona?e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"ruc"}},[a._v("RUC")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pj.jur_ruc,expression:"pj.jur_ruc"}],staticClass:"form-control",class:{"has-error":a.errores.jur_ruc},attrs:{type:"text",id:"ruc",placeholder:""},domProps:{value:a.pj.jur_ruc},on:{keyup:function(e){return a.filterpersona()},input:[function(e){e.target.composing||a.$set(a.pj,"jur_ruc",e.target.value)},function(e){return a.validarCampo("jur_ruc")}]}}),a.errores.jur_ruc?e("span",{staticClass:"text-danger"},[a._v(" Ingrese RUC. ")]):a._e()])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"razonSocial"}},[a._v("Nombre o Razon Social")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pj.jur_razon_social,expression:"pj.jur_razon_social"}],staticClass:"form-control",class:{"has-error":a.errores.jur_razon_social},attrs:{type:"text",id:"razonSocial",placeholder:""},domProps:{value:a.pj.jur_razon_social},on:{input:[function(e){e.target.composing||a.$set(a.pj,"jur_razon_social",e.target.value)},function(e){return a.validarCampo("jur_razon_social")}]}}),a.errores.jur_razon_social?e("span",{staticClass:"text-danger"},[a._v(" Ingrese la Razon Social. ")]):a._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"telefono"}},[a._v("Telefono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pj.jur_telefono,expression:"pj.jur_telefono"}],staticClass:"form-control",attrs:{type:"text",id:"telefono",placeholder:""},domProps:{value:a.pj.jur_telefono},on:{input:function(e){e.target.composing||a.$set(a.pj,"jur_telefono",e.target.value)}}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[a._v("Email ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.pj.jur_correo,expression:"pj.jur_correo"}],staticClass:"form-control",attrs:{type:"text",id:"email",placeholder:""},domProps:{value:a.pj.jur_correo},on:{input:function(e){e.target.composing||a.$set(a.pj,"jur_correo",e.target.value)}}})])])])]):a._e(),a._m(2),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"departamento"}},[a._v("Departamento")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.direccion.dep_id,expression:"direccion.dep_id"}],staticClass:"form-control",class:{"has-error":a.errores.dep_id},attrs:{id:"departamento"},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.direccion,"dep_id",e.target.multiple?t:t[0])},a.cargarProvincias]}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[a._v("Seleccione una opción")]),a._l(a.departamentos,(function(t){return e("option",{domProps:{value:t.dep_id}},[a._v(a._s(t.dep_nombre)+" ")])}))],2),a.errores.dep_id?e("span",{staticClass:"text-danger"},[a._v(" Seleccione un Departamento. ")]):a._e()])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"provincia"}},[a._v("Provincia")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.direccion.pro_id,expression:"direccion.pro_id"}],staticClass:"form-control",class:{"has-error":a.errores.pro_id},attrs:{id:"provincia"},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.direccion,"pro_id",e.target.multiple?t:t[0])},a.cargarDistritos]}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[a._v("Seleccione una opción")]),a._l(a.provincias,(function(t){return e("option",{domProps:{value:t.pro_id}},[a._v(a._s(t.pro_nombre))])}))],2),a.errores.pro_id?e("span",{staticClass:"text-danger"},[a._v(" Seleccione una Provincia. ")]):a._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"distrito"}},[a._v("Distrito")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.direccion.dis_id,expression:"direccion.dis_id"}],staticClass:"form-control",class:{"has-error":a.errores.dis_id},attrs:{id:"distrito"},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.direccion,"dis_id",e.target.multiple?t:t[0])},function(e){return a.validarCampo("dis_id")}]}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[a._v("Seleccione una opción")]),a._l(a.distritos,(function(t){return e("option",{domProps:{value:t.dis_id}},[a._v(a._s(t.dis_nombre)+" ")])}))],2),a.errores.dis_id?e("span",{staticClass:"text-danger"},[a._v(" Seleccione un Distrito. ")]):a._e()])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"calleAvenida"}},[a._v("Calle, Avenida, Mz, S/N")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.direccion.dir_calle_av,expression:"direccion.dir_calle_av"}],staticClass:"form-control",class:{"has-error":a.errores.dir_calle_av},attrs:{type:"text",id:"calleAvenida",placeholder:"Av. Peru 2345"},domProps:{value:a.direccion.dir_calle_av},on:{input:[function(e){e.target.composing||a.$set(a.direccion,"dir_calle_av",e.target.value)},function(e){return a.validarCampo("dir_calle_av")}]}}),a.errores.dir_calle_av?e("span",{staticClass:"text-danger"},[a._v(" Ingrese una Calle, Avenida o S/N. ")]):a._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn btn-secondary btn-lg rounded",attrs:{type:"button"},on:{click:a.anteriorParte}},[e("i",{attrs:{"data-feather":"arrow-left"}}),a._v(" Anterior")]),e("button",{staticClass:"btn btn-primary btn-lg rounded ml-2",attrs:{type:"button"},on:{click:a.siguienteParte}},[a._v(" Siguiente"),e("i",{attrs:{"data-feather":"arrow-right"}})])])])])])])])])},C=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"text-secondary"},[a._v("Partes Procesales")])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"row mb-3"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"alert alert-primary text-primary",attrs:{role:"alert"}},[a._v(" Informacion Personal ")])])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"row my-2"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"alert alert-primary text-primary",attrs:{role:"alert"}},[a._v(" Direccion ")])])])}],b={name:"RegistroProcesal",props:{pn:{},pj:{},dir:{},tipopersona:"",procesal:"",condicion:""},data(){return{esPersonaNatural:!0,departamentos:[],provincias:[],distritos:[],direccion:{dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},pnat:{nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:""},pjuc:{jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:""},tipo_procesal:"",tipo_persona:"",condicion1:"",errores:{tipo_procesal:!1,tipo_persona:!1,condicion1:!1,nat_dni:!1,nat_apellido_paterno:!1,nat_apellido_materno:!1,nat_nombres:!1,jur_ruc:!1,jur_razon_social:!1,dep_id:!1,pro_id:!1,dis_id:!1,dir_calle_av:!1}}},async created(){this.pnat=this.pn,this.pjuc=this.pj,this.direccion=this.dir,this.tipo_persona=this.tipopersona,this.condicion1=this.condicion1,""==this.tipo_persona&&(this.tipo_persona="NATURAL"),"NATURAL"==this.tipo_persona?this.tipo_persona="NATURAL":this.tipo_persona="JURIDICA",this.tipo_procesal=this.procesal,""==this.tipo_procesal&&(this.tipo_procesal="DEMANDANTE"),"DEMANDANTE"==this.tipo_procesal?this.tipo_procesal="DEMANDANTE":this.tipo_procesal="DEMANDADO",await this.cargarDepartamentos(),this.direccion.dep_id&&await this.cargarProvincias(),this.direccion.pro_id&&await this.cargarDistritos()},mounted(){this.$nextTick((()=>{c().replace()})),this.formData=this.$store.getters.getFormData},methods:{async cargarDepartamentos(){try{const a=await(0,d.bQ)("department",this);this.departamentos=a.data,this.provincias=[],this.distritos=[]}catch(a){this.$handleApiError(a,"cargar departamentos")}},async cargarProvincias(){if(this.direccion.pro_id="",this.direccion.dis_id="",this.provincias=[],this.distritos=[],this.validarCampo("dep_id"),this.direccion.dep_id)try{const a={dep_id:this.direccion.dep_id},e=await(0,d.LS)("department/provincias",this,a);this.provincias=e.data}catch(a){this.$handleApiError(a,"cargar provincias")}},async cargarDistritos(){if(this.direccion.dis_id="",this.distritos=[],this.validarCampo("pro_id"),this.direccion.pro_id)try{const a={pro_id:this.direccion.pro_id},e=await(0,d.LS)("department/distritos",this,a);this.distritos=e.data}catch(a){this.$handleApiError(a,"cargar provincias")}},validarSelect(a){this.errores[a]=""===this[a]},validarSelects(){return this.validarSelect("tipo_procesal"),this.validarSelect("tipo_persona"),this.validarSelect("condicion1"),!Object.values(this.errores).some((a=>a))},validarCampo(a){"NATURAL"===this.tipo_persona&&(this.errores[a]=""===this.direccion[a]||""===this.pnat[a]),"JURIDICA"===this.tipo_persona&&(this.errores[a]=""===this.direccion[a]||""===this.pjuc[a])},validarCampos(){return Object.keys(this.errores).forEach((a=>{this.validarCampo(a,a)})),!Object.values(this.errores).some((a=>a))},emitirEventos(){this.$emit("guardarpn",this.pnat),this.$emit("guardarpj",this.pjuc),this.$emit("guardardir",this.direccion),this.$emit("guardartipopersona",this.tipo_persona),this.$emit("guardarprocesal",this.tipo_procesal),this.$emit("guardarcondicion",this.condicion1)},anteriorParte(){this.$emit("anteriorParte"),this.emitirEventos()},siguienteParte(){this.validarCampos()&&this.validarSelects()&&(this.emitirEventos(),this.$emit("siguienteParte"))},async filterpersona(){let a;if("NATURAL"==this.tipo_persona){if(8===this.pnat.nat_dni.length){a=_().fire({title:"Buscando",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});try{const e=await o.A.post(`${this.$store.getters.get__url}/proceeding/filterprocesal`,{doc:this.pnat.nat_dni,tipo:this.tipo_persona},{headers:{Authorization:`Bearer ${this.$store.getters.get__token}`}});a&&a.close(),0==e.data.state?(_().fire("Datos Encontrados","Ok","success"),this.pnat.nat_apellido_paterno=e.data.data.nat_apellido_paterno,this.pnat.nat_apellido_materno=e.data.data.nat_apellido_materno,this.pnat.nat_nombres=e.data.data.nat_nombres,this.pnat.nat_telefono=e.data.data.nat_telefono,this.pnat.nat_correo=e.data.data.nat_correo,this.direccion.dep_id=e.data.dir.dep_id,this.cargarProvincias(),this.direccion.pro_id=e.data.dir.pro_id,this.cargarDistritos(),this.direccion.dis_id=e.data.dir.dis_id,this.direccion.dir_calle_av=e.data.dir.dir_calle_av):(_().fire("Datos No encontrados","Registre","warning"),this.direccion={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},this.pnat.nat_apellido_paterno="",this.pnat.nat_apellido_materno="",this.pnat.nat_nombres="",this.pnat.nat_telefono="",this.pnat.nat_correo="")}catch(e){a&&a.close(),_().fire("Datos No encontrados","Registre","warning"),this.direccion={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},this.pnat.nat_apellido_paterno="",this.pnat.nat_apellido_materno="",this.pnat.nat_nombres="",this.pnat.nat_telefono="",this.pnat.nat_correo="",this.handleError("Error al actualizar el expediente",e)}}}else if(11===this.pj.jur_ruc.length){a=_().fire({title:"Buscando",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});try{const e=await o.A.post(`${this.$store.getters.get__url}/proceeding/filterprocesal`,{doc:this.pj.jur_ruc,tipo:this.tipo_persona},{headers:{Authorization:`Bearer ${this.$store.getters.get__token}`}});a&&a.close(),0==e.data.state?(_().fire("Datos Encontrados","Ok","success"),this.pjuc.jur_razon_social=e.data.data.jur_razon_social,this.pjuc.jur_telefono=e.data.data.jur_telefono,this.pjuc.jur_correo=e.data.data.jur_correo,this.pjuc.jur_rep_legal=e.data.data.jur_rep_legal,this.direccion.dep_id=e.data.dir.dep_id,this.cargarProvincias(),this.direccion.pro_id=e.data.dir.pro_id,this.cargarDistritos(),this.direccion.dis_id=e.data.dir.dis_id,this.direccion.dir_calle_av=e.data.dir.dir_calle_av):(_().fire("Datos No encontrados","Registre","warning"),this.direccion={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},this.pjuc.jur_razon_social="",this.pjuc.jur_telefono="",this.pjuc.jur_correo="",this.pjuc.jur_rep_legal="")}catch(e){a&&a.close(),_().fire("Datos No encontrados","Registre","warning"),this.direccion={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},this.pjuc.jur_razon_social="",this.pjuc.jur_telefono="",this.pjuc.jur_correo="",this.pjuc.jur_rep_legal="",this.handleError("Error al actualizar el expediente",e)}}}}},x=b,j=(0,v.A)(x,f,C,!1,null,"90cd5a52",null),A=j.exports,y=function(){var a=this,e=a._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card shadow rounded"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"row d-flex align-items-center"},[a._m(0),e("div",{staticClass:"col-xl-6 col-sm-12"},[e("div",{staticClass:"d-flex justify-content-end"},[e("button",{staticClass:"btn btn-outline-primary btn-lg rounded px-5",attrs:{type:"button"},on:{click:a.mostrarModal}},[a._v(" Lista ")])])])])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row mb-3"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Tipo de parte procesal")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.procesal.procesal,expression:"procesal.procesal"}],staticClass:"form-control",on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.procesal,"procesal",e.target.multiple?t:t[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[a._v("-- Seleccione una opción")]),e("option",{attrs:{value:"DENUNCIANTE"}},[a._v("DENUNCIANTE")]),e("option",{attrs:{value:"DENUNCIADO"}},[a._v("DENUNCIADO")])])])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Tipo de persona")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.procesal.tipo,expression:"procesal.tipo"}],staticClass:"form-control",on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.procesal,"tipo",e.target.multiple?t:t[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[a._v("-- Seleccione una opción")]),e("option",{attrs:{value:"NATURAL"}},[a._v("Persona Natural")]),e("option",{attrs:{value:"JURIDICA"}},[a._v("Persona Juridica")])])])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Condición de demandante")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.procesal.condicion,expression:"procesal.condicion"}],staticClass:"form-control",on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.procesal,"condicion",e.target.multiple?t:t[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[a._v("-- Seleccione una opción")]),e("option",{attrs:{value:"DOCENTE UNIVERSITARIO"}},[a._v("Docente Universitario")]),e("option",{attrs:{value:"ESTUDIANTE"}},[a._v("Estudiante")]),e("option",{attrs:{value:"ADMINISTRATIVO"}},[a._v("Administrativo")]),e("option",{attrs:{value:"TERCERO"}},[a._v("Tercero")]),e("option",{attrs:{value:"FUNCIONARIO"}},[a._v("Funcionario")])])])])]),""!=a.procesal.tipo?e("div",{staticClass:"row mb-3"},[a._m(1)]):a._e(),"NATURAL"==a.procesal.tipo?e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"dni"}},[a._v("DNI")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.nat_dni,expression:"procesal.nat_dni"}],staticClass:"form-control",attrs:{type:"text",id:"dni",placeholder:"12345678"},domProps:{value:a.procesal.nat_dni},on:{keyup:function(e){return a.filterpersona()},input:function(e){e.target.composing||a.$set(a.procesal,"nat_dni",e.target.value)}}})])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Apellido Paterno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.nat_apellido_paterno,expression:"procesal.nat_apellido_paterno"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Alarcon"},domProps:{value:a.procesal.nat_apellido_paterno},on:{input:function(e){e.target.composing||a.$set(a.procesal,"nat_apellido_paterno",e.target.value)}}})])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Apellido Materno")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.nat_apellido_materno,expression:"procesal.nat_apellido_materno"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ramirez"},domProps:{value:a.procesal.nat_apellido_materno},on:{input:function(e){e.target.composing||a.$set(a.procesal,"nat_apellido_materno",e.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Nombres")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.nat_nombres,expression:"procesal.nat_nombres"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Jhon Doe"},domProps:{value:a.procesal.nat_nombres},on:{input:function(e){e.target.composing||a.$set(a.procesal,"nat_nombres",e.target.value)}}})])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Telefono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.nat_telefono,expression:"procesal.nat_telefono"}],staticClass:"form-control",attrs:{type:"text",placeholder:"980560345"},domProps:{value:a.procesal.nat_telefono},on:{input:function(e){e.target.composing||a.$set(a.procesal,"nat_telefono",e.target.value)}}})])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label"},[a._v("Email ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.nat_correo,expression:"procesal.nat_correo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"example@gmail.com"},domProps:{value:a.procesal.nat_correo},on:{input:function(e){e.target.composing||a.$set(a.procesal,"nat_correo",e.target.value)}}})])])])]):a._e(),"JURIDICA"==a.procesal.tipo?e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"ruc"}},[a._v("RUC")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.jur_ruc,expression:"procesal.jur_ruc"}],staticClass:"form-control",attrs:{type:"text",id:"ruc",placeholder:""},domProps:{value:a.procesal.jur_ruc},on:{keyup:function(e){return a.filterpersona()},input:function(e){e.target.composing||a.$set(a.procesal,"jur_ruc",e.target.value)}}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"razonSocial"}},[a._v("Nombre o Razon Social")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.jur_razon_social,expression:"procesal.jur_razon_social"}],staticClass:"form-control",attrs:{type:"text",id:"razonSocial",placeholder:""},domProps:{value:a.procesal.jur_razon_social},on:{input:function(e){e.target.composing||a.$set(a.procesal,"jur_razon_social",e.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"telefono"}},[a._v("Telefono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.jur_telefono,expression:"procesal.jur_telefono"}],staticClass:"form-control",attrs:{type:"text",id:"telefono",placeholder:""},domProps:{value:a.procesal.jur_telefono},on:{input:function(e){e.target.composing||a.$set(a.procesal,"jur_telefono",e.target.value)}}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[a._v("Email ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.jur_correo,expression:"procesal.jur_correo"}],staticClass:"form-control",attrs:{type:"text",id:"email",placeholder:""},domProps:{value:a.procesal.jur_correo},on:{input:function(e){e.target.composing||a.$set(a.procesal,"jur_correo",e.target.value)}}})])])])]):a._e(),a._m(2),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"departamento"}},[a._v("Departamento")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.procesal.dep_id,expression:"procesal.dep_id"}],staticClass:"form-control",attrs:{id:"departamento"},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.procesal,"dep_id",e.target.multiple?t:t[0])},a.cargarProvinciasConRetraso]}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[a._v("Seleccione una opción")]),a._l(a.departamentos,(function(t){return e("option",{domProps:{value:t.dep_id}},[a._v(a._s(t.dep_nombre)+" ")])}))],2)])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"provincia"}},[a._v("Provincia")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.procesal.pro_id,expression:"procesal.pro_id"}],staticClass:"form-control",attrs:{id:"provincia"},on:{change:[function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.procesal,"pro_id",e.target.multiple?t:t[0])},a.cargarDistritosConRetraso]}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[a._v("Seleccione una opción")]),a._l(a.provincias,(function(t){return e("option",{domProps:{value:t.pro_id}},[a._v(a._s(t.pro_nombre))])}))],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"distrito"}},[a._v("Distrito")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.procesal.dis_id,expression:"procesal.dis_id"}],staticClass:"form-control",attrs:{id:"distrito"},on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,(function(a){return a.selected})).map((function(a){var e="_value"in a?a._value:a.value;return e}));a.$set(a.procesal,"dis_id",e.target.multiple?t:t[0])}}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[a._v("Seleccione una opción")]),a._l(a.distritos,(function(t){return e("option",{domProps:{value:t.dis_id}},[a._v(a._s(t.dis_nombre)+" ")])}))],2)])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"calleAvenida"}},[a._v("Calle, Avenida, Mz, S/N")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.procesal.dir_calle_av,expression:"procesal.dir_calle_av"}],staticClass:"form-control",attrs:{type:"text",id:"calleAvenida",placeholder:"Av. Peru 2345"},domProps:{value:a.procesal.dir_calle_av},on:{input:function(e){e.target.composing||a.$set(a.procesal,"dir_calle_av",e.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn btn-success btn-lg rounded px-4",on:{click:a.addPart}},[a._v(" "+a._s(null===a.editingIndex?"Guardar":"Actualizar")+" ")]),e("button",{staticClass:"btn btn-secondary btn-lg rounded mx-2",attrs:{type:"button"},on:{click:a.anteriorParte}},[e("i",{attrs:{"data-feather":"arrow-left"}}),a._v(" Anterior")]),e("button",{staticClass:"btn btn-primary btn-lg rounded",attrs:{type:"button"},on:{click:a.siguienteParte}},[a._v(" Siguiente"),e("i",{attrs:{"data-feather":"arrow-right"}})])])])])])])]),a.showModal?e("div",{staticClass:"modal",on:{click:a.cerrarModal}},[e("div",{staticClass:"modal-content card border-0",on:{click:function(a){a.stopPropagation()}}},[a._m(3),e("div",{staticClass:"card-body p-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table",attrs:{id:"table"}},[a._m(4),e("tbody",a._l(a.personas,(function(t,r){return e("tr",{key:r},[e("td",{staticClass:"pl-4"},[a._v(a._s(r+1))]),e("td",[a._v(a._s(t.nat_dni||t.jur_ruc))]),e("td",[a._v(a._s(t.nat_nombres||t.jur_razon_social))]),e("td",[a._v(a._s(t.nat_telefono||t.jur_telefono))]),e("td",[a._v(a._s(t.nat_correo||t.jur_correo))]),e("td",[a._v(a._s(t.procesal))]),e("td",[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return a.editarPersona(r)}}},[a._v("Editar")]),e("a",{staticClass:"ml-2 text-danger",attrs:{href:"javascript:void(0)"},on:{click:function(e){return a.eliminarPersona(r)}}},[a._v(" Eliminar")])])])})),0)])])]),e("div",{staticClass:"card-footer border-0 pt-2 pb-4"},[e("div",{staticClass:"d-flex"},[e("button",{staticClass:"btn btn-secondary btn-lg ml-auto px-5 rounded",on:{click:a.cerrarModal}},[a._v("Cerrar")])])])])]):a._e()])},w=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"col-xl-6 col-sm-12"},[e("h5",[a._v(" Registrar Partes Procesales")])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"alert alert-primary text-primary",attrs:{role:"alert"}},[a._v(" Informacion Personal ")])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"row my-2"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"alert alert-primary text-primary",attrs:{role:"alert"}},[a._v(" Direccion ")])])])},function(){var a=this,e=a._self._c;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"text-center"},[a._v("Lista de Procesales")])])},function(){var a=this,e=a._self._c;return e("thead",[e("tr",[e("th",{staticClass:"pl-4"},[a._v("#")]),e("th",[a._v("Documento")]),e("th",[a._v("Nombre")]),e("th",[a._v("Telefono")]),e("th",[a._v("Email")]),e("th",[a._v("Procesal")]),e("th",[a._v("Opciones")])])])}],P=t(38280),N=(t(11118),t(46587)),$={name:"RegistroProcesal",mounted(){this.$nextTick((()=>{c().replace(),this.initDataTable()}))},props:{Personas:[]},data(){return{dataTable:null,editingIndex:null,departamentos:[],provincias:[],distritos:[],procesal:{dir_calle_av:"",dis_id:"",pro_id:"",dep_id:"",nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:"",jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:"",tipo:"",procesal:"",condicion:""},personas:[],errores:{tipo_procesal:!1,tipo_persona:!1,condicion1:!1,nat_dni:!1,nat_apellido_materno:!1,nat_apellido_materno:!1,nat_nombres:!1,jur_ruc:!1,jur_razon_social:!1,dep_id:!1,pro_id:!1,dis_id:!1,dir_calle_av:!1},modalVisible:!1,showModal:!1}},async created(){this.personas=this.Personas,await this.cargarDepartamentos()},methods:{...(0,P.i0)(["get","post"]),editarPersona(a){this.procesal={...this.personas[a]},this.editingIndex=a},eliminarPersona(a){this.personas.splice(a,1)},addPart(){null!==this.editingIndex?(this.personas.splice(this.editingIndex,1,{...this.procesal}),this.editingIndex=null,this.procesal={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:"",nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:"",jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:"",tipo:"",procesal:"",condicion:""}):(this.personas.push({...this.procesal}),this.procesal={dir_calle_av:"",dis_id:"",pro_id:"",dep_id:"",nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:"",jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:"",tipo:"",procesal:"",condicion:""})},async cargarDepartamentos(){try{const a=await(0,d.bQ)("department",this);this.departamentos=a.data,this.provincias=[],this.distritos=[]}catch(a){this.$handleApiError(a,"cargar departamentos")}},async cargarProvincias(){if(this.procesal.dep_id)try{const a={dep_id:this.procesal.dep_id},e=await(0,d.LS)("department/provincias",this,a);this.provincias=e.data}catch(a){this.$handleApiError(a,"cargar provincias")}},async cargarDistritos(){if(this.procesal.pro_id)try{const a={pro_id:this.procesal.pro_id},e=await(0,d.LS)("department/distritos",this,a);this.distritos=e.data}catch(a){this.$handleApiError(a,"cargar provincias")}},cargarProvinciasConRetraso(){setTimeout((()=>{this.cargarProvincias()}),500)},cargarDistritosConRetraso(){setTimeout((()=>{this.cargarDistritos()}),1e3)},anteriorParte:function(){this.$emit("anteriorParte"),this.$emit("guardarPersona",this.personas)},siguienteParte:function(){if(0===this.personas.length)return console.info("debe registrar por lo menos una persona");this.$emit("siguienteParte"),this.$emit("guardarPersona",this.personas)},mostrarModal(){this.initDataTable(),this.showModal=!0},cerrarModal(){this.showModal=!1},async filterpersona(){let a;if("NATURAL"==this.procesal.tipo){if(8===this.procesal.nat_dni.length){a=_().fire({title:"Buscando",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});try{const e=await o.A.post(`${this.$store.getters.get__url}/proceeding/filterprocesal`,{doc:this.procesal.nat_dni,tipo:this.procesal.tipo},{headers:{Authorization:`Bearer ${this.$store.getters.get__token}`}});a&&a.close(),0==e.data.state?(_().fire("Datos Encontrados","Ok","success"),this.procesal.nat_apellido_paterno=e.data.data.nat_apellido_paterno,this.procesal.nat_apellido_materno=e.data.data.nat_apellido_materno,this.procesal.nat_nombres=e.data.data.nat_nombres,this.procesal.nat_telefono=e.data.data.nat_telefono,this.procesal.nat_correo=e.data.data.nat_correo,this.procesal.dep_id=e.data.dir.dep_id,this.cargarProvincias(),this.procesal.pro_id=e.data.dir.pro_id,this.cargarDistritos(),this.procesal.dis_id=e.data.dir.dis_id,this.procesal.dir_calle_av=e.data.dir.dir_calle_av):(_().fire("Datos No encontrados","Registre","warning"),this.procesal.dir_calle_av="",this.procesal.dis_id="",this.procesal.pro_id="",this.procesal.dep_id="",this.procesal.nat_apellido_paterno="",this.procesal.nat_apellido_materno="",this.procesal.nat_nombres="",this.procesal.nat_telefono="",this.procesal.nat_correo="")}catch(e){a&&a.close(),_().fire("Datos No encontrados","Registre","warning"),this.procesal.dir_calle_av="",this.procesal.dis_id="",this.procesal.pro_id="",this.procesal.dep_id="",this.procesal.nat_apellido_paterno="",this.procesal.nat_apellido_materno="",this.procesal.nat_nombres="",this.procesal.nat_telefono="",this.procesal.nat_correo=""}}}else if(11===this.procesal.jur_ruc.length){a=_().fire({title:"Buscando",text:"Por favor espera...",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>_().showLoading()});try{const e=await o.A.post(`${this.$store.getters.get__url}/proceeding/filterprocesal`,{doc:this.procesal.jur_ruc,tipo:this.procesal.tipo},{headers:{Authorization:`Bearer ${this.$store.getters.get__token}`}});a&&a.close(),0==e.data.state?(_().fire("Datos Encontrados","Ok","success"),this.procesal.jur_razon_social=e.data.data.jur_razon_social,this.procesal.jur_telefono=e.data.data.jur_telefono,this.procesal.jur_correo=e.data.data.jur_correo,this.procesal.jur_rep_legal=e.data.data.jur_rep_legal,this.procesal.dep_id=e.data.dir.dep_id,this.cargarProvincias(),this.procesal.pro_id=e.data.dir.pro_id,this.cargarDistritos(),this.procesal.dis_id=e.data.dir.dis_id,this.procesal.dir_calle_av=e.data.dir.dir_calle_av):(_().fire("Datos No encontrados","Registre","warning"),this.procesal.dir_calle_av="",this.procesal.dis_id="",this.procesal.pro_id="",this.procesal.dep_id="",this.procesal.jur_razon_social="",this.procesal.jur_telefono="",this.procesal.jur_correo="",this.procesal.jur_rep_legal="")}catch(e){a&&a.close(),_().fire("Datos No encontrados","Registre","warning"),this.procesal.dir_calle_av="",this.procesal.dis_id="",this.procesal.pro_id="",this.procesal.dep_id="",this.procesal.jur_razon_social="",this.procesal.jur_telefono="",this.procesal.jur_correo="",this.procesal.jur_rep_legal=""}}},initDataTable(){this.$nextTick((()=>{this.dataTable=N("#table").DataTable({language:{url:"//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"}}),c().replace()}))}}},D=$,E=(0,v.A)(D,y,w,!1,null,"308caaa4",null),I=E.exports,z=function(){var a=this,e=a._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card shadow rounded"},[a._m(0),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"abogado"}},[a._v("Abogado asignado al expediente en registro")]),e("input",{staticClass:"form-control border-0",attrs:{type:"text",name:"abogado",id:"abogado",readonly:""},domProps:{value:a.abogado_name},on:{input:a.validarAsignacion}}),a.errores.asignacionAbogado?e("span",{staticClass:"error-message"},[a._v("Debe asignar un abogado para Finalizar el registro del expediente.")]):a._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[a._v("#")]),e("th",[a._v("DNI")]),e("th",[a._v("Apellidos")]),e("th",[a._v("Nombres")]),a.validarRolUser()?e("th",{staticClass:"text-center"},[a._v("Expedientes Asignados")]):a._e(),e("th",{staticClass:"text-center"},[a._v("Asignar")])])]),e("tbody",a._l(a.abogados,(function(t){return e("tr",{key:t.nat_dni},[e("td",[e("div",{staticClass:"circle"},[a._v(a._s(t.nat_nombres.charAt(0)))])]),e("td",[a._v(a._s(t.nat_dni))]),e("td",[a._v(a._s(t.nat_apellido_paterno+" "+t.nat_apellido_materno))]),e("td",[a._v(a._s(t.nat_nombres))]),a.validarRolUser()?e("td",{staticClass:"text-center"},[a._v(a._s(t.abo_carga_laboral)+" Expediente")]):a._e(),e("td",{staticClass:"text-center"},[e("button",{class:a.abogado_id===t.abo_id?"btn quitar py-1 rounded":"btn asignar py-1 rounded",attrs:{type:"button"},on:{click:function(e){return a.toggleAsignar(t)}}},[a._v(" "+a._s(a.abogado_id===t.abo_id?"Quitar":"Asignar")+" ")])])])})),0)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"ml-auto"},[e("button",{staticClass:"btn btn-secondary btn-lg rounded",attrs:{type:"button"},on:{click:a.anteriorParte}},[e("i",{attrs:{"data-feather":"arrow-left"}}),a._v(" Anterior")]),e("button",{staticClass:"btn btn-primary btn-lg rounded ml-2 px-4",attrs:{type:"button"},on:{click:a.Finalizar}},[a._v(" Finalizar ")])])])])])])])])},R=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"card-header"},[e("h5",{staticClass:"text-secondary"},[a._v("Asignacion de abogado")])])}],S={props:{abo_id:"",abo_name:""},mounted(){this.$nextTick((()=>{c().replace()}))},data(){return{abogados:[],abogadoAsignado:null,abogado_id:"",abogado_name:"",errores:{asignacionAbogado:!1},rol:null,viewData:!1}},created(){this.abogado_id=this.abo_id,this.abogado_name=this.abo_name,this.rol=this.$store.getters.get__user.usu_rol,this.cargarAbogados(),this.validarRolUser()},methods:{...(0,P.i0)(["get","post"]),validarRolUser(){if("ADMIN"===this.rol)return this.viewData=!0},toggleAsignar(a){this.abogadoAsignado===a?(this.abogadoAsignado=null,this.abogado_id=null,this.abogado_name=null,this.validarAsignacion()):(this.abogadoAsignado=a,this.abogado_id=a.abo_id,this.abogado_name=a.nat_apellido_paterno+" "+a.nat_apellido_materno+" "+a.nat_nombres,this.validarAsignacion())},async cargarAbogados(){try{const a=await(0,d.bQ)("lawyer",this);this.abogados=a.data}catch(a){this.$handleApiError(a,"cargar departamentos")}},validarAsignacion(){return""===this.abogado_name?this.errores.asignacionAbogado=!0:this.errores.asignacionAbogado=!1,!this.errores.asignacionAbogado},anteriorParte(){this.$emit("anteriorParte"),this.$emit("guardaraboid",this.abogado_id),this.$emit("guardaraboname",this.abogado_name)},Finalizar(){this.validarAsignacion()&&(this.$emit("guardaraboid",this.abogado_id),this.$emit("guardaraboname",this.abogado_name),this.$emit("InsertData"))}}},T=S,k=(0,v.A)(T,z,R,!1,null,"4c016d64",null),U=k.exports,M={name:"Registro",components:{RegistroGeneral:g,RegistroProcesal:A,RegistroProcesalMultiple:I,RegistroAsignacion:U},data(){return{ismultiple:"1",currentPart:1,exp:{carpetafiscal:"",exp_numero:"",exp_fecha_inicio:"",exp_pretencion:"",exp_materia:"",exp_distrito_judicial:"",exp_instancia:"",exp_especialidad:"",exp_monto_pretencion:"",exp_juzgado:"",exp_estado_proceso:"",exp_costos:"",exp_monto_ejecucion1:"",exp_monto_ejecucion2:"",exp_interes1:"",exp_interes2:""},Personas:[],pn:{nat_dni:"",nat_apellido_paterno:"",nat_apellido_materno:"",nat_nombres:"",nat_telefono:"",nat_correo:""},pj:{jur_ruc:"",jur_razon_social:"",jur_telefono:"",jur_correo:"",jur_rep_legal:""},dir:{dir_calle_av:"",dis_id:"",pro_id:"",dep_id:""},abo_id:"",abo_name:"",tipopersona:"",procesal:"",condicion:""}},methods:{siguienteParte(){this.currentPart<3&&this.currentPart++},anteriorParte(){this.currentPart>1&&this.currentPart--},guardardatosgenerales(a){this.exp=a},guardarpersona(a){this.personas=a},guardarpn(a){this.pn=a},guardarpj(a){this.pj=a},guardardir(a){this.dir=a},guardartipopersona(a){this.tipopersona=a},guardarcondicion(a){this.condicion=a},guardarprocesal(a){this.procesal=a},guardaraboid(a){this.abo_id=a},guardaraboname(a){this.abo_name=a},guardarpersonas(a){this.Personas=a},guardarmultiple(a){this.ismultiple=a},async InsertData(){const a=this.$store.getters.get__url+"/proceeding/registrarcaso",e=this.$store.getters.get__token,t={multiple:this.ismultiple,Personas:this.Personas,exp:this.exp,pj:this.pj,pn:this.pn,dir:this.dir,tipopersona:this.tipopersona,abo_id:this.abo_id,procesal:this.procesal,condicion:this.condicion,tipo:2};o.A.post(a,t,{headers:{Authorization:`Bearer ${e}`}}).then((a=>{this.loader=!1,0==a.data.state?(this.loader=!1,this.limpiar(),this.$router.push({path:"/expediente/busqueda"})):(this.loader=!1,alert("Datos  no Registrados"))})).catch((a=>{this.loader=!1,console.error(a)}))},limpiar:function(){this.exp.exp_numero,this.exp.exp_fecha_inicio,this.exp.exp_pretencion,this.exp.exp_materia,this.exp.exp_juzgado,this.exp.exp_monto_pretencion,this.pn.nat_dni,this.pn.nat_apellido_paterno,this.pn.nat_apellido_materno,this.pn.nat_nombres,this.pn.nat_telefono,this.pn.nat_correo,this.pj.jur_ruc,this.pj.jur_razon_social,this.pj.jur_telefono,this.pj.jur_correo,this.pj.jur_rep_legal,this.dir.dir_calle_av,this.dir.dis_id,this.dir.pro_id,this.dir.dep_id,localStorage.removeItem("formData"),this.abo_id,this.abo_name,this.tipoPersona,this.tipoParte}}},O=M,L=(0,v.A)(O,r,s,!1,null,null,null),B=L.exports}}]);
//# sourceMappingURL=9936.3d04fe94.js.map