{"version":3,"file":"js/635.1a2f76c3.js","mappings":"+JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACJ,EAAIK,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,eAAe,CAACE,YAAY,oBAAoBE,MAAM,CAAC,QAAUN,EAAIO,iBAAiBC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,SAASC,GAAK,MAAO,CAACV,EAAG,IAAI,CAACF,EAAIa,GAAGb,EAAIc,GAAGF,EAAIG,aAAab,EAAG,IAAI,CAACF,EAAIa,GAAGb,EAAIc,GAAGF,EAAII,MAAMC,UAAU,QAAQ,YAC9iB,EACIC,EAAkB,CAAC,WAAY,IAAIlB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACJ,EAAIa,GAAG,4BAC5J,G,6ECuGA,GACAM,WAAA,CACAC,aAAAA,EAAAA,GAEAC,OAAAA,GACA,KAAAC,MACA,EACAC,IAAAA,GACA,OACAhB,gBAAA,CACAiB,QAAA,CAAAC,EAAAA,EAAAC,EAAAA,EAAAC,EAAAA,IACAC,cAAA,CACAC,KAAA,kBACAC,OAAA,QACAC,MAAA,yCAEAC,YAAA,eACAC,UAAA,EACAC,YAAA,YACAC,cAAA,EACAC,OAAAC,EAAAA,EACAC,OAAA,IAEAC,WAAA,GACAC,gBAAA,GACAC,QAAA,GACAC,aAAA,GAEA,EACAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,gBACAC,oBAAAA,GACA,KAAAtC,gBAAA0B,UAAA,KAAA1B,gBAAA0B,QACA,EACA,UAAAX,GACA,IACA,KAAAwB,oBACA,MAAAC,QAAA,KAAAC,SAAA,mBACAC,QAAAC,IAAAH,GACA,KAAAR,WAAAQ,EAAAR,WACA,KAAAE,QAAAM,EAAAN,QACA,KAAAU,eAEA,KAAAC,oBACA,OAAAC,GACA,KAAAC,gBAAAD,EAAA,kBACA,CACA,EAgBAF,YAAAA,GACA,MAAAb,EAAA,GACA,IAAAiB,EAAA,EAEA,KAAAhB,WAAAiB,SAAAC,IACA,IAAAC,EAAAD,EAAAC,WACAC,EAAA,GAGAA,EADAD,GAAA,GAAAA,EAAA,IACA,UACAA,GAAA,KAAAA,EAAA,IACA,UAEA,UAGApB,EAAAsB,KAAA,CACAC,GAAAN,EACAtC,MAAA,4BAAAwC,EAAAK,aACAC,MAAAN,EAAAO,SACAL,gBAAAA,IAEAJ,GAAA,IAGA,KAAAd,QAAAe,SAAAS,IACA,IAAAP,EAAAO,EAAAC,eACAP,EAAA,GAGAA,EADAD,GAAA,GAAAA,EAAA,IACA,UACAA,GAAA,KAAAA,EAAA,IACA,UAEA,UAGApB,EAAAsB,KAAA,CACAC,GAAAN,EACAtC,MAAA,yBAAAgD,EAAAE,iBACAJ,MAAAE,EAAAG,sBACAT,gBAAAA,IAEAJ,GAAA,IAGA,KAAAhD,gBAAA+B,OAAAA,CACA,EACA+B,kBAAAA,CAAAX,GACA,OAAAA,GAAA,GAAAA,EAAA,IACA,aACAA,GAAA,KAAAA,EAAA,IACA,aAEA,sBAEA,ICjO2Q,I,WCQvQY,GAAY,OACd,EACAvE,EACAmB,GACA,EACA,KACA,KACA,MAIF,EAAeoD,EAAiB,O","sources":["webpack://legalcase/./src/modules/legal/actividades/Calendario.vue","webpack://legalcase/src/modules/legal/actividades/Calendario.vue","webpack://legalcase/./src/modules/legal/actividades/Calendario.vue?450c","webpack://legalcase/./src/modules/legal/actividades/Calendario.vue?fb41"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"pc-container pb-4\"},[_c('div',{staticClass:\"pcoded-content\"},[_vm._m(0),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"card shadow border-0\"},[_c('div',{staticClass:\"card-body\"},[_c('FullCalendar',{staticClass:\"demo-app-calendar\",attrs:{\"options\":_vm.calendarOptions},scopedSlots:_vm._u([{key:\"eventContent\",fn:function(arg){return [_c('b',[_vm._v(_vm._s(arg.timeText))]),_c('i',[_vm._v(_vm._s(arg.event.title))])]}}])})],1)])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row mb-4\"},[_c('h5',{staticClass:\"text-dark fw-bold\"},[_vm._v(\"Calendario de eventos\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"pc-container pb-4\">\r\n    <div class=\"pcoded-content\">\r\n      <div class=\"row mb-4\">\r\n        <h5 class=\"text-dark fw-bold\">Calendario de eventos</h5>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"card shadow border-0\">\r\n            <div class=\"card-body\">\r\n              <FullCalendar class=\"demo-app-calendar\" :options=\"calendarOptions\">\r\n                <template v-slot:eventContent=\"arg\">\r\n                  <b>{{ arg.timeText }}</b>\r\n                  <i>{{ arg.event.title }}</i>\r\n                </template>\r\n              </FullCalendar>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"col-md-4\">\r\n          <div class=\"card shadow border-0\">\r\n            <div class=\"card-body\">\r\n              <label class=\"form-check-label\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" :checked=\"calendarOptions.weekends\"\r\n                  @change=\"handleWeekendsToggle\" />\r\n                Incluir fines de semana\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div class=\"card shadow rounded\">\r\n            <div class=\"card-header py-3\">\r\n              <div class=\"d-flex align-items-center\">\r\n                <h5 class=\"ml-0 text-secondary\">Audiencias</h5>\r\n                <router-link to=\"/sisge/audiencias\" class=\"btn btn-primary btn-sm ml-2 ml-auto rounded-pill px-3\"> Ver más\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-body px-3 py-2\">\r\n              <ul class=\"list-unstyled pt-2\">\r\n                <li v-if=\"audiencias.length == 0\">\r\n                  <p class=\"text-secondary text-center fs-6\">Cargando...</p>\r\n                </li>\r\n                <div v-else>\r\n                  <li v-for=\"audiencia in audiencias_list\" :key=\"audiencia.id\" class=\"py-1\">\r\n                    <div class=\"d-grid text-white p-3\" :class=\"getBackgroundColor(audiencia.porcentaje)\">\r\n                      <div class=\"d-flex\">\r\n                        <p class=\"event-start mb-0 pb-0 fw-bold\">{{ audiencia.fecha }}</p>\r\n                        <p class=\"event-start ml-auto mb-0 pb-0 fw-bold\">{{ audiencia.au_hora }}</p>\r\n                      </div>\r\n                      <p class=\"event-start my-0 py-0\">\r\n                        {{ audiencia.exp_numero }}\r\n                      </p>\r\n                      <p class=\"event-description mt-0 pt-0\">\r\n                        {{ audiencia.au_detalles }}\r\n                      </p>\r\n                    </div>\r\n                  </li>\r\n                </div>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div class=\"card shadow rounded\">\r\n            <div class=\"card-header py-3\">\r\n              <div class=\"d-flex align-items-center\">\r\n                <h5 class=\"ml-0 text-secondary\">Alertas</h5>\r\n                <router-link to=\"/sisge/alertas\" class=\"btn btn-primary btn-sm ml-2 ml-auto rounded-pill px-3\"> Ver más\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-body px-3 py-2\">\r\n              <ul class=\"list-unstyled pt-2\">\r\n                <li v-if=\"alertas.length == 0\">\r\n                  <p class=\"text-secondary text-center fs-6\">Cargando...</p>\r\n                </li>\r\n                <div v-else>\r\n                  <li v-for=\"alerta in alertas_list\" :key=\"alerta.id\" class=\"py-1\">\r\n                    <div class=\"d-grid text-white p-3\" :class=\"getBackgroundColor(alerta.ale_porcentaje)\">\r\n                      <p class=\"event-start mb-0 pb-0 fw-bold\">{{ alerta.fecha }}</p>\r\n                      <p class=\"event-start  my-0 py-0\">\r\n                        {{ `${alerta.ale_expediente}` }}\r\n                      </p>\r\n                      <p class=\"event-description mt-0 pt-0\">\r\n                        {{ `${alerta.ale_descripcion}` }}\r\n                      </p>\r\n                    </div>\r\n                  </li>\r\n                </div>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport FullCalendar from '@fullcalendar/vue'\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport timeGridPlugin from '@fullcalendar/timegrid'\r\nimport interactionPlugin from '@fullcalendar/interaction'\r\nimport esLocale from '@fullcalendar/core/locales/es';\r\nimport { mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  components: {\r\n    FullCalendar\r\n  },\r\n  created() {\r\n    this.leer();\r\n  },\r\n  data() {\r\n    return {\r\n      calendarOptions: {\r\n        plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\r\n        headerToolbar: {\r\n          left: 'prev,next today',\r\n          center: 'title',\r\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\r\n        },\r\n        initialView: 'dayGridMonth',\r\n        weekends: true,\r\n        themeSystem: 'bootstrap',\r\n        dayMaxEvents: true,\r\n        locale: esLocale,\r\n        events: []\r\n      },\r\n      audiencias: [],\r\n      audiencias_list: [],\r\n      alertas: [],\r\n      alertas_list: []\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['get', 'post']),\r\n    handleWeekendsToggle() {\r\n      this.calendarOptions.weekends = !this.calendarOptions.weekends\r\n    },\r\n    async leer() {\r\n      try {\r\n        this.$showLoadingAlert();\r\n        const result = await this.$getData('calendario', this);\r\n        console.log(result);\r\n        this.audiencias = result.audiencias;\r\n        this.alertas = result.alertas;\r\n        this.formatEvents();\r\n        \r\n        this.$closeLoadingAlert();\r\n      } catch (error) {\r\n        this.$handleApiError(error, 'leer calendario');\r\n      }\r\n    },\r\n    // eventos() {\r\n    //   this.get({\r\n    //     url: this.$store.getters.get__url + \"/calendario\",\r\n    //     token: this.$store.getters.get__token,\r\n    //   })\r\n    //     .then((response) => {\r\n    //       console.log(response);\r\n    //       this.audiencias = response.audiencias;\r\n    //       this.audiencias_list = response.audiencias.slice(0, 1);\r\n    //       this.alertas = response.alertas;\r\n    //       this.alertas_list = response.alertas.slice(0, 1);\r\n    //       this.formatEvents();\r\n    //     })\r\n    //     .catch((errors) => { });\r\n    // },\r\n    formatEvents() {\r\n      const events = [];\r\n      let contador = 1;\r\n\r\n      this.audiencias.forEach((audiencia) => {\r\n        let porcentaje = audiencia.porcentaje;\r\n        let backgroundColor = '';\r\n\r\n        if (porcentaje <= 1 && porcentaje > 0.67) {\r\n          backgroundColor = '#17C666'; // Porcentaje mayor o igual a 1.0\r\n        } else if (porcentaje <= 0.67 && porcentaje > 0.33) {\r\n          backgroundColor = '#fd7e14'; // Porcentaje mayor o igual a 0.67 y menor que 1.0\r\n        } else {\r\n          backgroundColor = '#EA4D4D'; // Porcentaje menor que 0.67\r\n        }\r\n\r\n        events.push({\r\n          id: contador,\r\n          title: `Audiencia: Expediente :: ${audiencia.exp_numero}`,\r\n          start: audiencia.au_fecha,\r\n          backgroundColor: backgroundColor\r\n        });\r\n        contador++;\r\n      });\r\n\r\n      this.alertas.forEach((alerta) => {\r\n        let porcentaje = alerta.ale_porcentaje;\r\n        let backgroundColor = '';\r\n\r\n        if (porcentaje <= 1 && porcentaje > 0.67) {\r\n          backgroundColor = '#17C666'; // Porcentaje mayor o igual a 1.0\r\n        } else if (porcentaje <= 0.67 && porcentaje > 0.33) {\r\n          backgroundColor = '#fd7e14'; // Porcentaje mayor o igual a 0.67 y menor que 1.0\r\n        } else {\r\n          backgroundColor = '#EA4D4D'; // Porcentaje menor que 0.67\r\n        }\r\n\r\n        events.push({\r\n          id: contador,\r\n          title: `Alerta: Expediente :: ${alerta.ale_expediente}`,\r\n          start: alerta.ale_fecha_vencimiento,\r\n          backgroundColor: backgroundColor // Color de fondo basado en el porcentaje\r\n        });\r\n        contador++;\r\n      });\r\n\r\n      this.calendarOptions.events = events;\r\n    },\r\n    getBackgroundColor(porcentaje) {\r\n      if (porcentaje <= 1 && porcentaje > 0.67) {\r\n        return 'bg-success'; // Verde\r\n      } else if (porcentaje <= 0.67 && porcentaje > 0.33) {\r\n        return 'bg-warning'; // Naranja\r\n      } else {\r\n        return 'bg-danger text-white'; // Rojo (con texto blanco)\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.event-start {\r\n  font-size: 12px;\r\n}\r\n\r\n.event-start {\r\n  font-weight: 500;\r\n}\r\n\r\n.event-title {\r\n  color: #7267EF;\r\n}\r\n\r\n.event-title,\r\n.event-description {\r\n  margin-left: 10px;\r\n  font-size: 11px;\r\n}\r\n\r\n.fc {\r\n  background-color: #fff;\r\n}\r\n\r\n.fc-event,\r\n.fc-event-start,\r\n.fc-event-end,\r\n.fc-event-future,\r\n.fc-daygrid-event,\r\n.fc-daygrid-block-event,\r\n.fc-h-event {\r\n  border: none !important;\r\n}\r\n\r\n.fc-toolbar-title {\r\n  font-size: 13px;\r\n  color: #495057;\r\n}\r\n\r\n.fd .tr {\r\n  background-color: #f5f5f5;\r\n  color: #000;\r\n}\r\n\r\n.fc-scroller-harness {\r\n  height: 25px;\r\n  border-bottom: 1px solid #f1f1f1;\r\n}\r\n\r\n.fc-day {\r\n  width: 50px;\r\n  height: 50px;\r\n}\r\n\r\n.fc-col-header-cell-cushion {\r\n  color: #495057;\r\n  list-style: none;\r\n  text-decoration: none;\r\n  font-size: 13px;\r\n\r\n}\r\n\r\n.fc-daygrid-day-number {\r\n  color: #495057;\r\n  list-style: none;\r\n  text-decoration: none;\r\n  font-size: 13px;\r\n}\r\n\r\n.fc-next-button,\r\n.fc-button,\r\n.fc-button-primary {\r\n  background-color: #7267EF !important;\r\n  border-color: #7267EF !important;\r\n  color: #fff !important;\r\n  /* border-radius: 7px !important; */\r\n}\r\n\r\n.d-grid {\r\n  border-radius: 4px !important;\r\n}\r\n\r\n.fc-popover-header {\r\n  width: 365px;\r\n  background-color: #7267EF !important;\r\n  color: #fff;\r\n  padding: 5px 10px !important;\r\n  border-top-right-radius: 4px;\r\n  border-top-left-radius: 4px;\r\n}\r\n\r\n.fc-popover-body {\r\n  width: 365px;\r\n  background-color: #fff;\r\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;\r\n  border-bottom-left-radius: 4px;\r\n  border-bottom-right-radius: 4px;\r\n}\r\n\r\n.fc-event,\r\n.fc-event-draggable,\r\n.fc-event-resizable,\r\n.fc-event-start,\r\n.fc-event-end,\r\n.fc-event-future,\r\n.fc-daygrid-event,\r\n.fc-daygrid-dot-event {\r\n  padding-top: 7.5px !important;\r\n  padding-bottom: 7.5px !important;\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Calendario.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Calendario.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Calendario.vue?vue&type=template&id=0cdd125e\"\nimport script from \"./Calendario.vue?vue&type=script&lang=js\"\nexport * from \"./Calendario.vue?vue&type=script&lang=js\"\nimport style0 from \"./Calendario.vue?vue&type=style&index=0&id=0cdd125e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","attrs","calendarOptions","scopedSlots","_u","key","fn","arg","_v","_s","timeText","event","title","staticRenderFns","components","FullCalendar","created","leer","data","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","headerToolbar","left","center","right","initialView","weekends","themeSystem","dayMaxEvents","locale","esLocale","events","audiencias","audiencias_list","alertas","alertas_list","methods","mapActions","handleWeekendsToggle","$showLoadingAlert","result","$getData","console","log","formatEvents","$closeLoadingAlert","error","$handleApiError","contador","forEach","audiencia","porcentaje","backgroundColor","push","id","exp_numero","start","au_fecha","alerta","ale_porcentaje","ale_expediente","ale_fecha_vencimiento","getBackgroundColor","component"],"sourceRoot":""}